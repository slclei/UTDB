{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { PBRMode as i } from \"./PhysicallyBasedRenderingParameters.glsl.js\";\nimport { glsl as n } from \"../../shaderModules/interfaces.js\";\n\nfunction t(t, e) {\n  const a = t.fragment,\n        m = void 0 !== e.lightingSphericalHarmonicsOrder ? e.lightingSphericalHarmonicsOrder : 2;\n  0 === m ? (a.uniforms.add(\"lightingAmbientSH0\", \"vec3\"), a.code.add(n`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)) : 1 === m ? (a.uniforms.add(\"lightingAmbientSH_R\", \"vec4\"), a.uniforms.add(\"lightingAmbientSH_G\", \"vec4\"), a.uniforms.add(\"lightingAmbientSH_B\", \"vec4\"), a.code.add(n`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)) : 2 === m && (a.uniforms.add(\"lightingAmbientSH0\", \"vec3\"), a.uniforms.add(\"lightingAmbientSH_R1\", \"vec4\"), a.uniforms.add(\"lightingAmbientSH_G1\", \"vec4\"), a.uniforms.add(\"lightingAmbientSH_B1\", \"vec4\"), a.uniforms.add(\"lightingAmbientSH_R2\", \"vec4\"), a.uniforms.add(\"lightingAmbientSH_G2\", \"vec4\"), a.uniforms.add(\"lightingAmbientSH_B2\", \"vec4\"), a.code.add(n`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`), e.pbrMode !== i.Normal && e.pbrMode !== i.Schematic || a.code.add(n`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`));\n}\n\nexport { t as EvaluateAmbientLighting };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js"],"names":["PBRMode","i","glsl","n","t","e","a","fragment","m","lightingSphericalHarmonicsOrder","uniforms","add","code","pbrMode","Normal","Schematic","EvaluateAmbientLighting"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,OAAO,IAAIC,CAAlB,QAAwB,8CAAxB;AAAuE,SAAOC,IAAI,IAAIC,CAAf,QAAqB,mCAArB;;AAAyD,SAASC,CAAT,CAAWA,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAMC,CAAC,GAACF,CAAC,CAACG,QAAV;AAAA,QAAmBC,CAAC,GAAC,KAAK,CAAL,KAASH,CAAC,CAACI,+BAAX,GAA2CJ,CAAC,CAACI,+BAA7C,GAA6E,CAAlG;AAAoG,QAAID,CAAJ,IAAOF,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,oBAAf,EAAoC,MAApC,GAA4CL,CAAC,CAACM,IAAF,CAAOD,GAAP,CAAWR,CAAE;AACpT;AACA;AACA,EAHuS,CAAnD,IAG/O,MAAIK,CAAJ,IAAOF,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,qBAAf,EAAqC,MAArC,GAA6CL,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,qBAAf,EAAqC,MAArC,CAA7C,EAA0FL,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,qBAAf,EAAqC,MAArC,CAA1F,EAAuIL,CAAC,CAACM,IAAF,CAAOD,GAAP,CAAWR,CAAE;AAChK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAbmJ,CAA9I,IAaA,MAAIK,CAAJ,KAAQF,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,oBAAf,EAAoC,MAApC,GAA4CL,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,sBAAf,EAAsC,MAAtC,CAA5C,EAA0FL,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,sBAAf,EAAsC,MAAtC,CAA1F,EAAwIL,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,sBAAf,EAAsC,MAAtC,CAAxI,EAAsLL,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,sBAAf,EAAsC,MAAtC,CAAtL,EAAoOL,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,sBAAf,EAAsC,MAAtC,CAApO,EAAkRL,CAAC,CAACI,QAAF,CAAWC,GAAX,CAAe,sBAAf,EAAsC,MAAtC,CAAlR,EAAgUL,CAAC,CAACM,IAAF,CAAOD,GAAP,CAAWR,CAAE;AAC1V;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAzB6U,CAAhU,EAyBTE,CAAC,CAACQ,OAAF,KAAYZ,CAAC,CAACa,MAAd,IAAsBT,CAAC,CAACQ,OAAF,KAAYZ,CAAC,CAACc,SAApC,IAA+CT,CAAC,CAACM,IAAF,CAAOD,GAAP,CAAWR,CAAE;AAChE;AACA;AACA;AACA;AACA,EALmD,CAzB9C,CAhB+O;AA8C/O;;AAAA,SAAOC,CAAC,IAAIY,uBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{PBRMode as i}from\"./PhysicallyBasedRenderingParameters.glsl.js\";import{glsl as n}from\"../../shaderModules/interfaces.js\";function t(t,e){const a=t.fragment,m=void 0!==e.lightingSphericalHarmonicsOrder?e.lightingSphericalHarmonicsOrder:2;0===m?(a.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),a.code.add(n`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):1===m?(a.uniforms.add(\"lightingAmbientSH_R\",\"vec4\"),a.uniforms.add(\"lightingAmbientSH_G\",\"vec4\"),a.uniforms.add(\"lightingAmbientSH_B\",\"vec4\"),a.code.add(n`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):2===m&&(a.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),a.uniforms.add(\"lightingAmbientSH_R1\",\"vec4\"),a.uniforms.add(\"lightingAmbientSH_G1\",\"vec4\"),a.uniforms.add(\"lightingAmbientSH_B1\",\"vec4\"),a.uniforms.add(\"lightingAmbientSH_R2\",\"vec4\"),a.uniforms.add(\"lightingAmbientSH_G2\",\"vec4\"),a.uniforms.add(\"lightingAmbientSH_B2\",\"vec4\"),a.code.add(n`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`),e.pbrMode!==i.Normal&&e.pbrMode!==i.Schematic||a.code.add(n`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`))}export{t as EvaluateAmbientLighting};\n"]},"metadata":{},"sourceType":"module"}