{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport \"../../core/has.js\";\nimport { isNone as e } from \"../../core/maybe.js\";\nimport { BufferType as r, CompressedTextureFormat as t, SizedPixelFormat as s, RenderbufferFormat as a, PixelFormat as c } from \"./enums.js\";\n\nfunction i(e) {\n  const r = e.gl;\n\n  switch (r.getError()) {\n    case r.NO_ERROR:\n      return null;\n\n    case r.INVALID_ENUM:\n      return \"An unacceptable value has been specified for an enumerated argument\";\n\n    case r.INVALID_VALUE:\n      return \"A numeric argument is out of range\";\n\n    case r.INVALID_OPERATION:\n      return \"The specified command is not allowed for the current state\";\n\n    case r.INVALID_FRAMEBUFFER_OPERATION:\n      return \"The currently bound framebuffer is not framebuffer complete\";\n\n    case r.OUT_OF_MEMORY:\n      return \"Not enough memory is left to execute the command\";\n\n    case r.CONTEXT_LOST_WEBGL:\n      return \"WebGL context is lost\";\n  }\n\n  return \"Unknown error\";\n}\n\nfunction n(e, r) {\n  return e.vertexBuffers[r].size / o(e.layout[r]);\n}\n\nfunction o(e) {\n  return e[0].stride;\n}\n\nfunction R(e, r, t, s) {\n  let a = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  const c = e.gl,\n        i = e.capabilities.instancing;\n  e.bindBuffer(t);\n\n  for (const n of s) {\n    const e = r.get(n.name);\n    void 0 === e && console.error(`There is no location for vertex attribute '${n.name}' defined.`);\n    const t = a * n.stride;\n    if (n.count <= 4) c.vertexAttribPointer(e, n.count, n.type, n.normalized, n.stride, n.offset + t), c.enableVertexAttribArray(e), n.divisor > 0 && i && i.vertexAttribDivisor(e, n.divisor);else if (9 === n.count) for (let r = 0; r < 3; r++) c.vertexAttribPointer(e + r, 3, n.type, n.normalized, n.stride, n.offset + 12 * r + t), c.enableVertexAttribArray(e + r), n.divisor > 0 && i && i.vertexAttribDivisor(e + r, n.divisor);else if (16 === n.count) for (let r = 0; r < 4; r++) c.vertexAttribPointer(e + r, 4, n.type, n.normalized, n.stride, n.offset + 16 * r + t), c.enableVertexAttribArray(e + r), n.divisor > 0 && i && i.vertexAttribDivisor(e + r, n.divisor);else console.error(\"Unsupported vertex attribute element count: \" + n.count);\n  }\n}\n\nfunction E(e, t, s, a) {\n  const c = e.gl,\n        i = e.capabilities.instancing;\n  e.bindBuffer(s);\n\n  for (const r of a) {\n    const e = t.get(r.name);\n    if (r.count <= 4) c.disableVertexAttribArray(e), r.divisor && r.divisor > 0 && i && i.vertexAttribDivisor(e, 0);else if (9 === r.count) for (let t = 0; t < 3; t++) c.disableVertexAttribArray(e + t), r.divisor && r.divisor > 0 && i && i.vertexAttribDivisor(e + t, 0);else if (16 === r.count) for (let t = 0; t < 4; t++) c.disableVertexAttribArray(e + t), r.divisor && r.divisor > 0 && i && i.vertexAttribDivisor(e + t, 0);else console.error(\"Unsupported vertex attribute element count: \" + r.count);\n  }\n\n  e.unbindBuffer(r.ARRAY_BUFFER);\n}\n\nfunction _(e) {\n  switch (e) {\n    case c.ALPHA:\n    case c.LUMINANCE:\n    case c.RED:\n    case c.RED_INTEGER:\n    case s.R8:\n    case s.R8I:\n    case s.R8UI:\n    case s.R8_SNORM:\n    case a.STENCIL_INDEX8:\n      return 1;\n\n    case c.LUMINANCE_ALPHA:\n    case c.RG:\n    case c.RG_INTEGER:\n    case s.RGBA4:\n    case s.R16F:\n    case s.R16I:\n    case s.R16UI:\n    case s.RG8:\n    case s.RG8I:\n    case s.RG8UI:\n    case s.RG8_SNORM:\n    case s.RGB565:\n    case s.RGB5_A1:\n    case a.DEPTH_COMPONENT16:\n      return 2;\n\n    case c.DEPTH_COMPONENT:\n    case c.RGB:\n    case c.RGB_INTEGER:\n    case s.RGB8:\n    case s.RGB8I:\n    case s.RGB8UI:\n    case s.RGB8_SNORM:\n    case s.SRGB8:\n    case a.DEPTH_COMPONENT24:\n      return 3;\n\n    case c.DEPTH_STENCIL:\n    case c.RGBA:\n    case c.RGBA_INTEGER:\n    case s.RGBA8:\n    case s.R32F:\n    case s.R11F_G11F_B10F:\n    case s.RG16F:\n    case s.R32I:\n    case s.R32UI:\n    case s.RG16I:\n    case s.RG16UI:\n    case s.RGBA8I:\n    case s.RGBA8UI:\n    case s.RGBA8_SNORM:\n    case s.SRGB8_ALPHA8:\n    case s.RGB9_E5:\n    case s.RGB10_A2UI:\n    case s.RGB10_A2:\n    case a.DEPTH_STENCIL:\n    case a.DEPTH_COMPONENT32F:\n    case a.DEPTH24_STENCIL8:\n      return 4;\n\n    case a.DEPTH32F_STENCIL8:\n      return 5;\n\n    case s.RGB16F:\n    case s.RGB16I:\n    case s.RGB16UI:\n      return 6;\n\n    case s.RG32F:\n    case s.RG32I:\n    case s.RG32UI:\n    case s.RGBA16F:\n    case s.RGBA16I:\n    case s.RGBA16UI:\n      return 8;\n\n    case s.RGB32F:\n    case s.RGB32I:\n    case s.RGB32UI:\n      return 12;\n\n    case s.RGBA32F:\n    case s.RGBA32I:\n    case s.RGBA32UI:\n      return 16;\n\n    case t.COMPRESSED_RGB_S3TC_DXT1_EXT:\n    case t.COMPRESSED_RGBA_S3TC_DXT1_EXT:\n      return .5;\n\n    case t.COMPRESSED_RGBA_S3TC_DXT3_EXT:\n    case t.COMPRESSED_RGBA_S3TC_DXT5_EXT:\n      return 1;\n\n    case t.COMPRESSED_R11_EAC:\n    case t.COMPRESSED_SIGNED_R11_EAC:\n    case t.COMPRESSED_RGB8_ETC2:\n    case t.COMPRESSED_SRGB8_ETC2:\n    case t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:\n    case t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:\n      return .5;\n\n    case t.COMPRESSED_RG11_EAC:\n    case t.COMPRESSED_SIGNED_RG11_EAC:\n    case t.COMPRESSED_RGBA8_ETC2_EAC:\n    case t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:\n      return 1;\n  }\n\n  return 0;\n}\n\nfunction u(r) {\n  if (e(r)) return 0;\n  if (\"descriptor\" in r) return r.glName ? u(r.descriptor) : 0;\n  const t = r.internalFormat || \"pixelFormat\" in r && r.pixelFormat;\n  if (!t) return 0;\n  const s = \"hasMipmap\" in r && r.hasMipmap ? 1.3 : 1,\n        a = r.width * r.height;\n  return _(t) * a * s;\n}\n\nexport { R as bindVertexBufferLayout, _ as getBytesPerElementFormat, i as getErrorString, u as getGpuMemoryUsage, o as getStride, E as unbindVertexBufferLayout, n as vertexCount };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/webgl/Util.js"],"names":["isNone","e","BufferType","r","CompressedTextureFormat","t","SizedPixelFormat","s","RenderbufferFormat","a","PixelFormat","c","i","gl","getError","NO_ERROR","INVALID_ENUM","INVALID_VALUE","INVALID_OPERATION","INVALID_FRAMEBUFFER_OPERATION","OUT_OF_MEMORY","CONTEXT_LOST_WEBGL","n","vertexBuffers","size","o","layout","stride","R","capabilities","instancing","bindBuffer","get","name","console","error","count","vertexAttribPointer","type","normalized","offset","enableVertexAttribArray","divisor","vertexAttribDivisor","E","disableVertexAttribArray","unbindBuffer","ARRAY_BUFFER","_","ALPHA","LUMINANCE","RED","RED_INTEGER","R8","R8I","R8UI","R8_SNORM","STENCIL_INDEX8","LUMINANCE_ALPHA","RG","RG_INTEGER","RGBA4","R16F","R16I","R16UI","RG8","RG8I","RG8UI","RG8_SNORM","RGB565","RGB5_A1","DEPTH_COMPONENT16","DEPTH_COMPONENT","RGB","RGB_INTEGER","RGB8","RGB8I","RGB8UI","RGB8_SNORM","SRGB8","DEPTH_COMPONENT24","DEPTH_STENCIL","RGBA","RGBA_INTEGER","RGBA8","R32F","R11F_G11F_B10F","RG16F","R32I","R32UI","RG16I","RG16UI","RGBA8I","RGBA8UI","RGBA8_SNORM","SRGB8_ALPHA8","RGB9_E5","RGB10_A2UI","RGB10_A2","DEPTH_COMPONENT32F","DEPTH24_STENCIL8","DEPTH32F_STENCIL8","RGB16F","RGB16I","RGB16UI","RG32F","RG32I","RG32UI","RGBA16F","RGBA16I","RGBA16UI","RGB32F","RGB32I","RGB32UI","RGBA32F","RGBA32I","RGBA32UI","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_R11_EAC","COMPRESSED_SIGNED_R11_EAC","COMPRESSED_RGB8_ETC2","COMPRESSED_SRGB8_ETC2","COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_RG11_EAC","COMPRESSED_SIGNED_RG11_EAC","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","u","glName","descriptor","internalFormat","pixelFormat","hasMipmap","width","height","bindVertexBufferLayout","getBytesPerElementFormat","getErrorString","getGpuMemoryUsage","getStride","unbindVertexBufferLayout","vertexCount"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as e}from\"../../core/maybe.js\";import{BufferType as r,CompressedTextureFormat as t,SizedPixelFormat as s,RenderbufferFormat as a,PixelFormat as c}from\"./enums.js\";function i(e){const r=e.gl;switch(r.getError()){case r.NO_ERROR:return null;case r.INVALID_ENUM:return\"An unacceptable value has been specified for an enumerated argument\";case r.INVALID_VALUE:return\"A numeric argument is out of range\";case r.INVALID_OPERATION:return\"The specified command is not allowed for the current state\";case r.INVALID_FRAMEBUFFER_OPERATION:return\"The currently bound framebuffer is not framebuffer complete\";case r.OUT_OF_MEMORY:return\"Not enough memory is left to execute the command\";case r.CONTEXT_LOST_WEBGL:return\"WebGL context is lost\"}return\"Unknown error\"}function n(e,r){return e.vertexBuffers[r].size/o(e.layout[r])}function o(e){return e[0].stride}function R(e,r,t,s,a=0){const c=e.gl,i=e.capabilities.instancing;e.bindBuffer(t);for(const n of s){const e=r.get(n.name);void 0===e&&console.error(`There is no location for vertex attribute '${n.name}' defined.`);const t=a*n.stride;if(n.count<=4)c.vertexAttribPointer(e,n.count,n.type,n.normalized,n.stride,n.offset+t),c.enableVertexAttribArray(e),n.divisor>0&&i&&i.vertexAttribDivisor(e,n.divisor);else if(9===n.count)for(let r=0;r<3;r++)c.vertexAttribPointer(e+r,3,n.type,n.normalized,n.stride,n.offset+12*r+t),c.enableVertexAttribArray(e+r),n.divisor>0&&i&&i.vertexAttribDivisor(e+r,n.divisor);else if(16===n.count)for(let r=0;r<4;r++)c.vertexAttribPointer(e+r,4,n.type,n.normalized,n.stride,n.offset+16*r+t),c.enableVertexAttribArray(e+r),n.divisor>0&&i&&i.vertexAttribDivisor(e+r,n.divisor);else console.error(\"Unsupported vertex attribute element count: \"+n.count)}}function E(e,t,s,a){const c=e.gl,i=e.capabilities.instancing;e.bindBuffer(s);for(const r of a){const e=t.get(r.name);if(r.count<=4)c.disableVertexAttribArray(e),r.divisor&&r.divisor>0&&i&&i.vertexAttribDivisor(e,0);else if(9===r.count)for(let t=0;t<3;t++)c.disableVertexAttribArray(e+t),r.divisor&&r.divisor>0&&i&&i.vertexAttribDivisor(e+t,0);else if(16===r.count)for(let t=0;t<4;t++)c.disableVertexAttribArray(e+t),r.divisor&&r.divisor>0&&i&&i.vertexAttribDivisor(e+t,0);else console.error(\"Unsupported vertex attribute element count: \"+r.count)}e.unbindBuffer(r.ARRAY_BUFFER)}function _(e){switch(e){case c.ALPHA:case c.LUMINANCE:case c.RED:case c.RED_INTEGER:case s.R8:case s.R8I:case s.R8UI:case s.R8_SNORM:case a.STENCIL_INDEX8:return 1;case c.LUMINANCE_ALPHA:case c.RG:case c.RG_INTEGER:case s.RGBA4:case s.R16F:case s.R16I:case s.R16UI:case s.RG8:case s.RG8I:case s.RG8UI:case s.RG8_SNORM:case s.RGB565:case s.RGB5_A1:case a.DEPTH_COMPONENT16:return 2;case c.DEPTH_COMPONENT:case c.RGB:case c.RGB_INTEGER:case s.RGB8:case s.RGB8I:case s.RGB8UI:case s.RGB8_SNORM:case s.SRGB8:case a.DEPTH_COMPONENT24:return 3;case c.DEPTH_STENCIL:case c.RGBA:case c.RGBA_INTEGER:case s.RGBA8:case s.R32F:case s.R11F_G11F_B10F:case s.RG16F:case s.R32I:case s.R32UI:case s.RG16I:case s.RG16UI:case s.RGBA8I:case s.RGBA8UI:case s.RGBA8_SNORM:case s.SRGB8_ALPHA8:case s.RGB9_E5:case s.RGB10_A2UI:case s.RGB10_A2:case a.DEPTH_STENCIL:case a.DEPTH_COMPONENT32F:case a.DEPTH24_STENCIL8:return 4;case a.DEPTH32F_STENCIL8:return 5;case s.RGB16F:case s.RGB16I:case s.RGB16UI:return 6;case s.RG32F:case s.RG32I:case s.RG32UI:case s.RGBA16F:case s.RGBA16I:case s.RGBA16UI:return 8;case s.RGB32F:case s.RGB32I:case s.RGB32UI:return 12;case s.RGBA32F:case s.RGBA32I:case s.RGBA32UI:return 16;case t.COMPRESSED_RGB_S3TC_DXT1_EXT:case t.COMPRESSED_RGBA_S3TC_DXT1_EXT:return.5;case t.COMPRESSED_RGBA_S3TC_DXT3_EXT:case t.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case t.COMPRESSED_R11_EAC:case t.COMPRESSED_SIGNED_R11_EAC:case t.COMPRESSED_RGB8_ETC2:case t.COMPRESSED_SRGB8_ETC2:case t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return.5;case t.COMPRESSED_RG11_EAC:case t.COMPRESSED_SIGNED_RG11_EAC:case t.COMPRESSED_RGBA8_ETC2_EAC:case t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}function u(r){if(e(r))return 0;if(\"descriptor\"in r)return r.glName?u(r.descriptor):0;const t=r.internalFormat||\"pixelFormat\"in r&&r.pixelFormat;if(!t)return 0;const s=\"hasMipmap\"in r&&r.hasMipmap?1.3:1,a=r.width*r.height;return _(t)*a*s}export{R as bindVertexBufferLayout,_ as getBytesPerElementFormat,i as getErrorString,u as getGpuMemoryUsage,o as getStride,E as unbindVertexBufferLayout,n as vertexCount};\n"]},"metadata":{},"sourceType":"module"}