{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"../Dictionary.js\";\nimport r from \"../Feature.js\";\nimport n from \"../ImmutablePointArray.js\";\nimport { p as t, a as i, b as a, s as o, G as l, H as s, v as f, f as c, d as u, o as m, j as g, i as p, c as h, y as w, e as y, J as E } from \"../../chunks/languageUtils.js\";\nimport R from \"../../geometry/Extent.js\";\nimport I from \"../../geometry/Geometry.js\";\nimport A from \"../../geometry/Multipoint.js\";\nimport d from \"../../geometry/Point.js\";\nimport F from \"../../geometry/Polygon.js\";\nimport S from \"../../geometry/Polyline.js\";\nimport { angle2D as G, angleBetween2D as j, bearing2D as O, bearingBetween2D as b, pathsSelfIntersecting as x } from \"./centroid.js\";\nimport { fromJSON as N } from \"../../geometry/support/jsonUtils.js\";\nimport { isClockwise as J } from \"../../geometry/support/coordsUtils.js\";\n\nfunction D(e) {\n  return e && \"esri.arcade.Feature\" === e.arcadeDeclaredClass;\n}\n\nfunction P(P, M) {\n  P.ringisclockwise = function (e, r) {\n    return M(e, r, function (e, r, o) {\n      t(o, 1, 1);\n      let l = [],\n          s = !1,\n          f = !1;\n      if (null === o[0]) return !1;\n\n      if (i(o[0])) {\n        for (const e of o[0]) {\n          if (!(e instanceof d)) throw new Error(\"Invalid Argument\");\n          l.push(e.hasZ ? e.hasM ? [e.x, e.y, e.z, e.m] : [e.x, e.y, e.z] : [e.x, e.y]);\n        }\n\n        l.length > 0 && (s = o[0][0].hasZ, f = o[0][0].hasM);\n      } else if (o[0] instanceof n) l = o[0]._elements, l.length > 0 && (s = o[0]._hasZ, f = o[0]._hasM);else {\n        if (!a(o[0])) throw new Error(\"Invalid Argument\");\n\n        for (const e of o[0].toArray()) {\n          if (!(e instanceof d)) throw new Error(\"Invalid Argument\");\n          l.push(e.hasZ ? e.hasM ? [e.x, e.y, e.z, e.m] : [e.x, e.y, e.z] : [e.x, e.y]);\n        }\n\n        l.length > 0 && (s = o[0].get(0).hasZ, f = o[0].get(0).hasM);\n      }\n\n      return !(l.length < 3) && J(l, f, s);\n    });\n  }, P.polygon = function (n, i) {\n    return M(n, i, function (i, a, s) {\n      t(s, 1, 1);\n      let f = null;\n\n      if (s[0] instanceof e) {\n        if (f = o(r.parseGeometryFromDictionary(s[0]), n.spatialReference), f instanceof F == !1) throw new Error(\"Illegal Parameter\");\n      } else f = s[0] instanceof F ? N(s[0].toJSON()) : o(new F(JSON.parse(s[0])), n.spatialReference);\n\n      if (null !== f && !1 === f.spatialReference.equals(n.spatialReference)) throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");\n      return l(f);\n    });\n  }, P.polyline = function (n, i) {\n    return M(n, i, function (i, a, s) {\n      t(s, 1, 1);\n      let f = null;\n\n      if (s[0] instanceof e) {\n        if (f = o(r.parseGeometryFromDictionary(s[0]), n.spatialReference), f instanceof S == !1) throw new Error(\"Illegal Parameter\");\n      } else f = s[0] instanceof S ? N(s[0].toJSON()) : o(new S(JSON.parse(s[0])), n.spatialReference);\n\n      if (null !== f && !1 === f.spatialReference.equals(n.spatialReference)) throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");\n      return l(f);\n    });\n  }, P.point = function (n, i) {\n    return M(n, i, function (i, a, s) {\n      t(s, 1, 1);\n      let f = null;\n\n      if (s[0] instanceof e) {\n        if (f = o(r.parseGeometryFromDictionary(s[0]), n.spatialReference), f instanceof d == !1) throw new Error(\"Illegal Parameter\");\n      } else f = s[0] instanceof d ? N(s[0].toJSON()) : o(new d(JSON.parse(s[0])), n.spatialReference);\n\n      if (null !== f && !1 === f.spatialReference.equals(n.spatialReference)) throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");\n      return l(f);\n    });\n  }, P.multipoint = function (n, i) {\n    return M(n, i, function (i, a, s) {\n      t(s, 1, 1);\n      let f = null;\n\n      if (s[0] instanceof e) {\n        if (f = o(r.parseGeometryFromDictionary(s[0]), n.spatialReference), f instanceof A == !1) throw new Error(\"Illegal Parameter\");\n      } else f = s[0] instanceof A ? N(s[0].toJSON()) : o(new A(JSON.parse(s[0])), n.spatialReference);\n\n      if (null !== f && !1 === f.spatialReference.equals(n.spatialReference)) throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");\n      return l(f);\n    });\n  }, P.extent = function (n, i) {\n    return M(n, i, function (i, a, f) {\n      f = s(f), t(f, 1, 1);\n      let c = null;\n      if (f[0] instanceof e) c = o(r.parseGeometryFromDictionary(f[0]), n.spatialReference);else if (f[0] instanceof d) {\n        const e = {\n          xmin: f[0].x,\n          ymin: f[0].y,\n          xmax: f[0].x,\n          ymax: f[0].y,\n          spatialReference: f[0].spatialReference.toJSON()\n        },\n              r = f[0];\n        r.hasZ ? (e.zmin = r.z, e.zmax = r.z) : r.hasM && (e.mmin = r.m, e.mmax = r.m), c = N(e);\n      } else c = f[0] instanceof F || f[0] instanceof S || f[0] instanceof A ? N(f[0].extent.toJSON()) : f[0] instanceof R ? N(f[0].toJSON()) : o(new R(JSON.parse(f[0])), n.spatialReference);\n      if (null !== c && !1 === c.spatialReference.equals(n.spatialReference)) throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");\n      return l(c);\n    });\n  }, P.geometry = function (n, i) {\n    return M(n, i, function (i, a, s) {\n      t(s, 1, 1);\n      let f = null;\n      if (null === s[0]) return null;\n      if (f = D(s[0]) ? o(s[0].geometry(), n.spatialReference) : s[0] instanceof e ? o(r.parseGeometryFromDictionary(s[0]), n.spatialReference) : o(N(JSON.parse(s[0])), n.spatialReference), null !== f && !1 === f.spatialReference.equals(n.spatialReference)) throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");\n      return l(f);\n    });\n  }, P.setgeometry = function (e, r) {\n    return M(e, r, function (e, r, n) {\n      if (t(n, 2, 2), !D(n[0])) throw new Error(\"Illegal Argument\");\n      if (!0 === n[0].immutable) throw new Error(\"Feature is Immutable\");\n      if (!(n[1] instanceof I || null === n[1])) throw new Error(\"Illegal Argument\");\n      return n[0]._geometry = n[1], f;\n    });\n  }, P.feature = function (n, t) {\n    return M(n, t, function (t, i, a) {\n      if (0 === a.length) throw new Error(\"Missing Parameters\");\n      let l = null;\n      if (1 === a.length) {\n        if (c(a[0])) l = r.fromJson(JSON.parse(a[0]));else if (D(a[0])) l = r.createFromArcadeFeature(a[0]);else if (a[0] instanceof I) l = r.createFromGraphicLikeObject(a[0], null, null);else {\n          if (!(a[0] instanceof e)) throw new Error(\"Illegal Argument\");\n          {\n            let n = a[0].hasField(\"geometry\") ? a[0].field(\"geometry\") : null,\n                t = a[0].hasField(\"attributes\") ? a[0].field(\"attributes\") : null;\n            null !== n && n instanceof e && (n = r.parseGeometryFromDictionary(n)), null !== t && (t = r.parseAttributesFromDictionary(t)), l = r.createFromGraphicLikeObject(n, t, null);\n          }\n        }\n      } else if (2 === a.length) {\n        let n = null,\n            t = null;\n        if (null !== a[0]) if (a[0] instanceof I) n = a[0];else {\n          if (!(n instanceof e)) throw new Error(\"Illegal Argument\");\n          n = r.parseGeometryFromDictionary(a[0]);\n        }\n\n        if (null !== a[1]) {\n          if (!(a[1] instanceof e)) throw new Error(\"Illegal Argument\");\n          t = r.parseAttributesFromDictionary(a[1]);\n        }\n\n        l = r.createFromGraphicLikeObject(n, t, null);\n      } else {\n        let n = null;\n        const t = {};\n        if (null !== a[0]) if (a[0] instanceof I) n = a[0];else {\n          if (!(n instanceof e)) throw new Error(\"Illegal Argument\");\n          n = r.parseGeometryFromDictionary(a[0]);\n        }\n\n        for (let e = 1; e < a.length; e += 2) {\n          const r = u(a[e]),\n                n = a[e + 1];\n          if (!(null == n || c(n) || isNaN(n) || m(n) || g(n) || p(n))) throw new Error(\"Illegal Argument\");\n          if (h(n) || !1 === w(n)) throw new Error(\"Illegal Argument\");\n          t[r] = n === f ? null : n;\n        }\n\n        l = r.createFromGraphicLikeObject(n, t, null);\n      }\n      return l._geometry = o(l.geometry(), n.spatialReference), l.immutable = !1, l;\n    });\n  }, P.dictionary = function (r, n) {\n    return M(r, n, function (r, n, t) {\n      if (0 === t.length) {\n        const r = new e();\n        return r.immutable = !1, r;\n      }\n\n      if (1 === t.length && c(t[0])) try {\n        const r = JSON.parse(t[0]),\n              n = e.convertObjectToArcadeDictionary(r, !1);\n        return n.immutable = !1, n;\n      } catch (s) {\n        throw new Error(\"Missing Parameters or Illegal Json\");\n      }\n      if (t.length % 2 != 0) throw new Error(\"Missing Parameters\");\n      const o = {};\n\n      for (let e = 0; e < t.length; e += 2) {\n        const r = u(t[e]),\n              n = t[e + 1];\n        if (!(null == n || c(n) || isNaN(n) || m(n) || g(n) || p(n) || i(n) || a(n))) throw new Error(\"Illegal Argument\");\n        if (h(n)) throw new Error(\"Illegal Argument\");\n        o[r] = n === f ? null : n;\n      }\n\n      const l = new e(o);\n      return l.immutable = !1, l;\n    });\n  }, P.haskey = function (r, n) {\n    return M(r, n, function (r, n, i) {\n      t(i, 2, 2);\n      const a = u(i[1]);\n      if (D(i[0])) return i[0].hasField(a);\n      if (i[0] instanceof e) return i[0].hasField(a);\n      throw new Error(\"Illegal Argument\");\n    });\n  }, P.indexof = function (e, r) {\n    return M(e, r, function (e, r, n) {\n      t(n, 2, 2);\n      const o = n[1];\n\n      if (i(n[0])) {\n        for (let e = 0; e < n[0].length; e++) if (y(o, n[0][e])) return e;\n\n        return -1;\n      }\n\n      if (a(n[0])) {\n        const e = n[0].length();\n\n        for (let r = 0; r < e; r++) if (y(o, n[0].get(r))) return r;\n\n        return -1;\n      }\n\n      throw new Error(\"Illegal Argument\");\n    });\n  }, P.angle = function (e, r) {\n    return M(e, r, function (e, r, n) {\n      if (n = s(n), t(n, 2, 3), !(n[0] instanceof d)) throw new Error(\"Illegal Argument\");\n      if (!(n[1] instanceof d)) throw new Error(\"Illegal Argument\");\n      if (n.length > 2 && !(n[2] instanceof d)) throw new Error(\"Illegal Argument\");\n      return 2 === n.length ? G(n[0], n[1]) : j(n[0], n[1], n[2]);\n    });\n  }, P.bearing = function (e, r) {\n    return M(e, r, function (e, r, n) {\n      if (n = s(n), t(n, 2, 3), !(n[0] instanceof d)) throw new Error(\"Illegal Argument\");\n      if (!(n[1] instanceof d)) throw new Error(\"Illegal Argument\");\n      if (n.length > 2 && !(n[2] instanceof d)) throw new Error(\"Illegal Argument\");\n      return 2 === n.length ? O(n[0], n[1]) : b(n[0], n[1], n[2]);\n    });\n  }, P.isselfintersecting = function (e, r) {\n    return M(e, r, function (r, n, o) {\n      o = s(o), t(o, 1, 1);\n      let l = o[0];\n      if (l instanceof F) return l.isSelfIntersecting;\n      if (l instanceof S) return l = l.paths, x(l);\n\n      if (l instanceof A) {\n        const e = l.points;\n\n        for (let r = 0; r < e.length; r++) for (let n = 0; n < e.length; n++) if (n !== r) {\n          let t = !0;\n\n          for (let i = 0; i < e[r].length; i++) if (e[r][i] !== e[n][i]) {\n            t = !1;\n            break;\n          }\n\n          if (!0 === t) return !0;\n        }\n      }\n\n      return !(!i(l) && !a(l)) && (l = E(l, e.spatialReference), null !== l && (l = l.paths), x(l));\n    });\n  };\n}\n\nexport { P as registerFunctions };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/arcade/functions/geometry.js"],"names":["e","r","n","p","t","a","i","b","s","o","G","l","H","v","f","c","d","u","m","j","g","h","y","w","J","E","R","I","A","F","S","angle2D","angleBetween2D","bearing2D","O","bearingBetween2D","pathsSelfIntersecting","x","fromJSON","N","isClockwise","D","arcadeDeclaredClass","P","M","ringisclockwise","Error","push","hasZ","hasM","z","length","_elements","_hasZ","_hasM","toArray","get","polygon","parseGeometryFromDictionary","spatialReference","toJSON","JSON","parse","equals","polyline","point","multipoint","extent","xmin","ymin","xmax","ymax","zmin","zmax","mmin","mmax","geometry","setgeometry","immutable","_geometry","feature","fromJson","createFromArcadeFeature","createFromGraphicLikeObject","hasField","field","parseAttributesFromDictionary","isNaN","dictionary","convertObjectToArcadeDictionary","haskey","indexof","angle","bearing","isselfintersecting","isSelfIntersecting","paths","points","registerFunctions"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../Dictionary.js\";import r from\"../Feature.js\";import n from\"../ImmutablePointArray.js\";import{p as t,a as i,b as a,s as o,G as l,H as s,v as f,f as c,d as u,o as m,j as g,i as p,c as h,y as w,e as y,J as E}from\"../../chunks/languageUtils.js\";import R from\"../../geometry/Extent.js\";import I from\"../../geometry/Geometry.js\";import A from\"../../geometry/Multipoint.js\";import d from\"../../geometry/Point.js\";import F from\"../../geometry/Polygon.js\";import S from\"../../geometry/Polyline.js\";import{angle2D as G,angleBetween2D as j,bearing2D as O,bearingBetween2D as b,pathsSelfIntersecting as x}from\"./centroid.js\";import{fromJSON as N}from\"../../geometry/support/jsonUtils.js\";import{isClockwise as J}from\"../../geometry/support/coordsUtils.js\";function D(e){return e&&\"esri.arcade.Feature\"===e.arcadeDeclaredClass}function P(P,M){P.ringisclockwise=function(e,r){return M(e,r,(function(e,r,o){t(o,1,1);let l=[],s=!1,f=!1;if(null===o[0])return!1;if(i(o[0])){for(const e of o[0]){if(!(e instanceof d))throw new Error(\"Invalid Argument\");l.push(e.hasZ?e.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])}l.length>0&&(s=o[0][0].hasZ,f=o[0][0].hasM)}else if(o[0]instanceof n)l=o[0]._elements,l.length>0&&(s=o[0]._hasZ,f=o[0]._hasM);else{if(!a(o[0]))throw new Error(\"Invalid Argument\");for(const e of o[0].toArray()){if(!(e instanceof d))throw new Error(\"Invalid Argument\");l.push(e.hasZ?e.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])}l.length>0&&(s=o[0].get(0).hasZ,f=o[0].get(0).hasM)}return!(l.length<3)&&J(l,f,s)}))},P.polygon=function(n,i){return M(n,i,(function(i,a,s){t(s,1,1);let f=null;if(s[0]instanceof e){if(f=o(r.parseGeometryFromDictionary(s[0]),n.spatialReference),f instanceof F==!1)throw new Error(\"Illegal Parameter\")}else f=s[0]instanceof F?N(s[0].toJSON()):o(new F(JSON.parse(s[0])),n.spatialReference);if(null!==f&&!1===f.spatialReference.equals(n.spatialReference))throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");return l(f)}))},P.polyline=function(n,i){return M(n,i,(function(i,a,s){t(s,1,1);let f=null;if(s[0]instanceof e){if(f=o(r.parseGeometryFromDictionary(s[0]),n.spatialReference),f instanceof S==!1)throw new Error(\"Illegal Parameter\")}else f=s[0]instanceof S?N(s[0].toJSON()):o(new S(JSON.parse(s[0])),n.spatialReference);if(null!==f&&!1===f.spatialReference.equals(n.spatialReference))throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");return l(f)}))},P.point=function(n,i){return M(n,i,(function(i,a,s){t(s,1,1);let f=null;if(s[0]instanceof e){if(f=o(r.parseGeometryFromDictionary(s[0]),n.spatialReference),f instanceof d==!1)throw new Error(\"Illegal Parameter\")}else f=s[0]instanceof d?N(s[0].toJSON()):o(new d(JSON.parse(s[0])),n.spatialReference);if(null!==f&&!1===f.spatialReference.equals(n.spatialReference))throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");return l(f)}))},P.multipoint=function(n,i){return M(n,i,(function(i,a,s){t(s,1,1);let f=null;if(s[0]instanceof e){if(f=o(r.parseGeometryFromDictionary(s[0]),n.spatialReference),f instanceof A==!1)throw new Error(\"Illegal Parameter\")}else f=s[0]instanceof A?N(s[0].toJSON()):o(new A(JSON.parse(s[0])),n.spatialReference);if(null!==f&&!1===f.spatialReference.equals(n.spatialReference))throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");return l(f)}))},P.extent=function(n,i){return M(n,i,(function(i,a,f){f=s(f),t(f,1,1);let c=null;if(f[0]instanceof e)c=o(r.parseGeometryFromDictionary(f[0]),n.spatialReference);else if(f[0]instanceof d){const e={xmin:f[0].x,ymin:f[0].y,xmax:f[0].x,ymax:f[0].y,spatialReference:f[0].spatialReference.toJSON()},r=f[0];r.hasZ?(e.zmin=r.z,e.zmax=r.z):r.hasM&&(e.mmin=r.m,e.mmax=r.m),c=N(e)}else c=f[0]instanceof F||f[0]instanceof S||f[0]instanceof A?N(f[0].extent.toJSON()):f[0]instanceof R?N(f[0].toJSON()):o(new R(JSON.parse(f[0])),n.spatialReference);if(null!==c&&!1===c.spatialReference.equals(n.spatialReference))throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");return l(c)}))},P.geometry=function(n,i){return M(n,i,(function(i,a,s){t(s,1,1);let f=null;if(null===s[0])return null;if(f=D(s[0])?o(s[0].geometry(),n.spatialReference):s[0]instanceof e?o(r.parseGeometryFromDictionary(s[0]),n.spatialReference):o(N(JSON.parse(s[0])),n.spatialReference),null!==f&&!1===f.spatialReference.equals(n.spatialReference))throw new Error(\"Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.\");return l(f)}))},P.setgeometry=function(e,r){return M(e,r,(function(e,r,n){if(t(n,2,2),!D(n[0]))throw new Error(\"Illegal Argument\");if(!0===n[0].immutable)throw new Error(\"Feature is Immutable\");if(!(n[1]instanceof I||null===n[1]))throw new Error(\"Illegal Argument\");return n[0]._geometry=n[1],f}))},P.feature=function(n,t){return M(n,t,(function(t,i,a){if(0===a.length)throw new Error(\"Missing Parameters\");let l=null;if(1===a.length)if(c(a[0]))l=r.fromJson(JSON.parse(a[0]));else if(D(a[0]))l=r.createFromArcadeFeature(a[0]);else if(a[0]instanceof I)l=r.createFromGraphicLikeObject(a[0],null,null);else{if(!(a[0]instanceof e))throw new Error(\"Illegal Argument\");{let n=a[0].hasField(\"geometry\")?a[0].field(\"geometry\"):null,t=a[0].hasField(\"attributes\")?a[0].field(\"attributes\"):null;null!==n&&n instanceof e&&(n=r.parseGeometryFromDictionary(n)),null!==t&&(t=r.parseAttributesFromDictionary(t)),l=r.createFromGraphicLikeObject(n,t,null)}}else if(2===a.length){let n=null,t=null;if(null!==a[0])if(a[0]instanceof I)n=a[0];else{if(!(n instanceof e))throw new Error(\"Illegal Argument\");n=r.parseGeometryFromDictionary(a[0])}if(null!==a[1]){if(!(a[1]instanceof e))throw new Error(\"Illegal Argument\");t=r.parseAttributesFromDictionary(a[1])}l=r.createFromGraphicLikeObject(n,t,null)}else{let n=null;const t={};if(null!==a[0])if(a[0]instanceof I)n=a[0];else{if(!(n instanceof e))throw new Error(\"Illegal Argument\");n=r.parseGeometryFromDictionary(a[0])}for(let e=1;e<a.length;e+=2){const r=u(a[e]),n=a[e+1];if(!(null==n||c(n)||isNaN(n)||m(n)||g(n)||p(n)))throw new Error(\"Illegal Argument\");if(h(n)||!1===w(n))throw new Error(\"Illegal Argument\");t[r]=n===f?null:n}l=r.createFromGraphicLikeObject(n,t,null)}return l._geometry=o(l.geometry(),n.spatialReference),l.immutable=!1,l}))},P.dictionary=function(r,n){return M(r,n,(function(r,n,t){if(0===t.length){const r=new e;return r.immutable=!1,r}if(1===t.length&&c(t[0]))try{const r=JSON.parse(t[0]),n=e.convertObjectToArcadeDictionary(r,!1);return n.immutable=!1,n}catch(s){throw new Error(\"Missing Parameters or Illegal Json\")}if(t.length%2!=0)throw new Error(\"Missing Parameters\");const o={};for(let e=0;e<t.length;e+=2){const r=u(t[e]),n=t[e+1];if(!(null==n||c(n)||isNaN(n)||m(n)||g(n)||p(n)||i(n)||a(n)))throw new Error(\"Illegal Argument\");if(h(n))throw new Error(\"Illegal Argument\");o[r]=n===f?null:n}const l=new e(o);return l.immutable=!1,l}))},P.haskey=function(r,n){return M(r,n,(function(r,n,i){t(i,2,2);const a=u(i[1]);if(D(i[0]))return i[0].hasField(a);if(i[0]instanceof e)return i[0].hasField(a);throw new Error(\"Illegal Argument\")}))},P.indexof=function(e,r){return M(e,r,(function(e,r,n){t(n,2,2);const o=n[1];if(i(n[0])){for(let e=0;e<n[0].length;e++)if(y(o,n[0][e]))return e;return-1}if(a(n[0])){const e=n[0].length();for(let r=0;r<e;r++)if(y(o,n[0].get(r)))return r;return-1}throw new Error(\"Illegal Argument\")}))},P.angle=function(e,r){return M(e,r,(function(e,r,n){if(n=s(n),t(n,2,3),!(n[0]instanceof d))throw new Error(\"Illegal Argument\");if(!(n[1]instanceof d))throw new Error(\"Illegal Argument\");if(n.length>2&&!(n[2]instanceof d))throw new Error(\"Illegal Argument\");return 2===n.length?G(n[0],n[1]):j(n[0],n[1],n[2])}))},P.bearing=function(e,r){return M(e,r,(function(e,r,n){if(n=s(n),t(n,2,3),!(n[0]instanceof d))throw new Error(\"Illegal Argument\");if(!(n[1]instanceof d))throw new Error(\"Illegal Argument\");if(n.length>2&&!(n[2]instanceof d))throw new Error(\"Illegal Argument\");return 2===n.length?O(n[0],n[1]):b(n[0],n[1],n[2])}))},P.isselfintersecting=function(e,r){return M(e,r,(function(r,n,o){o=s(o),t(o,1,1);let l=o[0];if(l instanceof F)return l.isSelfIntersecting;if(l instanceof S)return l=l.paths,x(l);if(l instanceof A){const e=l.points;for(let r=0;r<e.length;r++)for(let n=0;n<e.length;n++)if(n!==r){let t=!0;for(let i=0;i<e[r].length;i++)if(e[r][i]!==e[n][i]){t=!1;break}if(!0===t)return!0}}return!(!i(l)&&!a(l))&&(l=E(l,e.spatialReference),null!==l&&(l=l.paths),x(l))}))}}export{P as registerFunctions};\n"]},"metadata":{},"sourceType":"module"}