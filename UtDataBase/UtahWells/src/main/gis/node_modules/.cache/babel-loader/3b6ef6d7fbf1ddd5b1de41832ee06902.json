{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { c as e } from \"../../../chunks/mat3f32.js\";\nimport { EffectView as t } from \"../../../layers/effects/EffectView.js\";\nimport { DisplayObject as i } from \"./DisplayObject.js\";\n\nclass s extends i {\n  constructor() {\n    super(...arguments), this._childrenSet = new Set(), this._needsSort = !1, this.children = [], this._effectView = null;\n  }\n\n  get blendMode() {\n    return this._blendMode;\n  }\n\n  set blendMode(e) {\n    this._blendMode = e, this.requestRender();\n  }\n\n  get clips() {\n    return this._clips;\n  }\n\n  set clips(e) {\n    this._clips = e, this.children.forEach(t => t.clips = e);\n  }\n\n  get computedEffects() {\n    var e, t;\n    return null != (e = null == (t = this._effectView) ? void 0 : t.effects) ? e : null;\n  }\n\n  get effect() {\n    var e, t;\n    return null != (e = null == (t = this._effectView) ? void 0 : t.effect) ? e : \"\";\n  }\n\n  set effect(e) {\n    (this._effectView || e) && (this._effectView || (this._effectView = new t()), this._effectView.effect = e, this.requestRender());\n  }\n\n  updateTransitionProperties(e, t) {\n    super.updateTransitionProperties(e, t), this._effectView && (this._effectView.transitionStep(e, t), this._effectView.transitioning && this.requestRender());\n  }\n\n  doRender(e) {\n    const t = this.createRenderParams(e);\n    this.renderChildren(t);\n  }\n\n  addChild(e) {\n    return this.addChildAt(e, this.children.length);\n  }\n\n  addChildAt(e) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.children.length;\n    if (!e) return e;\n    if (this.contains(e)) return e;\n    this._needsSort = !0;\n    const i = e.parent;\n    return i && i !== this && i.removeChild(e), t >= this.children.length ? this.children.push(e) : this.children.splice(t, 0, e), this._childrenSet.add(e), e.parent = this, e.stage = this.stage, this !== this.stage && (e.clips = this.clips), this.requestRender(), e;\n  }\n\n  contains(e) {\n    return this._childrenSet.has(e);\n  }\n\n  removeAllChildren() {\n    this._childrenSet.clear(), this._needsSort = !0;\n\n    for (const e of this.children) this !== this.stage && (e.clips = null), e.stage = null, e.parent = null;\n\n    this.children.length = 0;\n  }\n\n  removeChild(e) {\n    return this.contains(e) ? this.removeChildAt(this.children.indexOf(e)) : e;\n  }\n\n  removeChildAt(e) {\n    if (e < 0 || e >= this.children.length) return null;\n    this._needsSort = !0;\n    const t = this.children.splice(e, 1)[0];\n    return this._childrenSet.delete(t), this !== this.stage && (t.clips = null), t.stage = null, t.parent = null, t;\n  }\n\n  sortChildren(e) {\n    this._needsSort && (this.children.sort(e), this._needsSort = !1);\n  }\n\n  _createTransforms() {\n    return {\n      dvs: e()\n    };\n  }\n\n  onAttach() {\n    super.onAttach();\n    const e = this.stage;\n\n    for (const t of this.children) t.stage = e;\n  }\n\n  onDetach() {\n    super.onDetach();\n\n    for (const e of this.children) e.stage = null;\n  }\n\n  renderChildren(e) {\n    for (const t of this.children) t.beforeRender(e);\n\n    for (const t of this.children) t.processRender(e);\n\n    for (const t of this.children) t.afterRender(e);\n  }\n\n  createRenderParams(e) {\n    return { ...e,\n      blendMode: this.blendMode,\n      effects: this.computedEffects,\n      globalOpacity: e.globalOpacity * this.computedOpacity,\n      inFadeTransition: this.inFadeTransition\n    };\n  }\n\n}\n\nexport { s as Container };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/Container.js"],"names":["c","e","EffectView","t","DisplayObject","i","s","constructor","arguments","_childrenSet","Set","_needsSort","children","_effectView","blendMode","_blendMode","requestRender","clips","_clips","forEach","computedEffects","effects","effect","updateTransitionProperties","transitionStep","transitioning","doRender","createRenderParams","renderChildren","addChild","addChildAt","length","contains","parent","removeChild","push","splice","add","stage","has","removeAllChildren","clear","removeChildAt","indexOf","delete","sortChildren","sort","_createTransforms","dvs","onAttach","onDetach","beforeRender","processRender","afterRender","globalOpacity","computedOpacity","inFadeTransition","Container"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../chunks/mat3f32.js\";import{EffectView as t}from\"../../../layers/effects/EffectView.js\";import{DisplayObject as i}from\"./DisplayObject.js\";class s extends i{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach((t=>t.clips=e))}get computedEffects(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effects)?e:null}get effect(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effect)?e:\"\"}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new t),this._effectView.effect=e,this.requestRender())}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}doRender(e){const t=this.createRenderParams(e);this.renderChildren(t)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const i=e.parent;return i&&i!==this&&i.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}contains(e){return this._childrenSet.has(e)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}sortChildren(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}_createTransforms(){return{dvs:e()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(e);for(const t of this.children)t.afterRender(e)}createRenderParams(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}}export{s as Container};\n"]},"metadata":{},"sourceType":"module"}