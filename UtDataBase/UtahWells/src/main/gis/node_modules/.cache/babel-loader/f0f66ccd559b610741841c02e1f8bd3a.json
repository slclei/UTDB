{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { f as e } from \"../../../../../../chunks/vec3f32.js\";\nimport { VertexTextureCoordinates as s } from \"../attributes/VertexTextureCoordinates.glsl.js\";\nimport { glsl as o } from \"../../shaderModules/interfaces.js\";\nconst t = e(0, .6, .2);\nvar r;\n\nfunction a(e, t) {\n  const a = e.fragment,\n        c = t.hasMetalnessAndRoughnessTexture || t.hasEmissionTexture || t.hasOcclusionTexture;\n  t.pbrMode === r.Normal && c && e.include(s, t), t.pbrMode !== r.Schematic ? (t.pbrMode === r.Disabled && a.code.add(o`float getBakedOcclusion() { return 1.0; }`), t.pbrMode === r.Normal && (a.uniforms.add(\"emissionFactor\", \"vec3\"), a.uniforms.add(\"mrrFactors\", \"vec3\"), a.code.add(o`vec3 mrr;\nvec3 emission;\nfloat occlusion;`), t.hasMetalnessAndRoughnessTexture && (a.uniforms.add(\"texMetallicRoughness\", \"sampler2D\"), t.supportsTextureAtlas && a.uniforms.add(\"texMetallicRoughnessSize\", \"vec2\"), a.code.add(o`void applyMetallnessAndRoughness(TextureLookupParameter params) {\nvec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\nmrr[0] *= metallicRoughness.b;\nmrr[1] *= metallicRoughness.g;\n}`)), t.hasEmissionTexture && (a.uniforms.add(\"texEmission\", \"sampler2D\"), t.supportsTextureAtlas && a.uniforms.add(\"texEmissionSize\", \"vec2\"), a.code.add(o`void applyEmission(TextureLookupParameter params) {\nemission *= textureLookup(texEmission, params).rgb;\n}`)), t.hasOcclusionTexture ? (a.uniforms.add(\"texOcclusion\", \"sampler2D\"), t.supportsTextureAtlas && a.uniforms.add(\"texOcclusionSize\", \"vec2\"), a.code.add(o`void applyOcclusion(TextureLookupParameter params) {\nocclusion *= textureLookup(texOcclusion, params).r;\n}\nfloat getBakedOcclusion() {\nreturn occlusion;\n}`)) : a.code.add(o`float getBakedOcclusion() { return 1.0; }`), a.code.add(o`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${c ? \"vtc.uv = vuv0;\" : \"\"}\n      ${t.hasMetalnessAndRoughnessTexture ? t.supportsTextureAtlas ? \"vtc.size = texMetallicRoughnessSize; applyMetallnessAndRoughness(vtc);\" : \"applyMetallnessAndRoughness(vtc);\" : \"\"}\n      ${t.hasEmissionTexture ? t.supportsTextureAtlas ? \"vtc.size = texEmissionSize; applyEmission(vtc);\" : \"applyEmission(vtc);\" : \"\"}\n      ${t.hasOcclusionTexture ? t.supportsTextureAtlas ? \"vtc.size = texOcclusionSize; applyOcclusion(vtc);\" : \"applyOcclusion(vtc);\" : \"\"}\n    }\n  `))) : a.code.add(o`const vec3 mrr = vec3(0.0, 0.6, 0.2);\nconst vec3 emission = vec3(0.0);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);\n}\n\nfunction c(e, s) {\n  let o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n  o || (e.setUniform3fv(\"mrrFactors\", s.mrrFactors), e.setUniform3fv(\"emissionFactor\", s.emissiveFactor));\n}\n\n!function (e) {\n  e[e.Disabled = 0] = \"Disabled\", e[e.Normal = 1] = \"Normal\", e[e.Schematic = 2] = \"Schematic\", e[e.Water = 3] = \"Water\", e[e.WaterOnIntegratedMesh = 4] = \"WaterOnIntegratedMesh\", e[e.COUNT = 5] = \"COUNT\";\n}(r || (r = {}));\nexport { r as PBRMode, t as PBRSchematicMRRValues, a as PhysicallyBasedRenderingParameters, c as bindPBRUniforms };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js"],"names":["f","e","VertexTextureCoordinates","s","glsl","o","t","r","a","fragment","c","hasMetalnessAndRoughnessTexture","hasEmissionTexture","hasOcclusionTexture","pbrMode","Normal","include","Schematic","Disabled","code","add","uniforms","supportsTextureAtlas","setUniform3fv","mrrFactors","emissiveFactor","Water","WaterOnIntegratedMesh","COUNT","PBRMode","PBRSchematicMRRValues","PhysicallyBasedRenderingParameters","bindPBRUniforms"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../../../chunks/vec3f32.js\";import{VertexTextureCoordinates as s}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{glsl as o}from\"../../shaderModules/interfaces.js\";const t=e(0,.6,.2);var r;function a(e,t){const a=e.fragment,c=t.hasMetalnessAndRoughnessTexture||t.hasEmissionTexture||t.hasOcclusionTexture;t.pbrMode===r.Normal&&c&&e.include(s,t),t.pbrMode!==r.Schematic?(t.pbrMode===r.Disabled&&a.code.add(o`float getBakedOcclusion() { return 1.0; }`),t.pbrMode===r.Normal&&(a.uniforms.add(\"emissionFactor\",\"vec3\"),a.uniforms.add(\"mrrFactors\",\"vec3\"),a.code.add(o`vec3 mrr;\nvec3 emission;\nfloat occlusion;`),t.hasMetalnessAndRoughnessTexture&&(a.uniforms.add(\"texMetallicRoughness\",\"sampler2D\"),t.supportsTextureAtlas&&a.uniforms.add(\"texMetallicRoughnessSize\",\"vec2\"),a.code.add(o`void applyMetallnessAndRoughness(TextureLookupParameter params) {\nvec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\nmrr[0] *= metallicRoughness.b;\nmrr[1] *= metallicRoughness.g;\n}`)),t.hasEmissionTexture&&(a.uniforms.add(\"texEmission\",\"sampler2D\"),t.supportsTextureAtlas&&a.uniforms.add(\"texEmissionSize\",\"vec2\"),a.code.add(o`void applyEmission(TextureLookupParameter params) {\nemission *= textureLookup(texEmission, params).rgb;\n}`)),t.hasOcclusionTexture?(a.uniforms.add(\"texOcclusion\",\"sampler2D\"),t.supportsTextureAtlas&&a.uniforms.add(\"texOcclusionSize\",\"vec2\"),a.code.add(o`void applyOcclusion(TextureLookupParameter params) {\nocclusion *= textureLookup(texOcclusion, params).r;\n}\nfloat getBakedOcclusion() {\nreturn occlusion;\n}`)):a.code.add(o`float getBakedOcclusion() { return 1.0; }`),a.code.add(o`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${c?\"vtc.uv = vuv0;\":\"\"}\n      ${t.hasMetalnessAndRoughnessTexture?t.supportsTextureAtlas?\"vtc.size = texMetallicRoughnessSize; applyMetallnessAndRoughness(vtc);\":\"applyMetallnessAndRoughness(vtc);\":\"\"}\n      ${t.hasEmissionTexture?t.supportsTextureAtlas?\"vtc.size = texEmissionSize; applyEmission(vtc);\":\"applyEmission(vtc);\":\"\"}\n      ${t.hasOcclusionTexture?t.supportsTextureAtlas?\"vtc.size = texOcclusionSize; applyOcclusion(vtc);\":\"applyOcclusion(vtc);\":\"\"}\n    }\n  `))):a.code.add(o`const vec3 mrr = vec3(0.0, 0.6, 0.2);\nconst vec3 emission = vec3(0.0);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`)}function c(e,s,o=!1){o||(e.setUniform3fv(\"mrrFactors\",s.mrrFactors),e.setUniform3fv(\"emissionFactor\",s.emissiveFactor))}!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Normal=1]=\"Normal\",e[e.Schematic=2]=\"Schematic\",e[e.Water=3]=\"Water\",e[e.WaterOnIntegratedMesh=4]=\"WaterOnIntegratedMesh\",e[e.COUNT=5]=\"COUNT\"}(r||(r={}));export{r as PBRMode,t as PBRSchematicMRRValues,a as PhysicallyBasedRenderingParameters,c as bindPBRUniforms};\n"]},"metadata":{},"sourceType":"module"}