{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { waitTick as i } from \"../../core/promiseUtils.js\";\n\nclass l {\n  constructor(i) {\n    let l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : i.lods.length - 1;\n    this.tileInfo = i, this.minLOD = l, this.maxLOD = a;\n  }\n\n  getAvailability(i, l, a) {\n    const t = this.tileInfo.lodAt(i);\n    return !t || i < this.minLOD || i > this.maxLOD ? \"unavailable\" : t.cols && t.rows ? a >= t.cols[0] && a <= t.cols[1] && l >= t.rows[0] && l <= t.rows[1] ? \"available\" : \"unavailable\" : \"available\";\n  }\n\n  async fetchAvailability(l, a, t, e) {\n    return await i(e), this.getAvailability(l, a, t);\n  }\n\n  async fetchAvailabilityUpsample(l, a, t, e, s) {\n    await i(s), e.level = l, e.row = a, e.col = t;\n    const o = this.tileInfo;\n\n    for (o.updateTileInfo(e);;) {\n      const i = this.getAvailability(e.level, e.row, e.col);\n      if (\"unavailable\" !== i) return i;\n      if (!o.upsampleTile(e)) return \"unavailable\";\n    }\n  }\n\n}\n\nexport { l as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js"],"names":["waitTick","i","l","constructor","a","lods","length","tileInfo","minLOD","maxLOD","getAvailability","t","lodAt","cols","rows","fetchAvailability","e","fetchAvailabilityUpsample","s","level","row","col","o","updateTileInfo","upsampleTile","default"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,QAAQ,IAAIC,CAAnB,QAAyB,4BAAzB;;AAAsD,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACF,CAAD,EAAyB;AAAA,QAAtBC,CAAsB,uEAApB,CAAoB;AAAA,QAAlBE,CAAkB,uEAAhBH,CAAC,CAACI,IAAF,CAAOC,MAAP,GAAc,CAAE;AAAC,SAAKC,QAAL,GAAcN,CAAd,EAAgB,KAAKO,MAAL,GAAYN,CAA5B,EAA8B,KAAKO,MAAL,GAAYL,CAA1C;AAA4C;;AAAAM,EAAAA,eAAe,CAACT,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;AAAC,UAAMO,CAAC,GAAC,KAAKJ,QAAL,CAAcK,KAAd,CAAoBX,CAApB,CAAR;AAA+B,WAAM,CAACU,CAAD,IAAIV,CAAC,GAAC,KAAKO,MAAX,IAAmBP,CAAC,GAAC,KAAKQ,MAA1B,GAAiC,aAAjC,GAA+CE,CAAC,CAACE,IAAF,IAAQF,CAAC,CAACG,IAAV,GAAeV,CAAC,IAAEO,CAAC,CAACE,IAAF,CAAO,CAAP,CAAH,IAAcT,CAAC,IAAEO,CAAC,CAACE,IAAF,CAAO,CAAP,CAAjB,IAA4BX,CAAC,IAAES,CAAC,CAACG,IAAF,CAAO,CAAP,CAA/B,IAA0CZ,CAAC,IAAES,CAAC,CAACG,IAAF,CAAO,CAAP,CAA7C,GAAuD,WAAvD,GAAmE,aAAlF,GAAgG,WAArJ;AAAiK;;AAAuB,QAAjBC,iBAAiB,CAACb,CAAD,EAAGE,CAAH,EAAKO,CAAL,EAAOK,CAAP,EAAS;AAAC,WAAO,MAAMf,CAAC,CAACe,CAAD,CAAP,EAAW,KAAKN,eAAL,CAAqBR,CAArB,EAAuBE,CAAvB,EAAyBO,CAAzB,CAAlB;AAA8C;;AAA+B,QAAzBM,yBAAyB,CAACf,CAAD,EAAGE,CAAH,EAAKO,CAAL,EAAOK,CAAP,EAASE,CAAT,EAAW;AAAC,UAAMjB,CAAC,CAACiB,CAAD,CAAP,EAAWF,CAAC,CAACG,KAAF,GAAQjB,CAAnB,EAAqBc,CAAC,CAACI,GAAF,GAAMhB,CAA3B,EAA6BY,CAAC,CAACK,GAAF,GAAMV,CAAnC;AAAqC,UAAMW,CAAC,GAAC,KAAKf,QAAb;;AAAsB,SAAIe,CAAC,CAACC,cAAF,CAAiBP,CAAjB,CAAJ,IAA0B;AAAC,YAAMf,CAAC,GAAC,KAAKS,eAAL,CAAqBM,CAAC,CAACG,KAAvB,EAA6BH,CAAC,CAACI,GAA/B,EAAmCJ,CAAC,CAACK,GAArC,CAAR;AAAkD,UAAG,kBAAgBpB,CAAnB,EAAqB,OAAOA,CAAP;AAAS,UAAG,CAACqB,CAAC,CAACE,YAAF,CAAeR,CAAf,CAAJ,EAAsB,OAAM,aAAN;AAAoB;AAAC;;AAApnB;;AAAqnB,SAAOd,CAAC,IAAIuB,OAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{waitTick as i}from\"../../core/promiseUtils.js\";class l{constructor(i,l=0,a=i.lods.length-1){this.tileInfo=i,this.minLOD=l,this.maxLOD=a}getAvailability(i,l,a){const t=this.tileInfo.lodAt(i);return!t||i<this.minLOD||i>this.maxLOD?\"unavailable\":t.cols&&t.rows?a>=t.cols[0]&&a<=t.cols[1]&&l>=t.rows[0]&&l<=t.rows[1]?\"available\":\"unavailable\":\"available\"}async fetchAvailability(l,a,t,e){return await i(e),this.getAvailability(l,a,t)}async fetchAvailabilityUpsample(l,a,t,e,s){await i(s),e.level=l,e.row=a,e.col=t;const o=this.tileInfo;for(o.updateTileInfo(e);;){const i=this.getAvailability(e.level,e.row,e.col);if(\"unavailable\"!==i)return i;if(!o.upsampleTile(e))return\"unavailable\"}}}export{l as default};\n"]},"metadata":{},"sourceType":"module"}