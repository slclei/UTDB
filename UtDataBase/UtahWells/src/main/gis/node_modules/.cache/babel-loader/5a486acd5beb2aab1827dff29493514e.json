{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../Graphic.js\";\nimport { FeatureSetQueryInterceptor as r } from \"../../arcade/featureset/support/FeatureSetQueryInterceptor.js\";\nimport i from \"../../core/Accessor.js\";\nimport o from \"../../core/Handles.js\";\nimport s from \"../../core/Logger.js\";\nimport { isSome as n } from \"../../core/maybe.js\";\nimport { isAbortError as a, eachAlways as l } from \"../../core/promiseUtils.js\";\nimport { throttle as p } from \"../../core/throttle.js\";\nimport { init as c } from \"../../core/watchUtils.js\";\nimport { property as d } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/has.js\";\nimport { cast as u } from \"../../core/accessorSupport/decorators/cast.js\";\nimport { subclass as f } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport h from \"../../popup/content/TextContent.js\";\nimport m from \"./FeatureAttachments/FeatureAttachmentsViewModel.js\";\nimport _ from \"./FeatureContent/FeatureContentViewModel.js\";\nimport y from \"./FeatureExpression/FeatureExpressionViewModel.js\";\nimport b from \"./FeatureFields/FeatureFieldsViewModel.js\";\nimport g from \"./FeatureMedia/FeatureMediaViewModel.js\";\nimport { createCompiledExpressions as A } from \"./support/arcadeFeatureUtils.js\";\nimport { preLayerQueryCallback as I, preRequestCallback as v, createfieldInfoMap as M, getAllFieldInfos as x, getSourceLayer as w, substituteFieldsInLinksAndAttributes as C, isExpressionField as F, isRelatedField as E, formatEditInfo as T, graphicCallback as V, queryUpdatedFeature as P, formatAttributes as j } from \"./support/featureUtils.js\";\nimport { queryLayerInfos as L, queryRelatedFeatures as R, setRelatedFeatures as O, getRelatedFieldInfo as S, createRelatedInfo as k, updateRelatedInfo as U } from \"./support/relatedFeatureUtils.js\";\nvar N;\nconst q = 1,\n      D = \"content-view-models\",\n      Q = \"esri.widgets.FeatureViewModel\",\n      B = s.getLogger(Q),\n      G = {\n  attachmentsContent: !0,\n  chartAnimation: !0,\n  customContent: !0,\n  expressionContent: !0,\n  fieldsContent: !0,\n  mediaContent: !0,\n  textContent: !0\n};\nlet H = N = class extends i {\n  constructor(e) {\n    super(e), this._handles = new o(), this._error = null, this._featureAbortController = null, this.graphicChangedThrottled = p(this._graphicChanged, q, this), this._expressionAttributes = null, this._graphicExpressionAttributes = null, this.abilities = { ...G\n    }, this.content = null, this.contentViewModels = [], this.defaultPopupTemplateEnabled = !1, this.formattedAttributes = null, this.lastEditInfo = null, this.relatedInfos = new Map(), this.title = \"\", this.view = null, this._isAllowedContentType = e => {\n      const {\n        abilities: t\n      } = this;\n      return \"attachments\" === e.type && t.attachmentsContent || \"custom\" === e.type && t.customContent || \"fields\" === e.type && t.fieldsContent || \"media\" === e.type && t.mediaContent || \"text\" === e.type && t.textContent || \"expression\" === e.type && t.expressionContent;\n    }, this._handles.add(c(this, [\"graphic\", \"_effectivePopupTemplate\", \"abilities\"], () => this.graphicChangedThrottled()));\n  }\n\n  destroy() {\n    this._clear(), this._cancelFeatureQuery(), this._error = null, this._handles.destroy(), this._handles = null, this.graphic = null, this._destroyContentViewModels(), this.relatedInfos.clear();\n  }\n\n  get _effectivePopupTemplate() {\n    return n(this.graphic) ? this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled) : null;\n  }\n\n  get _fieldInfoMap() {\n    return M(x(this._effectivePopupTemplate), this._sourceLayer);\n  }\n\n  get _sourceLayer() {\n    return w(this.graphic);\n  }\n\n  castAbilities(e) {\n    return { ...G,\n      ...e\n    };\n  }\n\n  get state() {\n    return this.graphic ? this._error ? \"error\" : this.waitingForContent ? \"loading\" : \"ready\" : \"disabled\";\n  }\n\n  set graphic(e) {\n    this._set(\"graphic\", e ? e.clone() : null);\n  }\n\n  get spatialReference() {\n    return this.get(\"view.spatialReference\") || null;\n  }\n\n  set spatialReference(e) {\n    void 0 !== e ? this._override(\"spatialReference\", e) : this._clearOverride(\"spatialReference\");\n  }\n\n  get map() {\n    return this.get(\"view.map\") || null;\n  }\n\n  set map(e) {\n    void 0 !== e ? this._override(\"map\", e) : this._clearOverride(\"map\");\n  }\n\n  get waitingForContent() {\n    return !!this._featureAbortController;\n  }\n\n  setActiveMedia(e, t) {\n    const r = this.contentViewModels[e];\n    r instanceof g && r.setActiveMedia(t);\n  }\n\n  nextMedia(e) {\n    const t = this.contentViewModels[e];\n    t instanceof g && t.next();\n  }\n\n  previousMedia(e) {\n    const t = this.contentViewModels[e];\n    t instanceof g && t.previous();\n  }\n\n  _clear() {\n    this._set(\"title\", \"\"), this._set(\"content\", null), this._set(\"formattedAttributes\", null);\n  }\n\n  async _graphicChanged() {\n    this._cancelFeatureQuery(), this._error = null, this._clear();\n    const {\n      graphic: e\n    } = this;\n    if (!e) return;\n    const t = new AbortController();\n    this._featureAbortController = t;\n\n    try {\n      await this._queryFeature({\n        signal: t.signal\n      });\n    } catch (r) {\n      a(r) || (this._error = r, B.error(\"error\", \"The popupTemplate could not be displayed for this feature.\", {\n        error: r,\n        graphic: e,\n        popupTemplate: this._effectivePopupTemplate\n      }));\n    }\n\n    this._featureAbortController === t && (this._featureAbortController = null);\n  }\n\n  _cancelFeatureQuery() {\n    const {\n      _featureAbortController: e\n    } = this;\n    e && e.abort(), this._featureAbortController = null;\n  }\n\n  _compileContentElement(e, t) {\n    return \"attachments\" === e.type ? this._compileAttachments(e, t) : \"custom\" === e.type ? this._compileCustom(e, t) : \"fields\" === e.type ? this._compileFields(e, t) : \"media\" === e.type ? this._compileMedia(e, t) : \"text\" === e.type ? this._compileText(e, t) : \"expression\" === e.type ? this._compileExpression(e, t) : void 0;\n  }\n\n  _compileContent(e) {\n    if (this._destroyContentViewModels(), this.graphic) return Array.isArray(e) ? e.filter(this._isAllowedContentType).map((e, t) => this._compileContentElement(e, t)) : \"string\" == typeof e ? this._compileText(new h({\n      text: e\n    }), 0).text : e;\n  }\n\n  _destroyContentViewModels() {\n    var e;\n    null == (e = this._handles) || e.remove(D), this.contentViewModels.forEach(e => e && !e.destroyed && e.destroy()), this._set(\"contentViewModels\", []);\n  }\n\n  _setExpressionContentVM(e, t) {\n    const {\n      formattedAttributes: r\n    } = this,\n          {\n      contentElement: i,\n      contentElementViewModel: o\n    } = e,\n          s = null == i ? void 0 : i.type;\n    o && s && (\"fields\" === s && (this._createFieldsFormattedAttributes({\n      contentElement: i,\n      contentElementIndex: t,\n      formattedAttributes: r\n    }), o.set(this._createFieldsVMParams(i, t))), \"media\" === s && (this._createMediaFormattedAttributes({\n      contentElement: i,\n      contentElementIndex: t,\n      formattedAttributes: r\n    }), o.set(this._createMediaVMParams(i, t))), \"text\" === s && o.set(this._createTextVMParams(i)));\n  }\n\n  _compileExpression(e, t) {\n    const {\n      expressionInfo: r\n    } = e,\n          {\n      graphic: i,\n      map: o,\n      spatialReference: s,\n      view: n\n    } = this,\n          a = new y({\n      expressionInfo: r,\n      graphic: i,\n      interceptor: N.interceptor,\n      map: o,\n      spatialReference: s,\n      view: n\n    });\n    return this.contentViewModels[t] = a, this._handles.add(c(a, \"contentElementViewModel\", () => this._setExpressionContentVM(a, t)), D), e;\n  }\n\n  _compileAttachments(e, t) {\n    const {\n      graphic: r\n    } = this,\n          {\n      description: i,\n      title: o\n    } = e;\n    return this.contentViewModels[t] = new m({\n      graphic: r,\n      ...this._compileTitleAndDesc({\n        title: o,\n        description: i\n      })\n    }), e;\n  }\n\n  _compileCustom(e, t) {\n    const {\n      graphic: r\n    } = this,\n          {\n      creator: i,\n      destroyer: o\n    } = e;\n    return this.contentViewModels[t] = new _({\n      graphic: r,\n      creator: i,\n      destroyer: o\n    }), e;\n  }\n\n  _compileTitleAndDesc(_ref) {\n    let {\n      title: e,\n      description: t\n    } = _ref;\n    const {\n      _fieldInfoMap: r,\n      _sourceLayer: i,\n      graphic: o,\n      formattedAttributes: s,\n      _expressionAttributes: n\n    } = this,\n          {\n      attributes: a\n    } = o,\n          l = s.global;\n    return {\n      title: C({\n        attributes: a,\n        fieldInfoMap: r,\n        globalAttributes: l,\n        expressionAttributes: n,\n        layer: i,\n        text: e\n      }),\n      description: C({\n        attributes: a,\n        fieldInfoMap: r,\n        globalAttributes: l,\n        expressionAttributes: n,\n        layer: i,\n        text: t\n      })\n    };\n  }\n\n  _createFieldsVMParams(e, t) {\n    const {\n      _effectivePopupTemplate: r,\n      formattedAttributes: i\n    } = this,\n          o = { ...i.global,\n      ...i.content[t]\n    },\n          s = (null == e ? void 0 : e.fieldInfos) || (null == r ? void 0 : r.fieldInfos),\n          n = null == s ? void 0 : s.filter(_ref2 => {\n      let {\n        fieldName: e\n      } = _ref2;\n      return F(e) || E(e) || o.hasOwnProperty(e);\n    }),\n          a = null == r ? void 0 : r.expressionInfos,\n          {\n      description: l,\n      title: p\n    } = e;\n    return {\n      attributes: o,\n      expressionInfos: a,\n      fieldInfos: n,\n      ...this._compileTitleAndDesc({\n        title: p,\n        description: l\n      })\n    };\n  }\n\n  _compileFields(e, t) {\n    const r = e.clone(),\n          i = new b(this._createFieldsVMParams(e, t));\n    return this.contentViewModels[t] = i, r.fieldInfos = i.formattedFieldInfos.slice(0), r;\n  }\n\n  _createMediaVMParams(e, t) {\n    const {\n      abilities: r,\n      graphic: i,\n      _fieldInfoMap: o,\n      formattedAttributes: s,\n      _effectivePopupTemplate: n,\n      relatedInfos: a,\n      _sourceLayer: l,\n      _expressionAttributes: p\n    } = this,\n          {\n      attributes: c\n    } = i,\n          {\n      description: d,\n      mediaInfos: u,\n      title: f\n    } = e;\n    return {\n      abilities: {\n        chartAnimation: r.chartAnimation\n      },\n      activeMediaInfoIndex: e.activeMediaInfoIndex || 0,\n      attributes: c,\n      layer: l,\n      fieldInfoMap: o,\n      formattedAttributes: { ...s.global,\n        ...s.content[t]\n      },\n      expressionAttributes: p,\n      mediaInfos: u,\n      popupTemplate: n,\n      relatedInfos: a,\n      ...this._compileTitleAndDesc({\n        title: f,\n        description: d\n      })\n    };\n  }\n\n  _compileMedia(e, t) {\n    const r = e.clone(),\n          i = new g(this._createMediaVMParams(e, t));\n    return r.mediaInfos = i.formattedMediaInfos.slice(0), this.contentViewModels[t] = i, r;\n  }\n\n  _createTextVMParams(e) {\n    const {\n      graphic: t,\n      _fieldInfoMap: r,\n      _sourceLayer: i,\n      _expressionAttributes: o\n    } = this;\n\n    if (e && e.text) {\n      const {\n        attributes: s\n      } = t,\n            n = this.formattedAttributes.global;\n      e.text = C({\n        attributes: s,\n        fieldInfoMap: r,\n        globalAttributes: n,\n        expressionAttributes: o,\n        layer: i,\n        text: e.text\n      });\n    }\n\n    return {\n      graphic: t,\n      creator: e.text\n    };\n  }\n\n  _compileText(e, t) {\n    const r = e.clone();\n    return this.contentViewModels[t] = new _(this._createTextVMParams(r)), r;\n  }\n\n  _compileLastEditInfo() {\n    const {\n      _effectivePopupTemplate: e,\n      _sourceLayer: t,\n      graphic: r\n    } = this;\n    if (!e) return;\n    const {\n      lastEditInfoEnabled: i\n    } = e,\n          o = null == t ? void 0 : t.editFieldsInfo;\n    return i && o ? T(o, r.attributes) : void 0;\n  }\n\n  _compileTitle(e) {\n    const {\n      _fieldInfoMap: t,\n      _sourceLayer: r,\n      graphic: i,\n      _expressionAttributes: o\n    } = this,\n          {\n      attributes: s\n    } = i,\n          n = this.formattedAttributes.global;\n    return C({\n      attributes: s,\n      fieldInfoMap: t,\n      globalAttributes: n,\n      expressionAttributes: o,\n      layer: r,\n      text: e\n    });\n  }\n\n  async _getTitle() {\n    const {\n      _effectivePopupTemplate: e,\n      graphic: t\n    } = this,\n          r = null == e ? void 0 : e.title;\n    return V(r, {\n      graphic: t\n    });\n  }\n\n  async _getContent() {\n    const {\n      _effectivePopupTemplate: e,\n      graphic: t\n    } = this,\n          r = null == e ? void 0 : e.content;\n    return V(r, {\n      graphic: t\n    });\n  }\n\n  async _queryFeature(e) {\n    const {\n      _featureAbortController: t,\n      _sourceLayer: r,\n      graphic: i,\n      _effectivePopupTemplate: o,\n      spatialReference: s,\n      map: n,\n      view: a\n    } = this,\n          {\n      content: {\n        value: p\n      },\n      title: {\n        value: c\n      }\n    } = await l({\n      content: this._getContent(),\n      title: this._getTitle()\n    });\n    if (t !== this._featureAbortController || !i) return;\n    await P({\n      graphic: i,\n      popupTemplate: o,\n      layer: r,\n      spatialReference: s\n    }, e);\n    const {\n      expressionAttributes: {\n        value: d\n      }\n    } = await l({\n      checkForRelatedFeatures: this._checkForRelatedFeatures(e),\n      expressionAttributes: A({\n        expressionInfos: null == o ? void 0 : o.expressionInfos,\n        spatialReference: s,\n        graphic: i,\n        map: n,\n        interceptor: N.interceptor,\n        view: a\n      })\n    });\n    t === this._featureAbortController && i && (this._expressionAttributes = d, this._graphicExpressionAttributes = { ...i.attributes,\n      ...d\n    }, this._set(\"formattedAttributes\", this._createFormattedAttributes(p)), this._set(\"title\", this._compileTitle(c)), this._set(\"lastEditInfo\", this._compileLastEditInfo() || null), this._set(\"content\", this._compileContent(p) || null));\n  }\n\n  _createMediaFormattedAttributes(_ref3) {\n    let {\n      contentElement: e,\n      contentElementIndex: t,\n      formattedAttributes: r\n    } = _ref3;\n    const {\n      _effectivePopupTemplate: i,\n      graphic: o,\n      relatedInfos: s,\n      _sourceLayer: n,\n      _fieldInfoMap: a,\n      _graphicExpressionAttributes: l\n    } = this;\n    r.content[t] = j({\n      fieldInfos: null == i ? void 0 : i.fieldInfos,\n      graphic: o,\n      attributes: { ...l,\n        ...e.attributes\n      },\n      layer: n,\n      fieldInfoMap: a,\n      relatedInfos: s\n    });\n  }\n\n  _createFieldsFormattedAttributes(_ref4) {\n    let {\n      contentElement: e,\n      contentElementIndex: t,\n      formattedAttributes: r\n    } = _ref4;\n\n    if (e.fieldInfos) {\n      const {\n        graphic: i,\n        relatedInfos: o,\n        _sourceLayer: s,\n        _fieldInfoMap: n,\n        _graphicExpressionAttributes: a\n      } = this;\n      r.content[t] = j({\n        fieldInfos: e.fieldInfos,\n        graphic: i,\n        attributes: { ...a,\n          ...e.attributes\n        },\n        layer: s,\n        fieldInfoMap: n,\n        relatedInfos: o\n      });\n    }\n  }\n\n  _createFormattedAttributes(e) {\n    const {\n      _effectivePopupTemplate: t,\n      graphic: r,\n      relatedInfos: i,\n      _sourceLayer: o,\n      _fieldInfoMap: s,\n      _graphicExpressionAttributes: n\n    } = this,\n          a = null == t ? void 0 : t.fieldInfos,\n          l = {\n      global: j({\n        fieldInfos: a,\n        graphic: r,\n        attributes: n,\n        layer: o,\n        fieldInfoMap: s,\n        relatedInfos: i\n      }),\n      content: []\n    };\n    return Array.isArray(e) && e.forEach((e, t) => {\n      \"fields\" === e.type && this._createFieldsFormattedAttributes({\n        contentElement: e,\n        contentElementIndex: t,\n        formattedAttributes: l\n      }), \"media\" === e.type && this._createMediaFormattedAttributes({\n        contentElement: e,\n        contentElementIndex: t,\n        formattedAttributes: l\n      });\n    }), l;\n  }\n\n  _checkForRelatedFeatures(e) {\n    const {\n      graphic: t,\n      _effectivePopupTemplate: r\n    } = this;\n    return this._queryRelatedInfos(t, x(r), e);\n  }\n\n  async _queryRelatedInfos(e, t, r) {\n    const {\n      relatedInfos: i,\n      _sourceLayer: o\n    } = this;\n    i.clear();\n    const s = n(o.associatedLayer) ? await o.associatedLayer.load(r) : o;\n    if (!s) return;\n    const a = t.filter(e => e && E(e.fieldName));\n    if (!a || !a.length) return;\n    t.forEach(e => this._configureRelatedInfo(e, s));\n    const l = await L({\n      relatedInfos: i,\n      layer: s\n    }, r);\n    Object.keys(l).forEach(e => {\n      var t;\n      const r = i.get(e.toString()),\n            o = null == (t = l[e]) ? void 0 : t.value;\n      r && o && (r.layerInfo = o.data);\n    });\n    const p = await R({\n      graphic: e,\n      relatedInfos: i,\n      layer: s\n    }, r);\n    Object.keys(p).forEach(e => {\n      var t;\n      O(null == (t = p[e]) ? void 0 : t.value, i.get(e.toString()));\n    });\n  }\n\n  _configureRelatedInfo(e, t) {\n    const {\n      relatedInfos: r\n    } = this,\n          i = S(e.fieldName);\n    if (!i) return;\n    const {\n      layerId: o,\n      fieldName: s\n    } = i;\n    if (!o) return;\n    const n = r.get(o.toString()) || k(o, t);\n    n && (U({\n      relatedInfo: n,\n      fieldName: s,\n      fieldInfo: e\n    }), this.relatedInfos.set(o, n));\n  }\n\n};\nH.interceptor = new r(I, v), e([d()], H.prototype, \"_error\", void 0), e([d()], H.prototype, \"_featureAbortController\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"_effectivePopupTemplate\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"_fieldInfoMap\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"_sourceLayer\", null), e([d()], H.prototype, \"abilities\", void 0), e([u(\"abilities\")], H.prototype, \"castAbilities\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"content\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"contentViewModels\", void 0), e([d({\n  type: Boolean\n})], H.prototype, \"defaultPopupTemplateEnabled\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"state\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"formattedAttributes\", void 0), e([d({\n  type: t,\n  value: null\n})], H.prototype, \"graphic\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"lastEditInfo\", void 0), e([d({\n  readOnly: !0\n})], H.prototype, \"relatedInfos\", void 0), e([d()], H.prototype, \"spatialReference\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"title\", void 0), e([d()], H.prototype, \"map\", null), e([d({\n  readOnly: !0\n})], H.prototype, \"waitingForContent\", null), e([d()], H.prototype, \"view\", void 0), H = N = e([f(Q)], H);\nconst z = H;\nexport { z as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/widgets/Feature/FeatureViewModel.js"],"names":["_","e","t","FeatureSetQueryInterceptor","r","i","o","s","isSome","n","isAbortError","a","eachAlways","l","throttle","p","init","c","property","d","cast","u","subclass","f","h","m","y","b","g","createCompiledExpressions","A","preLayerQueryCallback","I","preRequestCallback","v","createfieldInfoMap","M","getAllFieldInfos","x","getSourceLayer","w","substituteFieldsInLinksAndAttributes","C","isExpressionField","F","isRelatedField","E","formatEditInfo","T","graphicCallback","V","queryUpdatedFeature","P","formatAttributes","j","queryLayerInfos","L","queryRelatedFeatures","R","setRelatedFeatures","O","getRelatedFieldInfo","S","createRelatedInfo","k","updateRelatedInfo","U","N","q","D","Q","B","getLogger","G","attachmentsContent","chartAnimation","customContent","expressionContent","fieldsContent","mediaContent","textContent","H","constructor","_handles","_error","_featureAbortController","graphicChangedThrottled","_graphicChanged","_expressionAttributes","_graphicExpressionAttributes","abilities","content","contentViewModels","defaultPopupTemplateEnabled","formattedAttributes","lastEditInfo","relatedInfos","Map","title","view","_isAllowedContentType","type","add","destroy","_clear","_cancelFeatureQuery","graphic","_destroyContentViewModels","clear","_effectivePopupTemplate","getEffectivePopupTemplate","_fieldInfoMap","_sourceLayer","castAbilities","state","waitingForContent","_set","clone","spatialReference","get","_override","_clearOverride","map","setActiveMedia","nextMedia","next","previousMedia","previous","AbortController","_queryFeature","signal","error","popupTemplate","abort","_compileContentElement","_compileAttachments","_compileCustom","_compileFields","_compileMedia","_compileText","_compileExpression","_compileContent","Array","isArray","filter","text","remove","forEach","destroyed","_setExpressionContentVM","contentElement","contentElementViewModel","_createFieldsFormattedAttributes","contentElementIndex","set","_createFieldsVMParams","_createMediaFormattedAttributes","_createMediaVMParams","_createTextVMParams","expressionInfo","interceptor","description","_compileTitleAndDesc","creator","destroyer","attributes","global","fieldInfoMap","globalAttributes","expressionAttributes","layer","fieldInfos","fieldName","hasOwnProperty","expressionInfos","formattedFieldInfos","slice","mediaInfos","activeMediaInfoIndex","formattedMediaInfos","_compileLastEditInfo","lastEditInfoEnabled","editFieldsInfo","_compileTitle","_getTitle","_getContent","value","checkForRelatedFeatures","_checkForRelatedFeatures","_createFormattedAttributes","_queryRelatedInfos","associatedLayer","load","length","_configureRelatedInfo","Object","keys","toString","layerInfo","data","layerId","relatedInfo","fieldInfo","prototype","readOnly","Boolean","z","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import{FeatureSetQueryInterceptor as r}from\"../../arcade/featureset/support/FeatureSetQueryInterceptor.js\";import i from\"../../core/Accessor.js\";import o from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import{isSome as n}from\"../../core/maybe.js\";import{isAbortError as a,eachAlways as l}from\"../../core/promiseUtils.js\";import{throttle as p}from\"../../core/throttle.js\";import{init as c}from\"../../core/watchUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{cast as u}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as f}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../popup/content/TextContent.js\";import m from\"./FeatureAttachments/FeatureAttachmentsViewModel.js\";import _ from\"./FeatureContent/FeatureContentViewModel.js\";import y from\"./FeatureExpression/FeatureExpressionViewModel.js\";import b from\"./FeatureFields/FeatureFieldsViewModel.js\";import g from\"./FeatureMedia/FeatureMediaViewModel.js\";import{createCompiledExpressions as A}from\"./support/arcadeFeatureUtils.js\";import{preLayerQueryCallback as I,preRequestCallback as v,createfieldInfoMap as M,getAllFieldInfos as x,getSourceLayer as w,substituteFieldsInLinksAndAttributes as C,isExpressionField as F,isRelatedField as E,formatEditInfo as T,graphicCallback as V,queryUpdatedFeature as P,formatAttributes as j}from\"./support/featureUtils.js\";import{queryLayerInfos as L,queryRelatedFeatures as R,setRelatedFeatures as O,getRelatedFieldInfo as S,createRelatedInfo as k,updateRelatedInfo as U}from\"./support/relatedFeatureUtils.js\";var N;const q=1,D=\"content-view-models\",Q=\"esri.widgets.FeatureViewModel\",B=s.getLogger(Q),G={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let H=N=class extends i{constructor(e){super(e),this._handles=new o,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=p(this._graphicChanged,q,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...G},this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title=\"\",this.view=null,this._isAllowedContentType=e=>{const{abilities:t}=this;return\"attachments\"===e.type&&t.attachmentsContent||\"custom\"===e.type&&t.customContent||\"fields\"===e.type&&t.fieldsContent||\"media\"===e.type&&t.mediaContent||\"text\"===e.type&&t.textContent||\"expression\"===e.type&&t.expressionContent},this._handles.add(c(this,[\"graphic\",\"_effectivePopupTemplate\",\"abilities\"],(()=>this.graphicChangedThrottled())))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return n(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return M(x(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return w(this.graphic)}castAbilities(e){return{...G,...e}}get state(){return this.graphic?this._error?\"error\":this.waitingForContent?\"loading\":\"ready\":\"disabled\"}set graphic(e){this._set(\"graphic\",e?e.clone():null)}get spatialReference(){return this.get(\"view.spatialReference\")||null}set spatialReference(e){void 0!==e?this._override(\"spatialReference\",e):this._clearOverride(\"spatialReference\")}get map(){return this.get(\"view.map\")||null}set map(e){void 0!==e?this._override(\"map\",e):this._clearOverride(\"map\")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const r=this.contentViewModels[e];r instanceof g&&r.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof g&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof g&&t.previous()}_clear(){this._set(\"title\",\"\"),this._set(\"content\",null),this._set(\"formattedAttributes\",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:e}=this;if(!e)return;const t=new AbortController;this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(r){a(r)||(this._error=r,B.error(\"error\",\"The popupTemplate could not be displayed for this feature.\",{error:r,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return\"attachments\"===e.type?this._compileAttachments(e,t):\"custom\"===e.type?this._compileCustom(e,t):\"fields\"===e.type?this._compileFields(e,t):\"media\"===e.type?this._compileMedia(e,t):\"text\"===e.type?this._compileText(e,t):\"expression\"===e.type?this._compileExpression(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map(((e,t)=>this._compileContentElement(e,t))):\"string\"==typeof e?this._compileText(new h({text:e}),0).text:e}_destroyContentViewModels(){var e;null==(e=this._handles)||e.remove(D),this.contentViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"contentViewModels\",[])}_setExpressionContentVM(e,t){const{formattedAttributes:r}=this,{contentElement:i,contentElementViewModel:o}=e,s=null==i?void 0:i.type;o&&s&&(\"fields\"===s&&(this._createFieldsFormattedAttributes({contentElement:i,contentElementIndex:t,formattedAttributes:r}),o.set(this._createFieldsVMParams(i,t))),\"media\"===s&&(this._createMediaFormattedAttributes({contentElement:i,contentElementIndex:t,formattedAttributes:r}),o.set(this._createMediaVMParams(i,t))),\"text\"===s&&o.set(this._createTextVMParams(i)))}_compileExpression(e,t){const{expressionInfo:r}=e,{graphic:i,map:o,spatialReference:s,view:n}=this,a=new y({expressionInfo:r,graphic:i,interceptor:N.interceptor,map:o,spatialReference:s,view:n});return this.contentViewModels[t]=a,this._handles.add(c(a,\"contentElementViewModel\",(()=>this._setExpressionContentVM(a,t))),D),e}_compileAttachments(e,t){const{graphic:r}=this,{description:i,title:o}=e;return this.contentViewModels[t]=new m({graphic:r,...this._compileTitleAndDesc({title:o,description:i})}),e}_compileCustom(e,t){const{graphic:r}=this,{creator:i,destroyer:o}=e;return this.contentViewModels[t]=new _({graphic:r,creator:i,destroyer:o}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:r,_sourceLayer:i,graphic:o,formattedAttributes:s,_expressionAttributes:n}=this,{attributes:a}=o,l=s.global;return{title:C({attributes:a,fieldInfoMap:r,globalAttributes:l,expressionAttributes:n,layer:i,text:e}),description:C({attributes:a,fieldInfoMap:r,globalAttributes:l,expressionAttributes:n,layer:i,text:t})}}_createFieldsVMParams(e,t){const{_effectivePopupTemplate:r,formattedAttributes:i}=this,o={...i.global,...i.content[t]},s=(null==e?void 0:e.fieldInfos)||(null==r?void 0:r.fieldInfos),n=null==s?void 0:s.filter((({fieldName:e})=>F(e)||E(e)||o.hasOwnProperty(e))),a=null==r?void 0:r.expressionInfos,{description:l,title:p}=e;return{attributes:o,expressionInfos:a,fieldInfos:n,...this._compileTitleAndDesc({title:p,description:l})}}_compileFields(e,t){const r=e.clone(),i=new b(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=i,r.fieldInfos=i.formattedFieldInfos.slice(0),r}_createMediaVMParams(e,t){const{abilities:r,graphic:i,_fieldInfoMap:o,formattedAttributes:s,_effectivePopupTemplate:n,relatedInfos:a,_sourceLayer:l,_expressionAttributes:p}=this,{attributes:c}=i,{description:d,mediaInfos:u,title:f}=e;return{abilities:{chartAnimation:r.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:c,layer:l,fieldInfoMap:o,formattedAttributes:{...s.global,...s.content[t]},expressionAttributes:p,mediaInfos:u,popupTemplate:n,relatedInfos:a,...this._compileTitleAndDesc({title:f,description:d})}}_compileMedia(e,t){const r=e.clone(),i=new g(this._createMediaVMParams(e,t));return r.mediaInfos=i.formattedMediaInfos.slice(0),this.contentViewModels[t]=i,r}_createTextVMParams(e){const{graphic:t,_fieldInfoMap:r,_sourceLayer:i,_expressionAttributes:o}=this;if(e&&e.text){const{attributes:s}=t,n=this.formattedAttributes.global;e.text=C({attributes:s,fieldInfoMap:r,globalAttributes:n,expressionAttributes:o,layer:i,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const r=e.clone();return this.contentViewModels[t]=new _(this._createTextVMParams(r)),r}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:r}=this;if(!e)return;const{lastEditInfoEnabled:i}=e,o=null==t?void 0:t.editFieldsInfo;return i&&o?T(o,r.attributes):void 0}_compileTitle(e){const{_fieldInfoMap:t,_sourceLayer:r,graphic:i,_expressionAttributes:o}=this,{attributes:s}=i,n=this.formattedAttributes.global;return C({attributes:s,fieldInfoMap:t,globalAttributes:n,expressionAttributes:o,layer:r,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this,r=null==e?void 0:e.title;return V(r,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this,r=null==e?void 0:e.content;return V(r,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:r,graphic:i,_effectivePopupTemplate:o,spatialReference:s,map:n,view:a}=this,{content:{value:p},title:{value:c}}=await l({content:this._getContent(),title:this._getTitle()});if(t!==this._featureAbortController||!i)return;await P({graphic:i,popupTemplate:o,layer:r,spatialReference:s},e);const{expressionAttributes:{value:d}}=await l({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:A({expressionInfos:null==o?void 0:o.expressionInfos,spatialReference:s,graphic:i,map:n,interceptor:N.interceptor,view:a})});t===this._featureAbortController&&i&&(this._expressionAttributes=d,this._graphicExpressionAttributes={...i.attributes,...d},this._set(\"formattedAttributes\",this._createFormattedAttributes(p)),this._set(\"title\",this._compileTitle(c)),this._set(\"lastEditInfo\",this._compileLastEditInfo()||null),this._set(\"content\",this._compileContent(p)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){const{_effectivePopupTemplate:i,graphic:o,relatedInfos:s,_sourceLayer:n,_fieldInfoMap:a,_graphicExpressionAttributes:l}=this;r.content[t]=j({fieldInfos:null==i?void 0:i.fieldInfos,graphic:o,attributes:{...l,...e.attributes},layer:n,fieldInfoMap:a,relatedInfos:s})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){if(e.fieldInfos){const{graphic:i,relatedInfos:o,_sourceLayer:s,_fieldInfoMap:n,_graphicExpressionAttributes:a}=this;r.content[t]=j({fieldInfos:e.fieldInfos,graphic:i,attributes:{...a,...e.attributes},layer:s,fieldInfoMap:n,relatedInfos:o})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:r,relatedInfos:i,_sourceLayer:o,_fieldInfoMap:s,_graphicExpressionAttributes:n}=this,a=null==t?void 0:t.fieldInfos,l={global:j({fieldInfos:a,graphic:r,attributes:n,layer:o,fieldInfoMap:s,relatedInfos:i}),content:[]};return Array.isArray(e)&&e.forEach(((e,t)=>{\"fields\"===e.type&&this._createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:l}),\"media\"===e.type&&this._createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:l})})),l}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:r}=this;return this._queryRelatedInfos(t,x(r),e)}async _queryRelatedInfos(e,t,r){const{relatedInfos:i,_sourceLayer:o}=this;i.clear();const s=n(o.associatedLayer)?await o.associatedLayer.load(r):o;if(!s)return;const a=t.filter((e=>e&&E(e.fieldName)));if(!a||!a.length)return;t.forEach((e=>this._configureRelatedInfo(e,s)));const l=await L({relatedInfos:i,layer:s},r);Object.keys(l).forEach((e=>{var t;const r=i.get(e.toString()),o=null==(t=l[e])?void 0:t.value;r&&o&&(r.layerInfo=o.data)}));const p=await R({graphic:e,relatedInfos:i,layer:s},r);Object.keys(p).forEach((e=>{var t;O(null==(t=p[e])?void 0:t.value,i.get(e.toString()))}))}_configureRelatedInfo(e,t){const{relatedInfos:r}=this,i=S(e.fieldName);if(!i)return;const{layerId:o,fieldName:s}=i;if(!o)return;const n=r.get(o.toString())||k(o,t);n&&(U({relatedInfo:n,fieldName:s,fieldInfo:e}),this.relatedInfos.set(o,n))}};H.interceptor=new r(I,v),e([d()],H.prototype,\"_error\",void 0),e([d()],H.prototype,\"_featureAbortController\",void 0),e([d({readOnly:!0})],H.prototype,\"_effectivePopupTemplate\",null),e([d({readOnly:!0})],H.prototype,\"_fieldInfoMap\",null),e([d({readOnly:!0})],H.prototype,\"_sourceLayer\",null),e([d()],H.prototype,\"abilities\",void 0),e([u(\"abilities\")],H.prototype,\"castAbilities\",null),e([d({readOnly:!0})],H.prototype,\"content\",void 0),e([d({readOnly:!0})],H.prototype,\"contentViewModels\",void 0),e([d({type:Boolean})],H.prototype,\"defaultPopupTemplateEnabled\",void 0),e([d({readOnly:!0})],H.prototype,\"state\",null),e([d({readOnly:!0})],H.prototype,\"formattedAttributes\",void 0),e([d({type:t,value:null})],H.prototype,\"graphic\",null),e([d({readOnly:!0})],H.prototype,\"lastEditInfo\",void 0),e([d({readOnly:!0})],H.prototype,\"relatedInfos\",void 0),e([d()],H.prototype,\"spatialReference\",null),e([d({readOnly:!0})],H.prototype,\"title\",void 0),e([d()],H.prototype,\"map\",null),e([d({readOnly:!0})],H.prototype,\"waitingForContent\",null),e([d()],H.prototype,\"view\",void 0),H=N=e([f(Q)],H);const z=H;export{z as default};\n"]},"metadata":{},"sourceType":"module"}