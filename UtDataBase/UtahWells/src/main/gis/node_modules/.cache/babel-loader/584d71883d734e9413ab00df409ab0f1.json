{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"../../request.js\";\nimport r from \"../../core/Error.js\";\nimport { isAbortError as t } from \"../../core/promiseUtils.js\";\nconst o = \";base64,\";\n\nclass s {\n  constructor() {\n    this._resourceMap = new Map(), this._inFlightResourceMap = new Map(), this.geometryEngine = null;\n  }\n\n  destroy() {\n    this._inFlightResourceMap.clear(), this._resourceMap.clear();\n  }\n\n  getResource(e) {\n    var r;\n    return null != (r = this._resourceMap.get(e)) ? r : null;\n  }\n\n  async fetchResource(e, r) {\n    const t = {\n      width: 0,\n      height: 0\n    },\n          o = this._resourceMap,\n          s = o.get(e);\n    if (s) return t.width = s.width, t.height = s.height, t;\n\n    let c = this._inFlightResourceMap.get(e);\n\n    return c || (c = i(e, r), this._inFlightResourceMap.set(e, c), c = c.then(r => {\n      if (this._inFlightResourceMap.delete(e), r.ok) {\n        o.set(e, r.value);\n        const s = r.value;\n        return t.width = s.width, t.height = s.height, t;\n      }\n\n      return t;\n    }), c);\n  }\n\n  deleteResource(e) {\n    this._inFlightResourceMap.delete(e), this._resourceMap.delete(e);\n  }\n\n}\n\nfunction i(s, i) {\n  if (s.includes(o)) {\n    const e = new Image();\n    return e.src = s, e.decode().then(() => ({\n      ok: !0,\n      value: e\n    })).catch(e => t(e) ? {\n      ok: !1,\n      error: e\n    } : {\n      ok: !1,\n      error: new r(\"invalid-resource\", `Could not fetch requested resource at ${s}`)\n    });\n  }\n\n  return e(s, {\n    responseType: \"image\",\n    ...i\n  }).then(e => ({\n    ok: !0,\n    value: e.data\n  })).catch(e => t(e) ? {\n    ok: !1,\n    error: e\n  } : {\n    ok: !1,\n    error: new r(\"invalid-resource\", `Could not fetch requested resource at ${s}`)\n  });\n}\n\nexport { s as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/symbols/cim/CIMResourceManager.js"],"names":["e","r","isAbortError","t","o","s","constructor","_resourceMap","Map","_inFlightResourceMap","geometryEngine","destroy","clear","getResource","get","fetchResource","width","height","c","i","set","then","delete","ok","value","deleteResource","includes","Image","src","decode","catch","error","responseType","data","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isAbortError as t}from\"../../core/promiseUtils.js\";const o=\";base64,\";class s{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){var r;return null!=(r=this._resourceMap.get(e))?r:null}async fetchResource(e,r){const t={width:0,height:0},o=this._resourceMap,s=o.get(e);if(s)return t.width=s.width,t.height=s.height,t;let c=this._inFlightResourceMap.get(e);return c||(c=i(e,r),this._inFlightResourceMap.set(e,c),c=c.then((r=>{if(this._inFlightResourceMap.delete(e),r.ok){o.set(e,r.value);const s=r.value;return t.width=s.width,t.height=s.height,t}return t})),c)}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}}function i(s,i){if(s.includes(o)){const e=new Image;return e.src=s,e.decode().then((()=>({ok:!0,value:e}))).catch((e=>t(e)?{ok:!1,error:e}:{ok:!1,error:new r(\"invalid-resource\",`Could not fetch requested resource at ${s}`)}))}return e(s,{responseType:\"image\",...i}).then((e=>({ok:!0,value:e.data}))).catch((e=>t(e)?{ok:!1,error:e}:{ok:!1,error:new r(\"invalid-resource\",`Could not fetch requested resource at ${s}`)}))}export{s as default};\n"]},"metadata":{},"sourceType":"module"}