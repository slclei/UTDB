{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport \"../../../../core/has.js\";\nimport { isSome as t } from \"../../../../core/maybe.js\";\nimport { b as e, c as s, r as a, j as r, m as i } from \"../../../../chunks/mat3.js\";\nimport { c as o } from \"../../../../chunks/mat3f32.js\";\nimport { f as n } from \"../../../../chunks/vec2f32.js\";\nimport { createVFMesh as l, createVFMeshScalar as c } from \"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";\nimport { DisplayObject as h } from \"../DisplayObject.js\";\nimport { createProgramDescriptor as m } from \"../webgl/Utils.js\";\nimport { BufferObject as u } from \"../../../webgl/BufferObject.js\";\nimport { Usage as d, DataType as v } from \"../../../webgl/enums.js\";\nimport { VertexArrayObject as f } from \"../../../webgl/VertexArrayObject.js\";\n\nclass _ extends h {\n  constructor() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    super(), this._source = null, this._symbolizerParameters = null, this._vaoInvalidated = !0, this.coordScale = [1, 1], this.height = null, this.stencilRef = 0, this.resolution = null, this.pixelRatio = 1, this.x = 0, this.y = 0, this.rotation = 0, this.rawPixelData = null, this.width = null, this.source = t;\n  }\n\n  destroy() {\n    var e, s;\n    t(this.vaoData) && (null == (e = this.vaoData.magdir) || e.vao.dispose(), null == (s = this.vaoData.scalar) || s.vao.dispose(), this.vaoData = null);\n  }\n\n  get symbolizerParameters() {\n    return this._symbolizerParameters;\n  }\n\n  set symbolizerParameters(t) {\n    JSON.stringify(this._symbolizerParameters) !== JSON.stringify(t) && (this._symbolizerParameters = t, this.invalidateVAO());\n  }\n\n  get source() {\n    return this._source;\n  }\n\n  set source(t) {\n    this._source = t, this.invalidateVAO();\n  }\n\n  invalidateVAO() {\n    var e, s;\n    !this._vaoInvalidated && t(this.vaoData) && (null == (e = this.vaoData.magdir) || e.vao.dispose(), null == (s = this.vaoData.scalar) || s.vao.dispose(), this.vaoData = null, this._vaoInvalidated = !0, this.requestRender());\n  }\n\n  updateVectorFieldVAO(e) {\n    if (this._vaoInvalidated) {\n      if (this._vaoInvalidated = !1, t(this.source) && !t(this.vaoData)) {\n        const {\n          style: t\n        } = this.symbolizerParameters;\n\n        switch (t) {\n          case \"beaufort_ft\":\n          case \"beaufort_km\":\n          case \"beaufort_kn\":\n          case \"beaufort_m\":\n          case \"beaufort_mi\":\n          case \"classified_arrow\":\n          case \"ocean_current_kn\":\n          case \"ocean_current_m\":\n          case \"single_arrow\":\n            {\n              const t = l(this.source, this.symbolizerParameters),\n                    s = this._createVectorFieldVAO(e.context, t);\n\n              this.vaoData = {\n                magdir: s\n              };\n            }\n            break;\n\n          case \"simple_scalar\":\n            {\n              const t = c(this.source, this.symbolizerParameters),\n                    s = this._createVectorFieldVAO(e.context, t);\n\n              this.vaoData = {\n                scalar: s\n              };\n            }\n            break;\n\n          case \"wind_speed\":\n            {\n              const t = l(this.source, this.symbolizerParameters),\n                    s = this._createVectorFieldVAO(e.context, t),\n                    a = c(this.source, this.symbolizerParameters),\n                    r = this._createVectorFieldVAO(e.context, a);\n\n              this.vaoData = {\n                magdir: s,\n                scalar: r\n              };\n            }\n        }\n      }\n\n      this.ready(), this.requestRender();\n    }\n  }\n\n  _createTransforms() {\n    return {\n      dvs: o()\n    };\n  }\n\n  setTransform(t) {\n    const o = e(this.transforms.dvs),\n          [l, c] = t.toScreenNoRotation([0, 0], [this.x, this.y]),\n          h = this.resolution / this.pixelRatio / t.resolution,\n          m = h * this.width,\n          u = h * this.height,\n          d = Math.PI * this.rotation / 180;\n    s(o, o, n(l, c)), s(o, o, n(m / 2, u / 2)), a(o, o, -d), s(o, o, n(-m / 2, -u / 2)), r(o, o, n(m, u)), i(this.transforms.dvs, t.displayViewMat3, o);\n  }\n\n  onAttach() {\n    this.invalidateVAO();\n  }\n\n  onDetach() {\n    this.invalidateVAO();\n  }\n\n  _createVectorFieldVAO(t, e) {\n    const {\n      vertexData: s,\n      indexData: a\n    } = e,\n          r = u.createVertex(t, d.STATIC_DRAW, new Float32Array(s)),\n          i = u.createIndex(t, d.STATIC_DRAW, new Uint32Array(a)),\n          o = m(\"vector-field\", {\n      geometry: [{\n        location: 0,\n        name: \"a_pos\",\n        count: 2,\n        type: v.FLOAT,\n        normalized: !1\n      }, {\n        location: 1,\n        name: \"a_offset\",\n        count: 2,\n        type: v.FLOAT,\n        normalized: !1\n      }, {\n        location: 2,\n        name: \"a_vv\",\n        count: 2,\n        type: v.FLOAT,\n        normalized: !1\n      }]\n    });\n    return {\n      vao: new f(t, o.attributes, o.bufferLayouts, {\n        geometry: r\n      }, i),\n      elementCount: a.length\n    };\n  }\n\n}\n\nexport { _ as RasterVFDisplayObject };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFDisplayObject.js"],"names":["isSome","t","b","e","c","s","r","a","j","m","i","o","f","n","createVFMesh","l","createVFMeshScalar","DisplayObject","h","createProgramDescriptor","BufferObject","u","Usage","d","DataType","v","VertexArrayObject","_","constructor","_source","_symbolizerParameters","_vaoInvalidated","coordScale","height","stencilRef","resolution","pixelRatio","x","y","rotation","rawPixelData","width","source","destroy","vaoData","magdir","vao","dispose","scalar","symbolizerParameters","JSON","stringify","invalidateVAO","requestRender","updateVectorFieldVAO","style","_createVectorFieldVAO","context","ready","_createTransforms","dvs","setTransform","transforms","toScreenNoRotation","Math","PI","displayViewMat3","onAttach","onDetach","vertexData","indexData","createVertex","STATIC_DRAW","Float32Array","createIndex","Uint32Array","geometry","location","name","count","type","FLOAT","normalized","attributes","bufferLayouts","elementCount","length","RasterVFDisplayObject"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAM,yBAAN;AAAgC,SAAOA,MAAM,IAAIC,CAAjB,QAAuB,2BAAvB;AAAmD,SAAOC,CAAC,IAAIC,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,EAAqBC,CAAC,IAAIC,CAA1B,EAA4BC,CAAC,IAAIF,CAAjC,EAAmCG,CAAC,IAAIC,CAAxC,QAA8C,4BAA9C;AAA2E,SAAON,CAAC,IAAIO,CAAZ,QAAkB,+BAAlB;AAAkD,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,+BAAlB;AAAkD,SAAOC,YAAY,IAAIC,CAAvB,EAAyBC,kBAAkB,IAAIZ,CAA/C,QAAqD,gEAArD;AAAsH,SAAOa,aAAa,IAAIC,CAAxB,QAA8B,qBAA9B;AAAoD,SAAOC,uBAAuB,IAAIV,CAAlC,QAAwC,mBAAxC;AAA4D,SAAOW,YAAY,IAAIC,CAAvB,QAA6B,gCAA7B;AAA8D,SAAOC,KAAK,IAAIC,CAAhB,EAAkBC,QAAQ,IAAIC,CAA9B,QAAoC,yBAApC;AAA8D,SAAOC,iBAAiB,IAAId,CAA5B,QAAkC,qCAAlC;;AAAwE,MAAMe,CAAN,SAAgBT,CAAhB,CAAiB;AAACU,EAAAA,WAAW,GAAQ;AAAA,QAAP3B,CAAO,uEAAL,IAAK;AAAC,aAAQ,KAAK4B,OAAL,GAAa,IAArB,EAA0B,KAAKC,qBAAL,GAA2B,IAArD,EAA0D,KAAKC,eAAL,GAAqB,CAAC,CAAhF,EAAkF,KAAKC,UAAL,GAAgB,CAAC,CAAD,EAAG,CAAH,CAAlG,EAAwG,KAAKC,MAAL,GAAY,IAApH,EAAyH,KAAKC,UAAL,GAAgB,CAAzI,EAA2I,KAAKC,UAAL,GAAgB,IAA3J,EAAgK,KAAKC,UAAL,GAAgB,CAAhL,EAAkL,KAAKC,CAAL,GAAO,CAAzL,EAA2L,KAAKC,CAAL,GAAO,CAAlM,EAAoM,KAAKC,QAAL,GAAc,CAAlN,EAAoN,KAAKC,YAAL,GAAkB,IAAtO,EAA2O,KAAKC,KAAL,GAAW,IAAtP,EAA2P,KAAKC,MAAL,GAAYzC,CAAvQ;AAAyQ;;AAAA0C,EAAAA,OAAO,GAAE;AAAC,QAAIxC,CAAJ,EAAME,CAAN;AAAQJ,IAAAA,CAAC,CAAC,KAAK2C,OAAN,CAAD,KAAkB,SAAOzC,CAAC,GAAC,KAAKyC,OAAL,CAAaC,MAAtB,KAA+B1C,CAAC,CAAC2C,GAAF,CAAMC,OAAN,EAA/B,EAA+C,SAAO1C,CAAC,GAAC,KAAKuC,OAAL,CAAaI,MAAtB,KAA+B3C,CAAC,CAACyC,GAAF,CAAMC,OAAN,EAA9E,EAA8F,KAAKH,OAAL,GAAa,IAA7H;AAAmI;;AAAwB,MAApBK,oBAAoB,GAAE;AAAC,WAAO,KAAKnB,qBAAZ;AAAkC;;AAAwB,MAApBmB,oBAAoB,CAAChD,CAAD,EAAG;AAACiD,IAAAA,IAAI,CAACC,SAAL,CAAe,KAAKrB,qBAApB,MAA6CoB,IAAI,CAACC,SAAL,CAAelD,CAAf,CAA7C,KAAiE,KAAK6B,qBAAL,GAA2B7B,CAA3B,EAA6B,KAAKmD,aAAL,EAA9F;AAAoH;;AAAU,MAANV,MAAM,GAAE;AAAC,WAAO,KAAKb,OAAZ;AAAoB;;AAAU,MAANa,MAAM,CAACzC,CAAD,EAAG;AAAC,SAAK4B,OAAL,GAAa5B,CAAb,EAAe,KAAKmD,aAAL,EAAf;AAAoC;;AAAAA,EAAAA,aAAa,GAAE;AAAC,QAAIjD,CAAJ,EAAME,CAAN;AAAQ,KAAC,KAAK0B,eAAN,IAAuB9B,CAAC,CAAC,KAAK2C,OAAN,CAAxB,KAAyC,SAAOzC,CAAC,GAAC,KAAKyC,OAAL,CAAaC,MAAtB,KAA+B1C,CAAC,CAAC2C,GAAF,CAAMC,OAAN,EAA/B,EAA+C,SAAO1C,CAAC,GAAC,KAAKuC,OAAL,CAAaI,MAAtB,KAA+B3C,CAAC,CAACyC,GAAF,CAAMC,OAAN,EAA9E,EAA8F,KAAKH,OAAL,GAAa,IAA3G,EAAgH,KAAKb,eAAL,GAAqB,CAAC,CAAtI,EAAwI,KAAKsB,aAAL,EAAjL;AAAuM;;AAAAC,EAAAA,oBAAoB,CAACnD,CAAD,EAAG;AAAC,QAAG,KAAK4B,eAAR,EAAwB;AAAC,UAAG,KAAKA,eAAL,GAAqB,CAAC,CAAtB,EAAwB9B,CAAC,CAAC,KAAKyC,MAAN,CAAD,IAAgB,CAACzC,CAAC,CAAC,KAAK2C,OAAN,CAA7C,EAA4D;AAAC,cAAK;AAACW,UAAAA,KAAK,EAACtD;AAAP,YAAU,KAAKgD,oBAApB;;AAAyC,gBAAOhD,CAAP;AAAU,eAAI,aAAJ;AAAkB,eAAI,aAAJ;AAAkB,eAAI,aAAJ;AAAkB,eAAI,YAAJ;AAAiB,eAAI,aAAJ;AAAkB,eAAI,kBAAJ;AAAuB,eAAI,kBAAJ;AAAuB,eAAI,iBAAJ;AAAsB,eAAI,cAAJ;AAAmB;AAAC,oBAAMA,CAAC,GAACc,CAAC,CAAC,KAAK2B,MAAN,EAAa,KAAKO,oBAAlB,CAAT;AAAA,oBAAiD5C,CAAC,GAAC,KAAKmD,qBAAL,CAA2BrD,CAAC,CAACsD,OAA7B,EAAqCxD,CAArC,CAAnD;;AAA2F,mBAAK2C,OAAL,GAAa;AAACC,gBAAAA,MAAM,EAACxC;AAAR,eAAb;AAAwB;AAAA;;AAAM,eAAI,eAAJ;AAAoB;AAAC,oBAAMJ,CAAC,GAACG,CAAC,CAAC,KAAKsC,MAAN,EAAa,KAAKO,oBAAlB,CAAT;AAAA,oBAAiD5C,CAAC,GAAC,KAAKmD,qBAAL,CAA2BrD,CAAC,CAACsD,OAA7B,EAAqCxD,CAArC,CAAnD;;AAA2F,mBAAK2C,OAAL,GAAa;AAACI,gBAAAA,MAAM,EAAC3C;AAAR,eAAb;AAAwB;AAAA;;AAAM,eAAI,YAAJ;AAAiB;AAAC,oBAAMJ,CAAC,GAACc,CAAC,CAAC,KAAK2B,MAAN,EAAa,KAAKO,oBAAlB,CAAT;AAAA,oBAAiD5C,CAAC,GAAC,KAAKmD,qBAAL,CAA2BrD,CAAC,CAACsD,OAA7B,EAAqCxD,CAArC,CAAnD;AAAA,oBAA2FM,CAAC,GAACH,CAAC,CAAC,KAAKsC,MAAN,EAAa,KAAKO,oBAAlB,CAA9F;AAAA,oBAAsI3C,CAAC,GAAC,KAAKkD,qBAAL,CAA2BrD,CAAC,CAACsD,OAA7B,EAAqClD,CAArC,CAAxI;;AAAgL,mBAAKqC,OAAL,GAAa;AAACC,gBAAAA,MAAM,EAACxC,CAAR;AAAU2C,gBAAAA,MAAM,EAAC1C;AAAjB,eAAb;AAAiC;AAArqB;AAAuqB;;AAAA,WAAKoD,KAAL,IAAa,KAAKL,aAAL,EAAb;AAAkC;AAAC;;AAAAM,EAAAA,iBAAiB,GAAE;AAAC,WAAM;AAACC,MAAAA,GAAG,EAACjD,CAAC;AAAN,KAAN;AAAgB;;AAAAkD,EAAAA,YAAY,CAAC5D,CAAD,EAAG;AAAC,UAAMU,CAAC,GAACR,CAAC,CAAC,KAAK2D,UAAL,CAAgBF,GAAjB,CAAT;AAAA,UAA+B,CAAC7C,CAAD,EAAGX,CAAH,IAAMH,CAAC,CAAC8D,kBAAF,CAAqB,CAAC,CAAD,EAAG,CAAH,CAArB,EAA2B,CAAC,KAAK1B,CAAN,EAAQ,KAAKC,CAAb,CAA3B,CAArC;AAAA,UAAiFpB,CAAC,GAAC,KAAKiB,UAAL,GAAgB,KAAKC,UAArB,GAAgCnC,CAAC,CAACkC,UAArH;AAAA,UAAgI1B,CAAC,GAACS,CAAC,GAAC,KAAKuB,KAAzI;AAAA,UAA+IpB,CAAC,GAACH,CAAC,GAAC,KAAKe,MAAxJ;AAAA,UAA+JV,CAAC,GAACyC,IAAI,CAACC,EAAL,GAAQ,KAAK1B,QAAb,GAAsB,GAAvL;AAA2LlC,IAAAA,CAAC,CAACM,CAAD,EAAGA,CAAH,EAAKE,CAAC,CAACE,CAAD,EAAGX,CAAH,CAAN,CAAD,EAAcC,CAAC,CAACM,CAAD,EAAGA,CAAH,EAAKE,CAAC,CAACJ,CAAC,GAAC,CAAH,EAAKY,CAAC,GAAC,CAAP,CAAN,CAAf,EAAgCd,CAAC,CAACI,CAAD,EAAGA,CAAH,EAAK,CAACY,CAAN,CAAjC,EAA0ClB,CAAC,CAACM,CAAD,EAAGA,CAAH,EAAKE,CAAC,CAAC,CAACJ,CAAD,GAAG,CAAJ,EAAM,CAACY,CAAD,GAAG,CAAT,CAAN,CAA3C,EAA8Df,CAAC,CAACK,CAAD,EAAGA,CAAH,EAAKE,CAAC,CAACJ,CAAD,EAAGY,CAAH,CAAN,CAA/D,EAA4EX,CAAC,CAAC,KAAKoD,UAAL,CAAgBF,GAAjB,EAAqB3D,CAAC,CAACiE,eAAvB,EAAuCvD,CAAvC,CAA7E;AAAuH;;AAAAwD,EAAAA,QAAQ,GAAE;AAAC,SAAKf,aAAL;AAAqB;;AAAAgB,EAAAA,QAAQ,GAAE;AAAC,SAAKhB,aAAL;AAAqB;;AAAAI,EAAAA,qBAAqB,CAACvD,CAAD,EAAGE,CAAH,EAAK;AAAC,UAAK;AAACkE,MAAAA,UAAU,EAAChE,CAAZ;AAAciE,MAAAA,SAAS,EAAC/D;AAAxB,QAA2BJ,CAAhC;AAAA,UAAkCG,CAAC,GAACe,CAAC,CAACkD,YAAF,CAAetE,CAAf,EAAiBsB,CAAC,CAACiD,WAAnB,EAA+B,IAAIC,YAAJ,CAAiBpE,CAAjB,CAA/B,CAApC;AAAA,UAAwFK,CAAC,GAACW,CAAC,CAACqD,WAAF,CAAczE,CAAd,EAAgBsB,CAAC,CAACiD,WAAlB,EAA8B,IAAIG,WAAJ,CAAgBpE,CAAhB,CAA9B,CAA1F;AAAA,UAA4II,CAAC,GAACF,CAAC,CAAC,cAAD,EAAgB;AAACmE,MAAAA,QAAQ,EAAC,CAAC;AAACC,QAAAA,QAAQ,EAAC,CAAV;AAAYC,QAAAA,IAAI,EAAC,OAAjB;AAAyBC,QAAAA,KAAK,EAAC,CAA/B;AAAiCC,QAAAA,IAAI,EAACvD,CAAC,CAACwD,KAAxC;AAA8CC,QAAAA,UAAU,EAAC,CAAC;AAA1D,OAAD,EAA8D;AAACL,QAAAA,QAAQ,EAAC,CAAV;AAAYC,QAAAA,IAAI,EAAC,UAAjB;AAA4BC,QAAAA,KAAK,EAAC,CAAlC;AAAoCC,QAAAA,IAAI,EAACvD,CAAC,CAACwD,KAA3C;AAAiDC,QAAAA,UAAU,EAAC,CAAC;AAA7D,OAA9D,EAA8H;AAACL,QAAAA,QAAQ,EAAC,CAAV;AAAYC,QAAAA,IAAI,EAAC,MAAjB;AAAwBC,QAAAA,KAAK,EAAC,CAA9B;AAAgCC,QAAAA,IAAI,EAACvD,CAAC,CAACwD,KAAvC;AAA6CC,QAAAA,UAAU,EAAC,CAAC;AAAzD,OAA9H;AAAV,KAAhB,CAA/I;AAAsW,WAAM;AAACpC,MAAAA,GAAG,EAAC,IAAIlC,CAAJ,CAAMX,CAAN,EAAQU,CAAC,CAACwE,UAAV,EAAqBxE,CAAC,CAACyE,aAAvB,EAAqC;AAACR,QAAAA,QAAQ,EAACtE;AAAV,OAArC,EAAkDI,CAAlD,CAAL;AAA0D2E,MAAAA,YAAY,EAAC9E,CAAC,CAAC+E;AAAzE,KAAN;AAAuF;;AAAjpF;;AAAkpF,SAAO3D,CAAC,IAAI4D,qBAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{b as e,c as s,r as a,j as r,m as i}from\"../../../../chunks/mat3.js\";import{c as o}from\"../../../../chunks/mat3f32.js\";import{f as n}from\"../../../../chunks/vec2f32.js\";import{createVFMesh as l,createVFMeshScalar as c}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{DisplayObject as h}from\"../DisplayObject.js\";import{createProgramDescriptor as m}from\"../webgl/Utils.js\";import{BufferObject as u}from\"../../../webgl/BufferObject.js\";import{Usage as d,DataType as v}from\"../../../webgl/enums.js\";import{VertexArrayObject as f}from\"../../../webgl/VertexArrayObject.js\";class _ extends h{constructor(t=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.resolution=null,this.pixelRatio=1,this.x=0,this.y=0,this.rotation=0,this.rawPixelData=null,this.width=null,this.source=t}destroy(){var e,s;t(this.vaoData)&&(null==(e=this.vaoData.magdir)||e.vao.dispose(),null==(s=this.vaoData.scalar)||s.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(t){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(t)&&(this._symbolizerParameters=t,this.invalidateVAO())}get source(){return this._source}set source(t){this._source=t,this.invalidateVAO()}invalidateVAO(){var e,s;!this._vaoInvalidated&&t(this.vaoData)&&(null==(e=this.vaoData.magdir)||e.vao.dispose(),null==(s=this.vaoData.scalar)||s.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(e){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,t(this.source)&&!t(this.vaoData)){const{style:t}=this.symbolizerParameters;switch(t){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const t=l(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const t=c(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t);this.vaoData={scalar:s}}break;case\"wind_speed\":{const t=l(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t),a=c(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(e.context,a);this.vaoData={magdir:s,scalar:r}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:o()}}setTransform(t){const o=e(this.transforms.dvs),[l,c]=t.toScreenNoRotation([0,0],[this.x,this.y]),h=this.resolution/this.pixelRatio/t.resolution,m=h*this.width,u=h*this.height,d=Math.PI*this.rotation/180;s(o,o,n(l,c)),s(o,o,n(m/2,u/2)),a(o,o,-d),s(o,o,n(-m/2,-u/2)),r(o,o,n(m,u)),i(this.transforms.dvs,t.displayViewMat3,o)}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(t,e){const{vertexData:s,indexData:a}=e,r=u.createVertex(t,d.STATIC_DRAW,new Float32Array(s)),i=u.createIndex(t,d.STATIC_DRAW,new Uint32Array(a)),o=m(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:v.FLOAT,normalized:!1},{location:1,name:\"a_offset\",count:2,type:v.FLOAT,normalized:!1},{location:2,name:\"a_vv\",count:2,type:v.FLOAT,normalized:!1}]});return{vao:new f(t,o.attributes,o.bufferLayouts,{geometry:r},i),elementCount:a.length}}}export{_ as RasterVFDisplayObject};\n"]},"metadata":{},"sourceType":"module"}