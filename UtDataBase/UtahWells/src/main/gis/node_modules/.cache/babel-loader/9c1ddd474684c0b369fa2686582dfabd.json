{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport \"../core/has.js\";\nimport t from \"../core/Logger.js\";\nimport { acosClamped as r, cartesianToSpherical as s } from \"../core/mathUtils.js\";\nimport { isNone as n } from \"../core/maybe.js\";\nimport { d as o } from \"./mat4.js\";\nimport { g as e, b as i, a, i as c, l as u, c as f, m, f as p, p as g, n as l, s as h } from \"./vec3.js\";\nimport { c as j } from \"./vec3f64.js\";\nimport { c as y } from \"./vec4.js\";\nimport { c as d, f as A } from \"./vec4f64.js\";\nimport { Axis as M } from \"../geometry/support/Axis.js\";\nimport { closestPoint as v } from \"../geometry/support/ray.js\";\nimport { angle as b } from \"../geometry/support/vector.js\";\nimport { sv3d as R, sm4d as x } from \"../geometry/support/vectorStacks.js\";\nconst S = t.getLogger(\"esri.geometry.support.sphere\");\n\nfunction P() {\n  return d();\n}\n\nfunction _(t) {\n  let r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : P();\n  return y(r, t);\n}\n\nfunction q(t, r) {\n  return A(t[0], t[1], t[2], r);\n}\n\nfunction w(t) {\n  return t;\n}\n\nfunction C(t) {\n  t[0] = t[1] = t[2] = t[3] = 0;\n}\n\nfunction k(t) {\n  return t;\n}\n\nfunction E(t) {\n  return Array.isArray(t) ? t[3] : t;\n}\n\nfunction L(t) {\n  return Array.isArray(t) ? t : N;\n}\n\nfunction O(t, r, s, n) {\n  return A(t, r, s, n);\n}\n\nfunction T(t, r, s) {\n  return t !== s && e(s, t), s[3] = t[3] + r, s;\n}\n\nfunction Z(t, r, s) {\n  return S.error(\"sphere.setExtent is not yet supported\"), t === s ? s : _(t, s);\n}\n\nfunction z(t, r, s) {\n  if (n(r)) return !1;\n  const {\n    origin: o,\n    direction: e\n  } = r,\n        i = U;\n  i[0] = o[0] - t[0], i[1] = o[1] - t[1], i[2] = o[2] - t[2];\n  const a = e[0] * e[0] + e[1] * e[1] + e[2] * e[2],\n        c = 2 * (e[0] * i[0] + e[1] * i[1] + e[2] * i[2]),\n        u = c * c - 4 * a * (i[0] * i[0] + i[1] * i[1] + i[2] * i[2] - t[3] * t[3]);\n  if (u < 0) return !1;\n  const f = Math.sqrt(u);\n  let m = (-c - f) / (2 * a);\n  const p = (-c + f) / (2 * a);\n  return (m < 0 || p < m && p > 0) && (m = p), !(m < 0) && (s && (s[0] = o[0] + e[0] * m, s[1] = o[1] + e[1] * m, s[2] = o[2] + e[2] * m), !0);\n}\n\nconst U = j();\n\nfunction V(t, r) {\n  return z(t, r, null);\n}\n\nfunction X(t, r, s) {\n  if (z(t, r, s)) return s;\n  const n = Y(t, r, R.get());\n  return i(s, r.origin, a(R.get(), r.direction, c(r.origin, n) / u(r.direction))), s;\n}\n\nfunction Y(t, r, s) {\n  const n = R.get(),\n        e = x.get();\n  f(n, r.origin, r.direction);\n  const i = E(t);\n  f(s, n, r.origin), a(s, s, 1 / u(s) * i);\n  const c = G(t, r.origin),\n        p = b(r.origin, s);\n  return o(e, p + c, n), m(s, s, e), s;\n}\n\nfunction B(t, r, s) {\n  return z(t, r, s) ? s : (v(r, L(t), s), D(t, s, s));\n}\n\nfunction D(t, r, s) {\n  const n = p(R.get(), r, L(t)),\n        o = a(R.get(), n, t[3] / u(n));\n  return i(s, o, L(t));\n}\n\nfunction F(t, r) {\n  const s = p(R.get(), r, L(t)),\n        n = g(s),\n        o = t[3] * t[3];\n  return Math.sqrt(Math.abs(n - o));\n}\n\nfunction G(t, s) {\n  const n = p(R.get(), s, L(t)),\n        o = u(n),\n        e = E(t),\n        i = e + Math.abs(e - o);\n  return r(e / i);\n}\n\nconst H = j();\n\nfunction I(t, r, n, o) {\n  const e = p(H, r, L(t));\n\n  switch (n) {\n    case M.X:\n      {\n        const t = s(e, H)[2];\n        return h(o, -Math.sin(t), Math.cos(t), 0);\n      }\n\n    case M.Y:\n      {\n        const t = s(e, H),\n              r = t[1],\n              n = t[2],\n              i = Math.sin(r);\n        return h(o, -i * Math.cos(n), -i * Math.sin(n), Math.cos(r));\n      }\n\n    case M.Z:\n      return l(o, e);\n\n    default:\n      return;\n  }\n}\n\nfunction J(t, r) {\n  const s = p(Q, r, L(t));\n  return u(s) - t[3];\n}\n\nfunction K(t, r, s, n) {\n  const o = J(t, r),\n        e = I(t, r, M.Z, Q),\n        c = a(Q, e, s - o);\n  return i(n, r, c);\n}\n\nconst N = j(),\n      Q = j(),\n      W = Object.freeze({\n  __proto__: null,\n  create: P,\n  copy: _,\n  fromCenterAndRadius: q,\n  wrap: w,\n  clear: C,\n  fromRadius: k,\n  getRadius: E,\n  getCenter: L,\n  fromValues: O,\n  elevate: T,\n  setExtent: Z,\n  intersectRay: z,\n  intersectsRay: V,\n  intersectRayClosestSilhouette: X,\n  closestPointOnSilhouette: Y,\n  closestPoint: B,\n  projectPoint: D,\n  distanceToSilhouette: F,\n  angleToSilhouette: G,\n  axisAt: I,\n  altitudeAt: J,\n  setAltitudeAt: K\n});\nexport { C as a, _ as b, P as c, F as d, z as e, O as f, L as g, Y as h, V as i, k as j, q as k, E as l, T as m, Z as n, X as o, B as p, D as q, G as r, W as s, I as t, J as u, K as v, w };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/chunks/sphere.js"],"names":["t","acosClamped","r","cartesianToSpherical","s","isNone","n","d","o","g","e","b","i","a","c","l","u","f","m","p","h","j","y","A","Axis","M","closestPoint","v","angle","sv3d","R","sm4d","x","S","getLogger","P","_","q","w","C","k","E","Array","isArray","L","N","O","T","Z","error","z","origin","direction","U","Math","sqrt","V","X","Y","get","G","B","D","F","abs","H","I","sin","cos","J","Q","K","W","Object","freeze","__proto__","create","copy","fromCenterAndRadius","wrap","clear","fromRadius","getRadius","getCenter","fromValues","elevate","setExtent","intersectRay","intersectsRay","intersectRayClosestSilhouette","closestPointOnSilhouette","projectPoint","distanceToSilhouette","angleToSilhouette","axisAt","altitudeAt","setAltitudeAt"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import t from\"../core/Logger.js\";import{acosClamped as r,cartesianToSpherical as s}from\"../core/mathUtils.js\";import{isNone as n}from\"../core/maybe.js\";import{d as o}from\"./mat4.js\";import{g as e,b as i,a,i as c,l as u,c as f,m,f as p,p as g,n as l,s as h}from\"./vec3.js\";import{c as j}from\"./vec3f64.js\";import{c as y}from\"./vec4.js\";import{c as d,f as A}from\"./vec4f64.js\";import{Axis as M}from\"../geometry/support/Axis.js\";import{closestPoint as v}from\"../geometry/support/ray.js\";import{angle as b}from\"../geometry/support/vector.js\";import{sv3d as R,sm4d as x}from\"../geometry/support/vectorStacks.js\";const S=t.getLogger(\"esri.geometry.support.sphere\");function P(){return d()}function _(t,r=P()){return y(r,t)}function q(t,r){return A(t[0],t[1],t[2],r)}function w(t){return t}function C(t){t[0]=t[1]=t[2]=t[3]=0}function k(t){return t}function E(t){return Array.isArray(t)?t[3]:t}function L(t){return Array.isArray(t)?t:N}function O(t,r,s,n){return A(t,r,s,n)}function T(t,r,s){return t!==s&&e(s,t),s[3]=t[3]+r,s}function Z(t,r,s){return S.error(\"sphere.setExtent is not yet supported\"),t===s?s:_(t,s)}function z(t,r,s){if(n(r))return!1;const{origin:o,direction:e}=r,i=U;i[0]=o[0]-t[0],i[1]=o[1]-t[1],i[2]=o[2]-t[2];const a=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],c=2*(e[0]*i[0]+e[1]*i[1]+e[2]*i[2]),u=c*c-4*a*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(u<0)return!1;const f=Math.sqrt(u);let m=(-c-f)/(2*a);const p=(-c+f)/(2*a);return(m<0||p<m&&p>0)&&(m=p),!(m<0)&&(s&&(s[0]=o[0]+e[0]*m,s[1]=o[1]+e[1]*m,s[2]=o[2]+e[2]*m),!0)}const U=j();function V(t,r){return z(t,r,null)}function X(t,r,s){if(z(t,r,s))return s;const n=Y(t,r,R.get());return i(s,r.origin,a(R.get(),r.direction,c(r.origin,n)/u(r.direction))),s}function Y(t,r,s){const n=R.get(),e=x.get();f(n,r.origin,r.direction);const i=E(t);f(s,n,r.origin),a(s,s,1/u(s)*i);const c=G(t,r.origin),p=b(r.origin,s);return o(e,p+c,n),m(s,s,e),s}function B(t,r,s){return z(t,r,s)?s:(v(r,L(t),s),D(t,s,s))}function D(t,r,s){const n=p(R.get(),r,L(t)),o=a(R.get(),n,t[3]/u(n));return i(s,o,L(t))}function F(t,r){const s=p(R.get(),r,L(t)),n=g(s),o=t[3]*t[3];return Math.sqrt(Math.abs(n-o))}function G(t,s){const n=p(R.get(),s,L(t)),o=u(n),e=E(t),i=e+Math.abs(e-o);return r(e/i)}const H=j();function I(t,r,n,o){const e=p(H,r,L(t));switch(n){case M.X:{const t=s(e,H)[2];return h(o,-Math.sin(t),Math.cos(t),0)}case M.Y:{const t=s(e,H),r=t[1],n=t[2],i=Math.sin(r);return h(o,-i*Math.cos(n),-i*Math.sin(n),Math.cos(r))}case M.Z:return l(o,e);default:return}}function J(t,r){const s=p(Q,r,L(t));return u(s)-t[3]}function K(t,r,s,n){const o=J(t,r),e=I(t,r,M.Z,Q),c=a(Q,e,s-o);return i(n,r,c)}const N=j(),Q=j(),W=Object.freeze({__proto__:null,create:P,copy:_,fromCenterAndRadius:q,wrap:w,clear:C,fromRadius:k,getRadius:E,getCenter:L,fromValues:O,elevate:T,setExtent:Z,intersectRay:z,intersectsRay:V,intersectRayClosestSilhouette:X,closestPointOnSilhouette:Y,closestPoint:B,projectPoint:D,distanceToSilhouette:F,angleToSilhouette:G,axisAt:I,altitudeAt:J,setAltitudeAt:K});export{C as a,_ as b,P as c,F as d,z as e,O as f,L as g,Y as h,V as i,k as j,q as k,E as l,T as m,Z as n,X as o,B as p,D as q,G as r,W as s,I as t,J as u,K as v,w};\n"]},"metadata":{},"sourceType":"module"}