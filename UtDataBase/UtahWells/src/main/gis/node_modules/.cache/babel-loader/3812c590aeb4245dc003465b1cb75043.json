{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { create as n } from \"./aaBoundingRect.js\";\nimport { getBoundsXY as t } from \"./boundsUtils.js\";\nimport { extentIntersectsPolyline as i } from \"./intersectsBase.js\";\nimport { isPoint as m, isMultipoint as s, isExtent as e, isPolygon as x, isPolyline as o } from \"./jsonUtils.js\";\nimport { cutParams as a, getGeometryParts as r, offsetMagnitude as f } from \"./normalizeUtilsCommon.js\";\nimport { getInfo as c, isWebMercator as l } from \"./spatialReferenceUtils.js\";\n\nfunction u(n) {\n  if (!n) return null;\n  let r = null;\n  const u = n.spatialReference,\n        d = c(u);\n  if (!d) return \"toJSON\" in n ? n.toJSON() : n;\n  const I = l(u) ? 102100 : 4326,\n        g = a[I].maxX,\n        j = a[I].minX,\n        M = a[I].plus180Line,\n        N = a[I].minus180Line;\n  let O;\n  const S = \"toJSON\" in n ? n.toJSON() : n;\n  if (m(S)) O = h(S, g, j);else if (s(S)) S.points = S.points.map(n => h(n, g, j)), O = S;else if (e(S)) O = y(S, d);else if (x(S) || o(S)) {\n    const n = J;\n    t(n, S);\n    const m = {\n      xmin: n[0],\n      ymin: n[1],\n      xmax: n[2],\n      ymax: n[3]\n    },\n          s = f(m.xmin, j) * (2 * g),\n          e = 0 === s ? S : p(S, s);\n    m.xmin += s, m.xmax += s, i(m, M) && m.xmax !== g || i(m, N) && m.xmin !== j ? r = e : O = e;\n  } else O = S;\n\n  if (null !== r) {\n    return new v().cut(r, g);\n  }\n\n  return O;\n}\n\nfunction p(n, t) {\n  const i = r(n);\n\n  for (const m of i) for (const n of m) n[0] += t;\n\n  return n;\n}\n\nfunction y(n, t) {\n  if (!t) return n;\n  const i = d(n, t).map(n => n.extent);\n  return i.length < 2 ? i[0] || n : i.length > 2 ? (n.xmin = t.valid[0], n.xmax = t.valid[1], n) : {\n    rings: i.map(n => [[n.xmin, n.ymin], [n.xmin, n.ymax], [n.xmax, n.ymax], [n.xmax, n.ymin], [n.xmin, n.ymin]])\n  };\n}\n\nfunction h(n, t, i) {\n  if (Array.isArray(n)) {\n    const m = n[0];\n\n    if (m > t) {\n      const i = f(m, t);\n      n[0] = m + i * (-2 * t);\n    } else if (m < i) {\n      const t = f(m, i);\n      n[0] = m + t * (-2 * i);\n    }\n  } else {\n    const m = n.x;\n\n    if (m > t) {\n      const i = f(m, t);\n      n.x += i * (-2 * t);\n    } else if (m < i) {\n      const t = f(m, i);\n      n.x += t * (-2 * i);\n    }\n  }\n\n  return n;\n}\n\nfunction d(n, t) {\n  const i = [],\n        {\n    ymin: m,\n    ymax: s\n  } = n,\n        e = n.xmax - n.xmin,\n        x = n.xmin,\n        o = n.xmax;\n  let a;\n  const [r, f] = t.valid;\n  a = I(n.xmin, t);\n  const c = a.x,\n        l = a.frameId;\n  a = I(n.xmax, t);\n  const u = a.x,\n        p = a.frameId,\n        y = c === u && e > 0;\n\n  if (e > 2 * f) {\n    const n = {\n      xmin: x < o ? c : u,\n      ymin: m,\n      xmax: f,\n      ymax: s\n    },\n          t = {\n      xmin: r,\n      ymin: m,\n      xmax: x < o ? u : c,\n      ymax: s\n    },\n          e = {\n      xmin: 0,\n      ymin: m,\n      xmax: f,\n      ymax: s\n    },\n          a = {\n      xmin: r,\n      ymin: m,\n      xmax: 0,\n      ymax: s\n    },\n          y = [],\n          h = [];\n    g(n, e) && y.push(l), g(n, a) && h.push(l), g(t, e) && y.push(p), g(t, a) && h.push(p);\n\n    for (let i = l + 1; i < p; i++) y.push(i), h.push(i);\n\n    i.push({\n      extent: n,\n      frameIds: [l]\n    }, {\n      extent: t,\n      frameIds: [p]\n    }, {\n      extent: e,\n      frameIds: y\n    }, {\n      extent: a,\n      frameIds: h\n    });\n  } else c > u || y ? i.push({\n    extent: {\n      xmin: c,\n      ymin: m,\n      xmax: f,\n      ymax: s\n    },\n    frameIds: [l]\n  }, {\n    extent: {\n      xmin: r,\n      ymin: m,\n      xmax: u,\n      ymax: s\n    },\n    frameIds: [p]\n  }) : i.push({\n    extent: {\n      xmin: c,\n      ymin: m,\n      xmax: u,\n      ymax: s\n    },\n    frameIds: [l]\n  });\n\n  return i;\n}\n\nfunction I(n, t) {\n  const [i, m] = t.valid,\n        s = 2 * m;\n  let e,\n      x = 0;\n  return n > m ? (e = Math.ceil(Math.abs(n - m) / s), n -= e * s, x = e) : n < i && (e = Math.ceil(Math.abs(n - i) / s), n += e * s, x = -e), {\n    x: n,\n    frameId: x\n  };\n}\n\nfunction g(n, t) {\n  const {\n    xmin: i,\n    ymin: m,\n    xmax: s,\n    ymax: e\n  } = t;\n  return j(n, i, m) && j(n, i, e) && j(n, s, e) && j(n, s, m);\n}\n\nfunction j(n, t, i) {\n  return t >= n.xmin && t <= n.xmax && i >= n.ymin && i <= n.ymax;\n}\n\nclass v {\n  cut(n, t) {\n    let i;\n    if (n.rings) this.closed = !0, i = n.rings, this.minPts = 4;else {\n      if (!n.paths) return null;\n      this.closed = !1, i = n.paths, this.minPts = 2;\n    }\n    const m = i.length,\n          s = -2 * t;\n\n    for (let e = 0; e < m; e++) {\n      const n = i[e];\n\n      if (n && n.length >= this.minPts) {\n        const t = [];\n\n        for (const i of n) t.push([i[0] + s, i[1]]);\n\n        i.push(t);\n      }\n    }\n\n    return this.closed ? n.rings = i : n.paths = i, n;\n  }\n\n}\n\nconst J = n();\nexport { u as normalizeCentralMeridianSync };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js"],"names":["create","n","getBoundsXY","t","extentIntersectsPolyline","i","isPoint","m","isMultipoint","s","isExtent","e","isPolygon","x","isPolyline","o","cutParams","a","getGeometryParts","r","offsetMagnitude","f","getInfo","c","isWebMercator","l","u","spatialReference","d","toJSON","I","g","maxX","j","minX","M","plus180Line","N","minus180Line","O","S","h","points","map","y","J","xmin","ymin","xmax","ymax","p","v","cut","extent","length","valid","rings","Array","isArray","frameId","push","frameIds","Math","ceil","abs","closed","minPts","paths","normalizeCentralMeridianSync"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{create as n}from\"./aaBoundingRect.js\";import{getBoundsXY as t}from\"./boundsUtils.js\";import{extentIntersectsPolyline as i}from\"./intersectsBase.js\";import{isPoint as m,isMultipoint as s,isExtent as e,isPolygon as x,isPolyline as o}from\"./jsonUtils.js\";import{cutParams as a,getGeometryParts as r,offsetMagnitude as f}from\"./normalizeUtilsCommon.js\";import{getInfo as c,isWebMercator as l}from\"./spatialReferenceUtils.js\";function u(n){if(!n)return null;let r=null;const u=n.spatialReference,d=c(u);if(!d)return\"toJSON\"in n?n.toJSON():n;const I=l(u)?102100:4326,g=a[I].maxX,j=a[I].minX,M=a[I].plus180Line,N=a[I].minus180Line;let O;const S=\"toJSON\"in n?n.toJSON():n;if(m(S))O=h(S,g,j);else if(s(S))S.points=S.points.map((n=>h(n,g,j))),O=S;else if(e(S))O=y(S,d);else if(x(S)||o(S)){const n=J;t(n,S);const m={xmin:n[0],ymin:n[1],xmax:n[2],ymax:n[3]},s=f(m.xmin,j)*(2*g),e=0===s?S:p(S,s);m.xmin+=s,m.xmax+=s,i(m,M)&&m.xmax!==g||i(m,N)&&m.xmin!==j?r=e:O=e}else O=S;if(null!==r){return(new v).cut(r,g)}return O}function p(n,t){const i=r(n);for(const m of i)for(const n of m)n[0]+=t;return n}function y(n,t){if(!t)return n;const i=d(n,t).map((n=>n.extent));return i.length<2?i[0]||n:i.length>2?(n.xmin=t.valid[0],n.xmax=t.valid[1],n):{rings:i.map((n=>[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]))}}function h(n,t,i){if(Array.isArray(n)){const m=n[0];if(m>t){const i=f(m,t);n[0]=m+i*(-2*t)}else if(m<i){const t=f(m,i);n[0]=m+t*(-2*i)}}else{const m=n.x;if(m>t){const i=f(m,t);n.x+=i*(-2*t)}else if(m<i){const t=f(m,i);n.x+=t*(-2*i)}}return n}function d(n,t){const i=[],{ymin:m,ymax:s}=n,e=n.xmax-n.xmin,x=n.xmin,o=n.xmax;let a;const[r,f]=t.valid;a=I(n.xmin,t);const c=a.x,l=a.frameId;a=I(n.xmax,t);const u=a.x,p=a.frameId,y=c===u&&e>0;if(e>2*f){const n={xmin:x<o?c:u,ymin:m,xmax:f,ymax:s},t={xmin:r,ymin:m,xmax:x<o?u:c,ymax:s},e={xmin:0,ymin:m,xmax:f,ymax:s},a={xmin:r,ymin:m,xmax:0,ymax:s},y=[],h=[];g(n,e)&&y.push(l),g(n,a)&&h.push(l),g(t,e)&&y.push(p),g(t,a)&&h.push(p);for(let i=l+1;i<p;i++)y.push(i),h.push(i);i.push({extent:n,frameIds:[l]},{extent:t,frameIds:[p]},{extent:e,frameIds:y},{extent:a,frameIds:h})}else c>u||y?i.push({extent:{xmin:c,ymin:m,xmax:f,ymax:s},frameIds:[l]},{extent:{xmin:r,ymin:m,xmax:u,ymax:s},frameIds:[p]}):i.push({extent:{xmin:c,ymin:m,xmax:u,ymax:s},frameIds:[l]});return i}function I(n,t){const[i,m]=t.valid,s=2*m;let e,x=0;return n>m?(e=Math.ceil(Math.abs(n-m)/s),n-=e*s,x=e):n<i&&(e=Math.ceil(Math.abs(n-i)/s),n+=e*s,x=-e),{x:n,frameId:x}}function g(n,t){const{xmin:i,ymin:m,xmax:s,ymax:e}=t;return j(n,i,m)&&j(n,i,e)&&j(n,s,e)&&j(n,s,m)}function j(n,t,i){return t>=n.xmin&&t<=n.xmax&&i>=n.ymin&&i<=n.ymax}class v{cut(n,t){let i;if(n.rings)this.closed=!0,i=n.rings,this.minPts=4;else{if(!n.paths)return null;this.closed=!1,i=n.paths,this.minPts=2}const m=i.length,s=-2*t;for(let e=0;e<m;e++){const n=i[e];if(n&&n.length>=this.minPts){const t=[];for(const i of n)t.push([i[0]+s,i[1]]);i.push(t)}}return this.closed?n.rings=i:n.paths=i,n}}const J=n();export{u as normalizeCentralMeridianSync};\n"]},"metadata":{},"sourceType":"module"}