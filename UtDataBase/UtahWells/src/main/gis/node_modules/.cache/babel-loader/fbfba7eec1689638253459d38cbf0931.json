{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Logger.js\";\nimport { debounce as s, ignoreAbortErrors as t } from \"../../core/promiseUtils.js\";\nimport { property as o } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { subclass as a } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { registerLayer as i, unregisterLayer as h } from \"./refresh.js\";\n\nfunction p(e) {\n  return e && \"object\" == typeof e && \"refreshTimestamp\" in e && \"refresh\" in e;\n}\n\nconst n = p => {\n  let n = class extends p {\n    constructor() {\n      super(...arguments), this.refreshInterval = 0, this.refreshTimestamp = 0, this._debounceHasDataChanged = s(() => this.hasDataChanged()), this.when().then(() => {\n        i(this);\n      }, () => {});\n    }\n\n    destroy() {\n      h(this);\n    }\n\n    get refreshParameters() {\n      return {\n        _ts: this.refreshTimestamp || null\n      };\n    }\n\n    refresh() {\n      let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Date.now();\n      t(this._debounceHasDataChanged()).then(r => {\n        r && this._set(\"refreshTimestamp\", e), this.emit(\"refresh\", {\n          dataChanged: r\n        });\n      }, e => {\n        r.getLogger(this.declaredClass).error(e), this.emit(\"refresh\", {\n          dataChanged: !1,\n          error: e\n        });\n      });\n    }\n\n    async hasDataChanged() {\n      return !0;\n    }\n\n  };\n  return e([o({\n    type: Number,\n    cast: e => e >= .1 ? e : e <= 0 ? 0 : .1,\n    json: {\n      write: !0\n    }\n  })], n.prototype, \"refreshInterval\", void 0), e([o({\n    readOnly: !0\n  })], n.prototype, \"refreshTimestamp\", void 0), e([o()], n.prototype, \"refreshParameters\", null), n = e([a(\"esri.layers.mixins.RefreshableLayer\")], n), n;\n};\n\nexport { n as RefreshableLayer, p as isRefreshableLayer };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js"],"names":["_","e","r","debounce","s","ignoreAbortErrors","t","property","o","subclass","a","registerLayer","i","unregisterLayer","h","p","n","constructor","refreshInterval","refreshTimestamp","_debounceHasDataChanged","hasDataChanged","when","then","destroy","refreshParameters","_ts","refresh","Date","now","_set","emit","dataChanged","getLogger","declaredClass","error","type","Number","cast","json","write","prototype","readOnly","RefreshableLayer","isRefreshableLayer"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Logger.js\";import{debounce as s,ignoreAbortErrors as t}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{registerLayer as i,unregisterLayer as h}from\"./refresh.js\";function p(e){return e&&\"object\"==typeof e&&\"refreshTimestamp\"in e&&\"refresh\"in e}const n=p=>{let n=class extends p{constructor(...e){super(...e),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=s((()=>this.hasDataChanged())),this.when().then((()=>{i(this)}),(()=>{}))}destroy(){h(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(e=Date.now()){t(this._debounceHasDataChanged()).then((r=>{r&&this._set(\"refreshTimestamp\",e),this.emit(\"refresh\",{dataChanged:r})}),(e=>{r.getLogger(this.declaredClass).error(e),this.emit(\"refresh\",{dataChanged:!1,error:e})}))}async hasDataChanged(){return!0}};return e([o({type:Number,cast:e=>e>=.1?e:e<=0?0:.1,json:{write:!0}})],n.prototype,\"refreshInterval\",void 0),e([o({readOnly:!0})],n.prototype,\"refreshTimestamp\",void 0),e([o()],n.prototype,\"refreshParameters\",null),n=e([a(\"esri.layers.mixins.RefreshableLayer\")],n),n};export{n as RefreshableLayer,p as isRefreshableLayer};\n"]},"metadata":{},"sourceType":"module"}