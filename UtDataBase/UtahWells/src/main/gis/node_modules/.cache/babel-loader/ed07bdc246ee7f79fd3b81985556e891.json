{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { isPoint as s, isMultipoint as t, isPolyline as i, isPolygon as h } from \"../../../geometry/support/jsonUtils.js\";\nimport { setId as e } from \"../CIMCursor.js\";\nimport { GeometricEffectControlMeasureLineRule as r } from \"../enums.js\";\n\nclass _ {\n  static local() {\n    return null === _.instance && (_.instance = new _()), _.instance;\n  }\n\n  execute(s, t, i, h) {\n    return new c(s, t, i);\n  }\n\n}\n\n_.instance = null;\n\nclass c {\n  constructor(s, t, i) {\n    var h;\n    this._default_point_size = 20, this._inputGeometries = s, this._geomUnitsPerPoint = i, this._rule = null != (h = t.rule) ? h : r.FullGeometry, this._default_size = this._default_point_size * i;\n  }\n\n  next() {\n    let e;\n\n    for (; e = this._inputGeometries.next();) {\n      let r;\n      if (s(e) ? r = this._processGeom([[[e.x, e.y]]]) : t(e) ? r = this._processGeom([e.points]) : i(e) ? r = this._processGeom(e.paths) : h(e) && (r = this._processGeom(e.rings)), r && r.length) return {\n        paths: r\n      };\n    }\n\n    return null;\n  }\n\n  _clone(s) {\n    return [s[0], s[1]];\n  }\n\n  _mid(s, t) {\n    return [(s[0] + t[0]) / 2, (s[1] + t[1]) / 2];\n  }\n\n  _mix(s, t, i, h) {\n    return [s[0] * t + i[0] * h, s[1] * t + i[1] * h];\n  }\n\n  _add(s, t) {\n    return [s[0] + t[0], s[1] + t[1]];\n  }\n\n  _add2(s, t, i) {\n    return [s[0] + t, s[1] + i];\n  }\n\n  _sub(s, t) {\n    return [s[0] - t[0], s[1] - t[1]];\n  }\n\n  _dist(s, t) {\n    return Math.sqrt((s[0] - t[0]) * (s[0] - t[0]) + (s[1] - t[1]) * (s[1] - t[1]));\n  }\n\n  _norm(s) {\n    return Math.sqrt(s[0] * s[0] + s[1] * s[1]);\n  }\n\n  _normalize(s) {\n    let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n    const i = t / this._norm(s);\n\n    s[0] *= i, s[1] *= i;\n  }\n\n  _leftPerpendicular(s) {\n    const t = -s[1],\n          i = s[0];\n    s[0] = t, s[1] = i;\n  }\n\n  _leftPerp(s) {\n    return [-s[1], s[0]];\n  }\n\n  _rightPerpendicular(s) {\n    const t = s[1],\n          i = -s[0];\n    s[0] = t, s[1] = i;\n  }\n\n  _rightPerp(s) {\n    return [s[1], -s[0]];\n  }\n\n  _dotProduct(s, t) {\n    return s[0] * t[0] + s[1] * t[1];\n  }\n\n  _crossProduct(s, t) {\n    return s[0] * t[1] - s[1] * t[0];\n  }\n\n  _rotateDirect(s, t, i) {\n    const h = s[0] * t - s[1] * i,\n          e = s[0] * i + s[1] * t;\n    s[0] = h, s[1] = e;\n  }\n\n  _makeCtrlPt(s) {\n    const t = [s[0], s[1]];\n    return e(t, 1), t;\n  }\n\n  _addAngledTicks(s, t, i, h) {\n    const e = this._sub(i, t);\n\n    this._normalize(e);\n\n    const r = this._crossProduct(e, this._sub(h, t));\n\n    let _;\n\n    _ = r > 0 ? this._rightPerp(e) : this._leftPerp(e);\n    const c = Math.abs(r) / 2,\n          u = [];\n    u.push([t[0] + (_[0] - e[0]) * c, t[1] + (_[1] - e[1]) * c]), u.push(t), u.push(i), u.push([i[0] + (_[0] + e[0]) * c, i[1] + (_[1] + e[1]) * c]), s.push(u);\n  }\n\n  _addBezier2(s, t, i, h, e) {\n    if (0 == e--) return void s.push(h);\n\n    const r = this._mid(t, i),\n          _ = this._mid(i, h),\n          c = this._mid(r, _);\n\n    this._addBezier2(s, t, r, c, e), this._addBezier2(s, c, _, h, e);\n  }\n\n  _addBezier3(s, t, i, h, e, r) {\n    if (0 == r--) return void s.push(e);\n\n    const _ = this._mid(t, i),\n          c = this._mid(i, h),\n          u = this._mid(h, e),\n          o = this._mid(_, c),\n          n = this._mid(c, u),\n          a = this._mid(o, n);\n\n    this._addBezier3(s, t, _, o, a, r), this._addBezier3(s, a, n, u, e, r);\n  }\n\n  _add90DegArc(s, t, i, h, e) {\n    const r = null != e ? e : this._crossProduct(this._sub(i, t), this._sub(h, t)) > 0,\n          _ = this._mid(t, i),\n          c = this._sub(_, t);\n\n    r ? this._leftPerpendicular(c) : this._rightPerpendicular(c), _[0] += c[0], _[1] += c[1], this._addBezier3(s, t, this._mix(t, .33333, _, .66667), this._mix(i, .33333, _, .66667), i, 4);\n  }\n\n  _addArrow(s, t, i) {\n    const h = t[0],\n          e = t[1],\n          r = t[t.length - 1],\n          _ = this._sub(h, e);\n\n    this._normalize(_);\n\n    const c = this._crossProduct(_, this._sub(r, e)),\n          u = .5 * c,\n          o = this._leftPerp(_),\n          n = [r[0] - o[0] * c, r[1] - o[1] * c],\n          a = t.length - 1,\n          p = [];\n\n    p.push(i ? [-o[0], -o[1]] : o);\n    let l = [-_[0], -_[1]];\n\n    for (let d = 1; d < a - 1; d++) {\n      const s = this._sub(t[d + 1], t[d]);\n\n      this._normalize(s);\n\n      const i = this._dotProduct(s, l),\n            h = this._crossProduct(s, l),\n            e = Math.sqrt((1 + i) / 2),\n            r = this._sub(s, l);\n\n      this._normalize(r), r[0] /= e, r[1] /= e, p.push(h < 0 ? [-r[0], -r[1]] : r), l = s;\n    }\n\n    p.push(this._rightPerp(l));\n\n    for (let d = p.length - 1; d > 0; d--) s.push([t[d][0] + p[d][0] * u, t[d][1] + p[d][1] * u]);\n\n    s.push([n[0] + p[0][0] * u, n[1] + p[0][1] * u]), s.push([n[0] + p[0][0] * c, n[1] + p[0][1] * c]), s.push(h), s.push([n[0] - p[0][0] * c, n[1] - p[0][1] * c]), s.push([n[0] - p[0][0] * u, n[1] - p[0][1] * u]);\n\n    for (let d = 1; d < p.length; d++) s.push([t[d][0] - p[d][0] * u, t[d][1] - p[d][1] * u]);\n  }\n\n  _cp2(s, t, i) {\n    return s.length >= 2 ? s[1] : this._add2(s[0], t * this._default_size, i * this._default_size);\n  }\n\n  _cp3(s, t, i, h) {\n    if (s.length >= 3) return s[2];\n\n    const e = this._mix(s[0], 1 - i, t, i),\n          r = this._sub(t, s[0]);\n\n    return this._normalize(r), this._rightPerpendicular(r), [e[0] + r[0] * h * this._default_size, e[1] + r[1] * h * this._default_size];\n  }\n\n  _arrowPath(s) {\n    if (s.length > 2) return s;\n\n    const t = s[0],\n          i = this._cp2(s, -4, 0),\n          h = this._sub(t, i);\n\n    this._normalize(h);\n\n    const e = this._rightPerp(h);\n\n    return [t, i, [t[0] + (e[0] - h[0]) * this._default_size, t[1] + (e[1] - h[1]) * this._default_size]];\n  }\n\n  _arrowLastSeg(s) {\n    const t = s[0],\n          i = this._cp2(s, -4, 0);\n\n    let h;\n    if (s.length >= 3) h = s[s.length - 1];else {\n      const s = this._sub(t, i);\n\n      this._normalize(s);\n\n      const e = this._rightPerp(s);\n\n      h = [t[0] + (e[0] - s[0]) * this._default_size, t[1] + (e[1] - s[1]) * this._default_size];\n    }\n    return [i, h];\n  }\n\n  _processGeom(s) {\n    if (!s) return null;\n    const t = [];\n\n    for (const i of s) {\n      if (!i || 0 === i.length) continue;\n      const s = i.length;\n      let h = i[0];\n\n      switch (this._rule) {\n        case r.PerpendicularFromFirstSegment:\n          {\n            const s = this._cp2(i, 0, -1),\n                  e = this._cp3(i, s, .5, 4),\n                  r = [];\n\n            r.push(e), r.push(this._mid(h, s)), t.push(r);\n            break;\n          }\n\n        case r.ReversedFirstSegment:\n          {\n            const s = this._cp2(i, 0, -1);\n\n            t.push([s, h]);\n            break;\n          }\n\n        case r.PerpendicularToSecondSegment:\n          {\n            const s = this._cp2(i, -4, 1),\n                  e = this._cp3(i, s, .882353, -1.94),\n                  r = [];\n\n            r.push(this._mid(s, e)), r.push(h), t.push(r);\n            break;\n          }\n\n        case r.SecondSegmentWithTicks:\n          {\n            const s = this._cp2(i, -4, 1),\n                  e = this._cp3(i, s, .882353, -1.94),\n                  r = this._sub(e, s);\n\n            let _;\n\n            _ = this._crossProduct(r, this._sub(h, s)) > 0 ? this._rightPerp(_) : this._leftPerp(r);\n            const c = [];\n            c.push([s[0] + (_[0] - r[0]) / 3, s[1] + (_[1] - r[1]) / 3]), c.push(s), c.push(e), c.push([e[0] + (_[0] + r[0]) / 3, e[1] + (_[1] + r[1]) / 3]), t.push(c);\n            break;\n          }\n\n        case r.DoublePerpendicular:\n          {\n            const s = this._cp2(i, 0, -1),\n                  e = this._cp3(i, s, .5, 3),\n                  r = this._mid(h, s),\n                  _ = this._sub(r, e);\n\n            this._normalize(_);\n\n            const c = this._crossProduct(_, this._sub(h, e));\n\n            this._leftPerpendicular(_);\n\n            const u = [];\n            u.push(h), u.push([e[0] + _[0] * c, e[1] + _[1] * c]), t.push(u);\n            const o = [];\n            o.push([e[0] - _[0] * c, e[1] - _[1] * c]), o.push(s), t.push(o);\n            break;\n          }\n\n        case r.OppositeToFirstSegment:\n          {\n            const s = this._cp2(i, 0, -1),\n                  e = this._cp3(i, s, .5, 3),\n                  r = this._mid(h, s),\n                  _ = this._sub(r, e);\n\n            this._normalize(_);\n\n            const c = this._crossProduct(_, this._sub(h, e));\n\n            this._leftPerpendicular(_);\n\n            const u = [];\n            u.push([e[0] + _[0] * c, e[1] + _[1] * c]), u.push([e[0] - _[0] * c, e[1] - _[1] * c]), t.push(u);\n            break;\n          }\n\n        case r.TriplePerpendicular:\n          {\n            const s = this._cp2(i, 0, -1),\n                  e = this._cp3(i, s, .5, 4),\n                  r = this._mid(h, s),\n                  _ = this._sub(r, e);\n\n            this._normalize(_);\n\n            const c = this._crossProduct(_, this._sub(h, e));\n\n            this._leftPerpendicular(_);\n\n            const u = [];\n            u.push([e[0] + _[0] * c * .8, e[1] + _[1] * c * .8]), u.push([r[0] + .8 * (h[0] - r[0]), r[1] + .8 * (h[1] - r[1])]), t.push(u), t.push([e, r]);\n            const o = [];\n            o.push([e[0] - _[0] * c * .8, e[1] - _[1] * c * .8]), o.push([r[0] + .8 * (s[0] - r[0]), r[1] + .8 * (s[1] - r[1])]), t.push(o);\n            break;\n          }\n\n        case r.HalfCircleFirstSegment:\n          {\n            const s = this._cp2(i, 0, -1),\n                  e = this._cp3(i, s, .5, 4),\n                  r = this._mid(h, s);\n\n            let _ = this._sub(s, h);\n\n            const c = Math.cos(Math.PI / 18),\n                  u = Math.sin(Math.PI / 18),\n                  o = Math.sqrt((1 + c) / 2),\n                  n = Math.sqrt((1 - c) / 2),\n                  a = [];\n            let p;\n            this._crossProduct(_, this._sub(e, h)) > 0 ? (a.push(h), _ = this._sub(h, r), p = s) : (a.push(s), _ = this._sub(s, r), p = h), this._rotateDirect(_, o, n), _[0] /= o, _[1] /= o;\n\n            for (let t = 1; t <= 18; t++) a.push(this._add(r, _)), this._rotateDirect(_, c, u);\n\n            a.push(p), t.push(a);\n            break;\n          }\n\n        case r.HalfCircleSecondSegment:\n          {\n            const s = this._cp2(i, 0, -1),\n                  e = this._cp3(i, s, 1, -1);\n\n            let r = this._sub(h, s);\n\n            this._normalize(r);\n\n            const _ = this._crossProduct(r, this._sub(e, s)) / 2;\n\n            this._leftPerpendicular(r);\n\n            const c = [s[0] + r[0] * _, s[1] + r[1] * _];\n            r = this._sub(s, c);\n            const u = Math.cos(Math.PI / 18);\n            let o = Math.sin(Math.PI / 18);\n            _ > 0 && (o = -o);\n            const n = [s];\n\n            for (let t = 1; t <= 18; t++) this._rotateDirect(r, u, o), n.push(this._add(c, r));\n\n            t.push(n);\n            break;\n          }\n\n        case r.HalfCircleExtended:\n          {\n            const e = this._cp2(i, 0, -2),\n                  r = this._cp3(i, e, 1, -1);\n\n            let _;\n\n            if (s >= 4) _ = i[3];else {\n              const s = this._sub(h, e);\n\n              _ = this._add(r, s);\n            }\n\n            const c = this._dist(e, r) / 2 / .75,\n                  u = this._sub(e, h);\n\n            this._normalize(u, c);\n\n            const o = this._sub(r, _);\n\n            this._normalize(o, c);\n\n            const n = [_, r];\n            t.push(n);\n            const a = [this._clone(r)];\n            this._addBezier3(a, r, this._add(r, o), this._add(e, u), e, 4), a.push(h), t.push(a);\n            break;\n          }\n\n        case r.OpenCircle:\n          {\n            const s = this._cp2(i, -2, 0),\n                  e = this._sub(s, h),\n                  r = Math.cos(Math.PI / 18),\n                  _ = -Math.sin(Math.PI / 18),\n                  c = [s];\n\n            for (let t = 1; t <= 33; t++) this._rotateDirect(e, r, _), c.push(this._add(h, e));\n\n            t.push(c);\n            break;\n          }\n\n        case r.CoverageEdgesWithTicks:\n          {\n            const e = this._cp2(i, 0, -1);\n\n            let r, _;\n\n            if (s >= 3) r = i[2];else {\n              const s = this._sub(e, h),\n                    t = this._leftPerp(s);\n\n              r = [h[0] + t[0] - .25 * s[0], h[1] + t[1] - .25 * s[1]];\n            }\n            if (s >= 4) _ = i[3];else {\n              const s = this._mid(h, e),\n                    t = this._sub(h, e);\n\n              this._normalize(t), this._leftPerpendicular(t);\n\n              const i = this._crossProduct(t, this._sub(r, s));\n\n              this._rightPerpendicular(t), _ = [r[0] + t[0] * i * 2, r[1] + t[1] * i * 2];\n            }\n\n            const c = this._sub(e, h);\n\n            let u, o;\n            u = this._crossProduct(c, this._sub(r, h)) > 0 ? this._rightPerp(c) : this._leftPerp(c), o = [], o.push(r), o.push(h), o.push([h[0] + (u[0] - c[0]) / 3, h[1] + (u[1] - c[1]) / 3]), t.push(o), u = this._crossProduct(c, this._sub(_, e)) > 0 ? this._rightPerp(u) : this._leftPerp(c), o = [], o.push([e[0] + (u[0] + c[0]) / 3, e[1] + (u[1] + c[1]) / 3]), o.push(e), o.push(_), t.push(o);\n            break;\n          }\n\n        case r.GapExtentWithDoubleTicks:\n          {\n            const e = this._cp2(i, 0, 2),\n                  r = this._cp3(i, e, 0, 1);\n\n            let _;\n\n            if (s >= 4) _ = i[3];else {\n              const s = this._sub(e, h);\n\n              _ = this._add(r, s);\n            }\n            this._addAngledTicks(t, h, e, this._mid(r, _)), this._addAngledTicks(t, r, _, this._mid(h, e));\n            break;\n          }\n\n        case r.GapExtentMidline:\n          {\n            const e = this._cp2(i, 2, 0),\n                  r = this._cp3(i, e, 0, 1);\n\n            let _;\n\n            if (s >= 4) _ = i[3];else {\n              const s = this._sub(e, h);\n\n              _ = this._add(r, s);\n            }\n            const c = [];\n            c.push(this._mid(h, r)), c.push(this._mid(e, _)), t.push(c);\n            break;\n          }\n\n        case r.Chevron:\n          {\n            const e = this._cp2(i, -1, -1);\n\n            let r;\n            if (s >= 3) r = i[2];else {\n              const s = this._sub(e, h);\n\n              this._leftPerpendicular(s), r = this._add(h, s);\n            }\n            t.push([e, this._makeCtrlPt(h), r]);\n            break;\n          }\n\n        case r.PerpendicularWithArc:\n          {\n            const s = this._cp2(i, 0, -2),\n                  e = this._cp3(i, s, .5, -1);\n\n            let r = this._sub(s, h);\n\n            const _ = this._norm(r);\n\n            r[0] /= _, r[1] /= _;\n\n            const c = this._crossProduct(r, this._sub(e, h));\n\n            let u = this._dotProduct(r, this._sub(e, h));\n\n            u < .05 * _ ? u = .05 * _ : u > .95 * _ && (u = .95 * _);\n            const o = [h[0] + r[0] * u, h[1] + r[1] * u];\n\n            this._leftPerpendicular(r);\n\n            let n = [];\n            n.push([o[0] - r[0] * c, o[1] - r[1] * c]), n.push([o[0] + r[0] * c, o[1] + r[1] * c]), t.push(n);\n            const a = [s[0] + r[0] * c, s[1] + r[1] * c];\n            r = this._sub(s, a);\n            const p = Math.cos(Math.PI / 18);\n            let l = Math.sin(Math.PI / 18);\n            c < 0 && (l = -l), n = [h, s];\n\n            for (let t = 1; t <= 9; t++) this._rotateDirect(r, p, l), n.push(this._add(a, r));\n\n            t.push(n);\n            break;\n          }\n\n        case r.ClosedHalfCircle:\n          {\n            const s = this._cp2(i, 2, 0),\n                  e = this._mid(h, s),\n                  r = this._sub(s, e),\n                  _ = Math.cos(Math.PI / 18),\n                  c = Math.sin(Math.PI / 18),\n                  u = [h, s];\n\n            for (let t = 1; t <= 18; t++) this._rotateDirect(r, _, c), u.push(this._add(e, r));\n\n            t.push(u);\n            break;\n          }\n\n        case r.TripleParallelExtended:\n          {\n            const s = this._cp2(i, 0, -2),\n                  r = this._cp3(i, s, 1, -2),\n                  _ = this._mid(h, s),\n                  c = this._sub(r, s);\n\n            this._normalize(c);\n\n            const u = Math.abs(this._crossProduct(c, this._sub(_, s))) / 2,\n                  o = this._dist(s, r),\n                  n = [s, h];\n\n            n.push([h[0] + c[0] * o * .5, h[1] + c[1] * o * .5]), t.push(n);\n            const a = [];\n            a.push([_[0] - c[0] * u, _[1] - c[1] * u]), a.push([_[0] + c[0] * o * .375, _[1] + c[1] * o * .375]), e(a[a.length - 1], 1), a.push([_[0] + c[0] * o * .75, _[1] + c[1] * o * .75]), t.push(a);\n            const p = [s, r];\n            t.push(p);\n            break;\n          }\n\n        case r.ParallelWithTicks:\n          {\n            const s = this._cp2(i, 3, 0),\n                  e = this._cp3(i, s, .5, -1),\n                  r = this._sub(e, s);\n\n            this._normalize(r);\n\n            const _ = this._crossProduct(r, this._sub(e, h));\n\n            this._leftPerpendicular(r), this._addAngledTicks(t, h, s, e), this._addAngledTicks(t, this._mix(h, 1, r, _), this._mix(s, 1, r, _), this._mid(h, s));\n            break;\n          }\n\n        case r.Parallel:\n          {\n            const s = this._cp2(i, 3, 0),\n                  e = this._cp3(i, s, .5, -1),\n                  r = this._sub(s, h);\n\n            this._normalize(r);\n\n            const _ = this._leftPerp(r),\n                  c = this._crossProduct(r, this._sub(e, h));\n\n            let u = [h, s];\n            t.push(u), u = [], u.push([h[0] + _[0] * c, h[1] + _[1] * c]), u.push([s[0] + _[0] * c, s[1] + _[1] * c]), t.push(u);\n            break;\n          }\n\n        case r.PerpendicularToFirstSegment:\n          {\n            const s = this._cp2(i, 3, 0),\n                  e = this._cp3(i, s, .5, -1),\n                  r = this._mid(h, s),\n                  _ = this._sub(s, h);\n\n            this._normalize(_);\n\n            const c = this._crossProduct(_, this._sub(e, h));\n\n            this._leftPerpendicular(_);\n\n            const u = [];\n            u.push([r[0] - _[0] * c * .25, r[1] - _[1] * c * .25]), u.push([r[0] + _[0] * c * 1.25, r[1] + _[1] * c * 1.25]), t.push(u);\n            break;\n          }\n\n        case r.ParallelOffset:\n          {\n            const s = this._cp2(i, 3, 0),\n                  e = this._cp3(i, s, .5, -1),\n                  r = this._sub(s, h);\n\n            this._normalize(r);\n\n            const _ = this._crossProduct(r, this._sub(e, h));\n\n            this._leftPerpendicular(r);\n\n            const c = [];\n            c.push([h[0] - r[0] * _, h[1] - r[1] * _]), c.push([s[0] - r[0] * _, s[1] - r[1] * _]), t.push(c);\n            const u = [];\n            u.push([h[0] + r[0] * _, h[1] + r[1] * _]), u.push([s[0] + r[0] * _, s[1] + r[1] * _]), t.push(u);\n            break;\n          }\n\n        case r.OffsetOpposite:\n          {\n            const s = this._cp2(i, 3, 0),\n                  e = this._cp3(i, s, .5, -1),\n                  r = this._sub(s, h);\n\n            this._normalize(r);\n\n            const _ = this._crossProduct(r, this._sub(e, h));\n\n            this._leftPerpendicular(r);\n\n            const c = [];\n            c.push([h[0] - r[0] * _, h[1] - r[1] * _]), c.push([s[0] - r[0] * _, s[1] - r[1] * _]), t.push(c);\n            break;\n          }\n\n        case r.OffsetSame:\n          {\n            const s = this._cp2(i, 3, 0),\n                  e = this._cp3(i, s, .5, -1),\n                  r = this._sub(s, h);\n\n            this._normalize(r);\n\n            const _ = this._crossProduct(r, this._sub(e, h));\n\n            this._leftPerpendicular(r);\n\n            const c = [];\n            c.push([h[0] + r[0] * _, h[1] + r[1] * _]), c.push([s[0] + r[0] * _, s[1] + r[1] * _]), t.push(c);\n            break;\n          }\n\n        case r.CircleWithArc:\n          {\n            let r = this._cp2(i, 3, 0);\n\n            const _ = this._cp3(i, r, .5, -1);\n\n            let c, u;\n            if (s >= 4) c = i[3], u = this._crossProduct(this._sub(c, r), this._sub(_, r)) > 0;else {\n              c = r, u = this._crossProduct(this._sub(c, h), this._sub(_, h)) > 0;\n\n              const s = 24 * this._geomUnitsPerPoint,\n                    t = this._sub(c, h);\n\n              this._normalize(t, s);\n\n              const i = Math.sqrt(2) / 2;\n              this._rotateDirect(t, i, u ? i : -i), r = this._add(h, t);\n            }\n\n            const o = this._sub(r, h),\n                  n = Math.cos(Math.PI / 18),\n                  a = Math.sin(Math.PI / 18),\n                  p = [r];\n\n            for (let s = 1; s <= 36; s++) this._rotateDirect(o, n, a), p.push(this._add(h, o));\n\n            this._add90DegArc(p, r, c, _, u), e(p[p.length - 8], 1), t.push(p);\n            break;\n          }\n\n        case r.DoubleJog:\n          {\n            let e,\n                r,\n                _ = this._cp2(i, -3, 1);\n\n            if (e = s >= 3 ? i[2] : this._add(h, this._sub(h, _)), s >= 4) r = i[3];else {\n              const s = h;\n              h = _, r = e;\n\n              const t = this._dist(h, s),\n                    i = this._dist(r, s);\n\n              let c = 30 * this._geomUnitsPerPoint;\n              .5 * t < c && (c = .5 * t), .5 * i < c && (c = .5 * i), _ = this._mix(h, c / t, s, (t - c) / t), e = this._mix(r, c / i, s, (i - c) / i);\n            }\n\n            const c = this._mid(h, _),\n                  u = this._mid(r, e),\n                  o = this._dist(h, _),\n                  n = this._dist(e, r);\n\n            let a = Math.min(o, n) / 8;\n            a = Math.min(a, 24 * this._geomUnitsPerPoint);\n            const p = Math.cos(Math.PI / 4);\n\n            let l = this._sub(h, _);\n\n            this._normalize(l, a), this._crossProduct(l, this._sub(r, _)) > 0 ? this._rotateDirect(l, p, -p) : this._rotateDirect(l, p, p);\n            let d = [];\n            d.push(_), d.push(this._add(c, l)), d.push(this._sub(c, l)), d.push(h), t.push(d), l = this._sub(r, e), this._normalize(l, a), this._crossProduct(l, this._sub(h, e)) < 0 ? this._rotateDirect(l, p, p) : this._rotateDirect(l, p, -p), d = [], d.push(e), d.push(this._add(u, l)), d.push(this._sub(u, l)), d.push(r), t.push(d);\n            break;\n          }\n\n        case r.PerpendicularOffset:\n          {\n            const s = this._cp2(i, -4, 1),\n                  e = this._cp3(i, s, .882353, -1.94),\n                  r = this._sub(e, s);\n\n            this._crossProduct(r, this._sub(h, s)) > 0 ? this._rightPerpendicular(r) : this._leftPerpendicular(r);\n\n            const _ = [r[0] / 8, r[1] / 8],\n                  c = this._sub(this._mid(s, e), _);\n\n            t.push([c, h]);\n            break;\n          }\n\n        case r.LineExcludingLastSegment:\n          {\n            const s = this._arrowPath(i),\n                  h = [];\n\n            let e = s.length - 2;\n\n            for (; e--;) h.push(s[e]);\n\n            t.push(h);\n            break;\n          }\n\n        case r.MultivertexArrow:\n          {\n            const s = this._arrowPath(i),\n                  h = [];\n\n            this._addArrow(h, s, !1), t.push(h);\n            break;\n          }\n\n        case r.CrossedArrow:\n          {\n            const s = this._arrowPath(i),\n                  h = [];\n\n            this._addArrow(h, s, !0), t.push(h);\n            break;\n          }\n\n        case r.ChevronArrow:\n          {\n            const [s, e] = this._arrowLastSeg(i),\n                  r = 10 * this._geomUnitsPerPoint,\n                  _ = this._sub(h, s);\n\n            this._normalize(_);\n\n            const c = this._crossProduct(_, this._sub(e, s)),\n                  u = this._leftPerp(_),\n                  o = [e[0] - u[0] * c * 2, e[1] - u[1] * c * 2],\n                  n = [];\n\n            n.push([e[0] + _[0] * r, e[1] + _[1] * r]), n.push(h), n.push([o[0] + _[0] * r, o[1] + _[1] * r]), t.push(n);\n            break;\n          }\n\n        case r.ChevronArrowOffset:\n          {\n            const [s, e] = this._arrowLastSeg(i),\n                  r = this._sub(h, s);\n\n            this._normalize(r);\n\n            const _ = this._crossProduct(r, this._sub(e, s));\n\n            this._leftPerpendicular(r);\n\n            const c = [e[0] - r[0] * _, e[1] - r[1] * _],\n                  u = [];\n            u.push([c[0] + r[0] * _ * .5, c[1] + r[1] * _ * .5]), u.push(this._mid(c, h)), u.push([c[0] - r[0] * _ * .5, c[1] - r[1] * _ * .5]), t.push(u);\n            break;\n          }\n\n        case r.PartialFirstSegment:\n          {\n            const [s, e] = this._arrowLastSeg(i),\n                  r = this._sub(h, s);\n\n            this._normalize(r);\n\n            const _ = this._crossProduct(r, this._sub(e, s));\n\n            this._leftPerpendicular(r);\n\n            const c = [e[0] - r[0] * _, e[1] - r[1] * _];\n            t.push([s, c]);\n            break;\n          }\n\n        case r.Arch:\n          {\n            const s = this._cp2(i, 0, -1),\n                  e = this._cp3(i, s, .5, 1),\n                  r = this._sub(h, s),\n                  _ = this._mix(e, 1, r, .55),\n                  c = this._mix(e, 1, r, -.55),\n                  u = [h];\n\n            this._addBezier2(u, h, _, e, 4), this._addBezier2(u, e, c, s, 4), t.push(u);\n            break;\n          }\n\n        case r.CurvedParallelTicks:\n          {\n            const s = this._cp2(i, -4, 1),\n                  e = this._cp3(i, s, .882353, -1.94),\n                  r = this._sub(e, s);\n\n            this._crossProduct(r, this._sub(h, s)) > 0 ? this._rightPerpendicular(r) : this._leftPerpendicular(r);\n\n            const _ = [r[0] / 8, r[1] / 8],\n                  c = this._sub(this._mid(s, e), _),\n                  u = this._sub(this._mix(s, .75, e, .25), _),\n                  o = this._sub(this._mix(s, .25, e, .75), _),\n                  n = [s];\n\n            this._addBezier2(n, s, u, c, 3), this._addBezier2(n, c, o, e, 3), t.push(n);\n\n            for (let i = 0; i < 8; i++) {\n              const s = n[2 * i + 1],\n                    h = [this._clone(s)];\n              h.push(this._add(s, [r[0] / 4, r[1] / 4])), t.push(h);\n            }\n\n            break;\n          }\n\n        case r.Arc90Degrees:\n          {\n            const s = this._cp2(i, 0, -1),\n                  e = this._cp3(i, s, .5, 1),\n                  r = [s];\n\n            this._add90DegArc(r, s, h, e), t.push(r);\n            break;\n          }\n\n        case r.FullGeometry:\n        default:\n          t.push(i);\n      }\n    }\n\n    return t;\n  }\n\n}\n\nexport { _ as EffectControlMeasureLine };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/symbols/cim/effects/EffectControlMeasureLine.js"],"names":["isPoint","s","isMultipoint","t","isPolyline","i","isPolygon","h","setId","e","GeometricEffectControlMeasureLineRule","r","_","local","instance","execute","c","constructor","_default_point_size","_inputGeometries","_geomUnitsPerPoint","_rule","rule","FullGeometry","_default_size","next","_processGeom","x","y","points","paths","rings","length","_clone","_mid","_mix","_add","_add2","_sub","_dist","Math","sqrt","_norm","_normalize","_leftPerpendicular","_leftPerp","_rightPerpendicular","_rightPerp","_dotProduct","_crossProduct","_rotateDirect","_makeCtrlPt","_addAngledTicks","abs","u","push","_addBezier2","_addBezier3","o","n","a","_add90DegArc","_addArrow","p","l","d","_cp2","_cp3","_arrowPath","_arrowLastSeg","PerpendicularFromFirstSegment","ReversedFirstSegment","PerpendicularToSecondSegment","SecondSegmentWithTicks","DoublePerpendicular","OppositeToFirstSegment","TriplePerpendicular","HalfCircleFirstSegment","cos","PI","sin","HalfCircleSecondSegment","HalfCircleExtended","OpenCircle","CoverageEdgesWithTicks","GapExtentWithDoubleTicks","GapExtentMidline","Chevron","PerpendicularWithArc","ClosedHalfCircle","TripleParallelExtended","ParallelWithTicks","Parallel","PerpendicularToFirstSegment","ParallelOffset","OffsetOpposite","OffsetSame","CircleWithArc","DoubleJog","min","PerpendicularOffset","LineExcludingLastSegment","MultivertexArrow","CrossedArrow","ChevronArrow","ChevronArrowOffset","PartialFirstSegment","Arch","CurvedParallelTicks","Arc90Degrees","EffectControlMeasureLine"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isPoint as s,isMultipoint as t,isPolyline as i,isPolygon as h}from\"../../../geometry/support/jsonUtils.js\";import{setId as e}from\"../CIMCursor.js\";import{GeometricEffectControlMeasureLineRule as r}from\"../enums.js\";class _{static local(){return null===_.instance&&(_.instance=new _),_.instance}execute(s,t,i,h){return new c(s,t,i)}}_.instance=null;class c{constructor(s,t,i){var h;this._default_point_size=20,this._inputGeometries=s,this._geomUnitsPerPoint=i,this._rule=null!=(h=t.rule)?h:r.FullGeometry,this._default_size=this._default_point_size*i}next(){let e;for(;e=this._inputGeometries.next();){let r;if(s(e)?r=this._processGeom([[[e.x,e.y]]]):t(e)?r=this._processGeom([e.points]):i(e)?r=this._processGeom(e.paths):h(e)&&(r=this._processGeom(e.rings)),r&&r.length)return{paths:r}}return null}_clone(s){return[s[0],s[1]]}_mid(s,t){return[(s[0]+t[0])/2,(s[1]+t[1])/2]}_mix(s,t,i,h){return[s[0]*t+i[0]*h,s[1]*t+i[1]*h]}_add(s,t){return[s[0]+t[0],s[1]+t[1]]}_add2(s,t,i){return[s[0]+t,s[1]+i]}_sub(s,t){return[s[0]-t[0],s[1]-t[1]]}_dist(s,t){return Math.sqrt((s[0]-t[0])*(s[0]-t[0])+(s[1]-t[1])*(s[1]-t[1]))}_norm(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}_normalize(s,t=1){const i=t/this._norm(s);s[0]*=i,s[1]*=i}_leftPerpendicular(s){const t=-s[1],i=s[0];s[0]=t,s[1]=i}_leftPerp(s){return[-s[1],s[0]]}_rightPerpendicular(s){const t=s[1],i=-s[0];s[0]=t,s[1]=i}_rightPerp(s){return[s[1],-s[0]]}_dotProduct(s,t){return s[0]*t[0]+s[1]*t[1]}_crossProduct(s,t){return s[0]*t[1]-s[1]*t[0]}_rotateDirect(s,t,i){const h=s[0]*t-s[1]*i,e=s[0]*i+s[1]*t;s[0]=h,s[1]=e}_makeCtrlPt(s){const t=[s[0],s[1]];return e(t,1),t}_addAngledTicks(s,t,i,h){const e=this._sub(i,t);this._normalize(e);const r=this._crossProduct(e,this._sub(h,t));let _;_=r>0?this._rightPerp(e):this._leftPerp(e);const c=Math.abs(r)/2,u=[];u.push([t[0]+(_[0]-e[0])*c,t[1]+(_[1]-e[1])*c]),u.push(t),u.push(i),u.push([i[0]+(_[0]+e[0])*c,i[1]+(_[1]+e[1])*c]),s.push(u)}_addBezier2(s,t,i,h,e){if(0==e--)return void s.push(h);const r=this._mid(t,i),_=this._mid(i,h),c=this._mid(r,_);this._addBezier2(s,t,r,c,e),this._addBezier2(s,c,_,h,e)}_addBezier3(s,t,i,h,e,r){if(0==r--)return void s.push(e);const _=this._mid(t,i),c=this._mid(i,h),u=this._mid(h,e),o=this._mid(_,c),n=this._mid(c,u),a=this._mid(o,n);this._addBezier3(s,t,_,o,a,r),this._addBezier3(s,a,n,u,e,r)}_add90DegArc(s,t,i,h,e){const r=null!=e?e:this._crossProduct(this._sub(i,t),this._sub(h,t))>0,_=this._mid(t,i),c=this._sub(_,t);r?this._leftPerpendicular(c):this._rightPerpendicular(c),_[0]+=c[0],_[1]+=c[1],this._addBezier3(s,t,this._mix(t,.33333,_,.66667),this._mix(i,.33333,_,.66667),i,4)}_addArrow(s,t,i){const h=t[0],e=t[1],r=t[t.length-1],_=this._sub(h,e);this._normalize(_);const c=this._crossProduct(_,this._sub(r,e)),u=.5*c,o=this._leftPerp(_),n=[r[0]-o[0]*c,r[1]-o[1]*c],a=t.length-1,p=[];p.push(i?[-o[0],-o[1]]:o);let l=[-_[0],-_[1]];for(let d=1;d<a-1;d++){const s=this._sub(t[d+1],t[d]);this._normalize(s);const i=this._dotProduct(s,l),h=this._crossProduct(s,l),e=Math.sqrt((1+i)/2),r=this._sub(s,l);this._normalize(r),r[0]/=e,r[1]/=e,p.push(h<0?[-r[0],-r[1]]:r),l=s}p.push(this._rightPerp(l));for(let d=p.length-1;d>0;d--)s.push([t[d][0]+p[d][0]*u,t[d][1]+p[d][1]*u]);s.push([n[0]+p[0][0]*u,n[1]+p[0][1]*u]),s.push([n[0]+p[0][0]*c,n[1]+p[0][1]*c]),s.push(h),s.push([n[0]-p[0][0]*c,n[1]-p[0][1]*c]),s.push([n[0]-p[0][0]*u,n[1]-p[0][1]*u]);for(let d=1;d<p.length;d++)s.push([t[d][0]-p[d][0]*u,t[d][1]-p[d][1]*u])}_cp2(s,t,i){return s.length>=2?s[1]:this._add2(s[0],t*this._default_size,i*this._default_size)}_cp3(s,t,i,h){if(s.length>=3)return s[2];const e=this._mix(s[0],1-i,t,i),r=this._sub(t,s[0]);return this._normalize(r),this._rightPerpendicular(r),[e[0]+r[0]*h*this._default_size,e[1]+r[1]*h*this._default_size]}_arrowPath(s){if(s.length>2)return s;const t=s[0],i=this._cp2(s,-4,0),h=this._sub(t,i);this._normalize(h);const e=this._rightPerp(h);return[t,i,[t[0]+(e[0]-h[0])*this._default_size,t[1]+(e[1]-h[1])*this._default_size]]}_arrowLastSeg(s){const t=s[0],i=this._cp2(s,-4,0);let h;if(s.length>=3)h=s[s.length-1];else{const s=this._sub(t,i);this._normalize(s);const e=this._rightPerp(s);h=[t[0]+(e[0]-s[0])*this._default_size,t[1]+(e[1]-s[1])*this._default_size]}return[i,h]}_processGeom(s){if(!s)return null;const t=[];for(const i of s){if(!i||0===i.length)continue;const s=i.length;let h=i[0];switch(this._rule){case r.PerpendicularFromFirstSegment:{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,4),r=[];r.push(e),r.push(this._mid(h,s)),t.push(r);break}case r.ReversedFirstSegment:{const s=this._cp2(i,0,-1);t.push([s,h]);break}case r.PerpendicularToSecondSegment:{const s=this._cp2(i,-4,1),e=this._cp3(i,s,.882353,-1.94),r=[];r.push(this._mid(s,e)),r.push(h),t.push(r);break}case r.SecondSegmentWithTicks:{const s=this._cp2(i,-4,1),e=this._cp3(i,s,.882353,-1.94),r=this._sub(e,s);let _;_=this._crossProduct(r,this._sub(h,s))>0?this._rightPerp(_):this._leftPerp(r);const c=[];c.push([s[0]+(_[0]-r[0])/3,s[1]+(_[1]-r[1])/3]),c.push(s),c.push(e),c.push([e[0]+(_[0]+r[0])/3,e[1]+(_[1]+r[1])/3]),t.push(c);break}case r.DoublePerpendicular:{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,3),r=this._mid(h,s),_=this._sub(r,e);this._normalize(_);const c=this._crossProduct(_,this._sub(h,e));this._leftPerpendicular(_);const u=[];u.push(h),u.push([e[0]+_[0]*c,e[1]+_[1]*c]),t.push(u);const o=[];o.push([e[0]-_[0]*c,e[1]-_[1]*c]),o.push(s),t.push(o);break}case r.OppositeToFirstSegment:{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,3),r=this._mid(h,s),_=this._sub(r,e);this._normalize(_);const c=this._crossProduct(_,this._sub(h,e));this._leftPerpendicular(_);const u=[];u.push([e[0]+_[0]*c,e[1]+_[1]*c]),u.push([e[0]-_[0]*c,e[1]-_[1]*c]),t.push(u);break}case r.TriplePerpendicular:{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,4),r=this._mid(h,s),_=this._sub(r,e);this._normalize(_);const c=this._crossProduct(_,this._sub(h,e));this._leftPerpendicular(_);const u=[];u.push([e[0]+_[0]*c*.8,e[1]+_[1]*c*.8]),u.push([r[0]+.8*(h[0]-r[0]),r[1]+.8*(h[1]-r[1])]),t.push(u),t.push([e,r]);const o=[];o.push([e[0]-_[0]*c*.8,e[1]-_[1]*c*.8]),o.push([r[0]+.8*(s[0]-r[0]),r[1]+.8*(s[1]-r[1])]),t.push(o);break}case r.HalfCircleFirstSegment:{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,4),r=this._mid(h,s);let _=this._sub(s,h);const c=Math.cos(Math.PI/18),u=Math.sin(Math.PI/18),o=Math.sqrt((1+c)/2),n=Math.sqrt((1-c)/2),a=[];let p;this._crossProduct(_,this._sub(e,h))>0?(a.push(h),_=this._sub(h,r),p=s):(a.push(s),_=this._sub(s,r),p=h),this._rotateDirect(_,o,n),_[0]/=o,_[1]/=o;for(let t=1;t<=18;t++)a.push(this._add(r,_)),this._rotateDirect(_,c,u);a.push(p),t.push(a);break}case r.HalfCircleSecondSegment:{const s=this._cp2(i,0,-1),e=this._cp3(i,s,1,-1);let r=this._sub(h,s);this._normalize(r);const _=this._crossProduct(r,this._sub(e,s))/2;this._leftPerpendicular(r);const c=[s[0]+r[0]*_,s[1]+r[1]*_];r=this._sub(s,c);const u=Math.cos(Math.PI/18);let o=Math.sin(Math.PI/18);_>0&&(o=-o);const n=[s];for(let t=1;t<=18;t++)this._rotateDirect(r,u,o),n.push(this._add(c,r));t.push(n);break}case r.HalfCircleExtended:{const e=this._cp2(i,0,-2),r=this._cp3(i,e,1,-1);let _;if(s>=4)_=i[3];else{const s=this._sub(h,e);_=this._add(r,s)}const c=this._dist(e,r)/2/.75,u=this._sub(e,h);this._normalize(u,c);const o=this._sub(r,_);this._normalize(o,c);const n=[_,r];t.push(n);const a=[this._clone(r)];this._addBezier3(a,r,this._add(r,o),this._add(e,u),e,4),a.push(h),t.push(a);break}case r.OpenCircle:{const s=this._cp2(i,-2,0),e=this._sub(s,h),r=Math.cos(Math.PI/18),_=-Math.sin(Math.PI/18),c=[s];for(let t=1;t<=33;t++)this._rotateDirect(e,r,_),c.push(this._add(h,e));t.push(c);break}case r.CoverageEdgesWithTicks:{const e=this._cp2(i,0,-1);let r,_;if(s>=3)r=i[2];else{const s=this._sub(e,h),t=this._leftPerp(s);r=[h[0]+t[0]-.25*s[0],h[1]+t[1]-.25*s[1]]}if(s>=4)_=i[3];else{const s=this._mid(h,e),t=this._sub(h,e);this._normalize(t),this._leftPerpendicular(t);const i=this._crossProduct(t,this._sub(r,s));this._rightPerpendicular(t),_=[r[0]+t[0]*i*2,r[1]+t[1]*i*2]}const c=this._sub(e,h);let u,o;u=this._crossProduct(c,this._sub(r,h))>0?this._rightPerp(c):this._leftPerp(c),o=[],o.push(r),o.push(h),o.push([h[0]+(u[0]-c[0])/3,h[1]+(u[1]-c[1])/3]),t.push(o),u=this._crossProduct(c,this._sub(_,e))>0?this._rightPerp(u):this._leftPerp(c),o=[],o.push([e[0]+(u[0]+c[0])/3,e[1]+(u[1]+c[1])/3]),o.push(e),o.push(_),t.push(o);break}case r.GapExtentWithDoubleTicks:{const e=this._cp2(i,0,2),r=this._cp3(i,e,0,1);let _;if(s>=4)_=i[3];else{const s=this._sub(e,h);_=this._add(r,s)}this._addAngledTicks(t,h,e,this._mid(r,_)),this._addAngledTicks(t,r,_,this._mid(h,e));break}case r.GapExtentMidline:{const e=this._cp2(i,2,0),r=this._cp3(i,e,0,1);let _;if(s>=4)_=i[3];else{const s=this._sub(e,h);_=this._add(r,s)}const c=[];c.push(this._mid(h,r)),c.push(this._mid(e,_)),t.push(c);break}case r.Chevron:{const e=this._cp2(i,-1,-1);let r;if(s>=3)r=i[2];else{const s=this._sub(e,h);this._leftPerpendicular(s),r=this._add(h,s)}t.push([e,this._makeCtrlPt(h),r]);break}case r.PerpendicularWithArc:{const s=this._cp2(i,0,-2),e=this._cp3(i,s,.5,-1);let r=this._sub(s,h);const _=this._norm(r);r[0]/=_,r[1]/=_;const c=this._crossProduct(r,this._sub(e,h));let u=this._dotProduct(r,this._sub(e,h));u<.05*_?u=.05*_:u>.95*_&&(u=.95*_);const o=[h[0]+r[0]*u,h[1]+r[1]*u];this._leftPerpendicular(r);let n=[];n.push([o[0]-r[0]*c,o[1]-r[1]*c]),n.push([o[0]+r[0]*c,o[1]+r[1]*c]),t.push(n);const a=[s[0]+r[0]*c,s[1]+r[1]*c];r=this._sub(s,a);const p=Math.cos(Math.PI/18);let l=Math.sin(Math.PI/18);c<0&&(l=-l),n=[h,s];for(let t=1;t<=9;t++)this._rotateDirect(r,p,l),n.push(this._add(a,r));t.push(n);break}case r.ClosedHalfCircle:{const s=this._cp2(i,2,0),e=this._mid(h,s),r=this._sub(s,e),_=Math.cos(Math.PI/18),c=Math.sin(Math.PI/18),u=[h,s];for(let t=1;t<=18;t++)this._rotateDirect(r,_,c),u.push(this._add(e,r));t.push(u);break}case r.TripleParallelExtended:{const s=this._cp2(i,0,-2),r=this._cp3(i,s,1,-2),_=this._mid(h,s),c=this._sub(r,s);this._normalize(c);const u=Math.abs(this._crossProduct(c,this._sub(_,s)))/2,o=this._dist(s,r),n=[s,h];n.push([h[0]+c[0]*o*.5,h[1]+c[1]*o*.5]),t.push(n);const a=[];a.push([_[0]-c[0]*u,_[1]-c[1]*u]),a.push([_[0]+c[0]*o*.375,_[1]+c[1]*o*.375]),e(a[a.length-1],1),a.push([_[0]+c[0]*o*.75,_[1]+c[1]*o*.75]),t.push(a);const p=[s,r];t.push(p);break}case r.ParallelWithTicks:{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(e,s);this._normalize(r);const _=this._crossProduct(r,this._sub(e,h));this._leftPerpendicular(r),this._addAngledTicks(t,h,s,e),this._addAngledTicks(t,this._mix(h,1,r,_),this._mix(s,1,r,_),this._mid(h,s));break}case r.Parallel:{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(s,h);this._normalize(r);const _=this._leftPerp(r),c=this._crossProduct(r,this._sub(e,h));let u=[h,s];t.push(u),u=[],u.push([h[0]+_[0]*c,h[1]+_[1]*c]),u.push([s[0]+_[0]*c,s[1]+_[1]*c]),t.push(u);break}case r.PerpendicularToFirstSegment:{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._mid(h,s),_=this._sub(s,h);this._normalize(_);const c=this._crossProduct(_,this._sub(e,h));this._leftPerpendicular(_);const u=[];u.push([r[0]-_[0]*c*.25,r[1]-_[1]*c*.25]),u.push([r[0]+_[0]*c*1.25,r[1]+_[1]*c*1.25]),t.push(u);break}case r.ParallelOffset:{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(s,h);this._normalize(r);const _=this._crossProduct(r,this._sub(e,h));this._leftPerpendicular(r);const c=[];c.push([h[0]-r[0]*_,h[1]-r[1]*_]),c.push([s[0]-r[0]*_,s[1]-r[1]*_]),t.push(c);const u=[];u.push([h[0]+r[0]*_,h[1]+r[1]*_]),u.push([s[0]+r[0]*_,s[1]+r[1]*_]),t.push(u);break}case r.OffsetOpposite:{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(s,h);this._normalize(r);const _=this._crossProduct(r,this._sub(e,h));this._leftPerpendicular(r);const c=[];c.push([h[0]-r[0]*_,h[1]-r[1]*_]),c.push([s[0]-r[0]*_,s[1]-r[1]*_]),t.push(c);break}case r.OffsetSame:{const s=this._cp2(i,3,0),e=this._cp3(i,s,.5,-1),r=this._sub(s,h);this._normalize(r);const _=this._crossProduct(r,this._sub(e,h));this._leftPerpendicular(r);const c=[];c.push([h[0]+r[0]*_,h[1]+r[1]*_]),c.push([s[0]+r[0]*_,s[1]+r[1]*_]),t.push(c);break}case r.CircleWithArc:{let r=this._cp2(i,3,0);const _=this._cp3(i,r,.5,-1);let c,u;if(s>=4)c=i[3],u=this._crossProduct(this._sub(c,r),this._sub(_,r))>0;else{c=r,u=this._crossProduct(this._sub(c,h),this._sub(_,h))>0;const s=24*this._geomUnitsPerPoint,t=this._sub(c,h);this._normalize(t,s);const i=Math.sqrt(2)/2;this._rotateDirect(t,i,u?i:-i),r=this._add(h,t)}const o=this._sub(r,h),n=Math.cos(Math.PI/18),a=Math.sin(Math.PI/18),p=[r];for(let s=1;s<=36;s++)this._rotateDirect(o,n,a),p.push(this._add(h,o));this._add90DegArc(p,r,c,_,u),e(p[p.length-8],1),t.push(p);break}case r.DoubleJog:{let e,r,_=this._cp2(i,-3,1);if(e=s>=3?i[2]:this._add(h,this._sub(h,_)),s>=4)r=i[3];else{const s=h;h=_,r=e;const t=this._dist(h,s),i=this._dist(r,s);let c=30*this._geomUnitsPerPoint;.5*t<c&&(c=.5*t),.5*i<c&&(c=.5*i),_=this._mix(h,c/t,s,(t-c)/t),e=this._mix(r,c/i,s,(i-c)/i)}const c=this._mid(h,_),u=this._mid(r,e),o=this._dist(h,_),n=this._dist(e,r);let a=Math.min(o,n)/8;a=Math.min(a,24*this._geomUnitsPerPoint);const p=Math.cos(Math.PI/4);let l=this._sub(h,_);this._normalize(l,a),this._crossProduct(l,this._sub(r,_))>0?this._rotateDirect(l,p,-p):this._rotateDirect(l,p,p);let d=[];d.push(_),d.push(this._add(c,l)),d.push(this._sub(c,l)),d.push(h),t.push(d),l=this._sub(r,e),this._normalize(l,a),this._crossProduct(l,this._sub(h,e))<0?this._rotateDirect(l,p,p):this._rotateDirect(l,p,-p),d=[],d.push(e),d.push(this._add(u,l)),d.push(this._sub(u,l)),d.push(r),t.push(d);break}case r.PerpendicularOffset:{const s=this._cp2(i,-4,1),e=this._cp3(i,s,.882353,-1.94),r=this._sub(e,s);this._crossProduct(r,this._sub(h,s))>0?this._rightPerpendicular(r):this._leftPerpendicular(r);const _=[r[0]/8,r[1]/8],c=this._sub(this._mid(s,e),_);t.push([c,h]);break}case r.LineExcludingLastSegment:{const s=this._arrowPath(i),h=[];let e=s.length-2;for(;e--;)h.push(s[e]);t.push(h);break}case r.MultivertexArrow:{const s=this._arrowPath(i),h=[];this._addArrow(h,s,!1),t.push(h);break}case r.CrossedArrow:{const s=this._arrowPath(i),h=[];this._addArrow(h,s,!0),t.push(h);break}case r.ChevronArrow:{const[s,e]=this._arrowLastSeg(i),r=10*this._geomUnitsPerPoint,_=this._sub(h,s);this._normalize(_);const c=this._crossProduct(_,this._sub(e,s)),u=this._leftPerp(_),o=[e[0]-u[0]*c*2,e[1]-u[1]*c*2],n=[];n.push([e[0]+_[0]*r,e[1]+_[1]*r]),n.push(h),n.push([o[0]+_[0]*r,o[1]+_[1]*r]),t.push(n);break}case r.ChevronArrowOffset:{const[s,e]=this._arrowLastSeg(i),r=this._sub(h,s);this._normalize(r);const _=this._crossProduct(r,this._sub(e,s));this._leftPerpendicular(r);const c=[e[0]-r[0]*_,e[1]-r[1]*_],u=[];u.push([c[0]+r[0]*_*.5,c[1]+r[1]*_*.5]),u.push(this._mid(c,h)),u.push([c[0]-r[0]*_*.5,c[1]-r[1]*_*.5]),t.push(u);break}case r.PartialFirstSegment:{const[s,e]=this._arrowLastSeg(i),r=this._sub(h,s);this._normalize(r);const _=this._crossProduct(r,this._sub(e,s));this._leftPerpendicular(r);const c=[e[0]-r[0]*_,e[1]-r[1]*_];t.push([s,c]);break}case r.Arch:{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,1),r=this._sub(h,s),_=this._mix(e,1,r,.55),c=this._mix(e,1,r,-.55),u=[h];this._addBezier2(u,h,_,e,4),this._addBezier2(u,e,c,s,4),t.push(u);break}case r.CurvedParallelTicks:{const s=this._cp2(i,-4,1),e=this._cp3(i,s,.882353,-1.94),r=this._sub(e,s);this._crossProduct(r,this._sub(h,s))>0?this._rightPerpendicular(r):this._leftPerpendicular(r);const _=[r[0]/8,r[1]/8],c=this._sub(this._mid(s,e),_),u=this._sub(this._mix(s,.75,e,.25),_),o=this._sub(this._mix(s,.25,e,.75),_),n=[s];this._addBezier2(n,s,u,c,3),this._addBezier2(n,c,o,e,3),t.push(n);for(let i=0;i<8;i++){const s=n[2*i+1],h=[this._clone(s)];h.push(this._add(s,[r[0]/4,r[1]/4])),t.push(h)}break}case r.Arc90Degrees:{const s=this._cp2(i,0,-1),e=this._cp3(i,s,.5,1),r=[s];this._add90DegArc(r,s,h,e),t.push(r);break}case r.FullGeometry:default:t.push(i)}}return t}}export{_ as EffectControlMeasureLine};\n"]},"metadata":{},"sourceType":"module"}