{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { isDevEnvironment as t, adjustStaticAGOUrl as r } from \"../../../../core/devEnvironmentUtils.js\";\nimport e from \"../../../../core/Error.js\";\nimport { throwIfAborted as o } from \"../../../../core/promiseUtils.js\";\nimport { urlToObject as n } from \"../../../../core/urlUtils.js\";\nimport s from \"../../../../portal/Portal.js\";\nimport { f as l } from \"../../../../chunks/persistableUrlUtils.js\";\nimport { fetchStyle as m, Style2DUrlTemplate as a, requestJSON as i, makeCIMSymbolRef as c, symbolUrlFromStyleItem as u } from \"../../../../symbols/support/styleUtils.js\";\n\nasync function y(t, r, n) {\n  if (!t.name) return Promise.reject(new e(\"style-symbol-reference-name-missing\", \"Missing name in style symbol reference\"));\n  if (t.styleName && \"Esri2DPointSymbolsStyle\" === t.styleName) return f(t, n);\n\n  try {\n    return p(await m(t, r, n), t.name, r, n);\n  } catch (s) {\n    return o(s), null;\n  }\n}\n\nasync function f(t, r) {\n  const e = a.replace(/\\{SymbolName\\}/gi, t.name);\n\n  try {\n    const t = await i(e, r);\n    return c(t.data);\n  } catch (n) {\n    return o(n), null;\n  }\n}\n\nasync function p(m, a, y, f) {\n  const p = m.data,\n        b = {\n    portal: y && y.portal || s.getDefault(),\n    url: n(m.baseUrl),\n    origin: \"portal-item\"\n  },\n        d = p.items.find(t => t.name === a);\n\n  if (!d) {\n    throw new e(\"symbolstyleutils:symbol-name-not-found\", `The symbol name '${a}' could not be found`, {\n      symbolName: a\n    });\n  }\n\n  let j = l(u(d, \"cimRef\"), b);\n  t() && (j = r(j));\n\n  try {\n    const t = await i(j, f);\n    return c(t.data);\n  } catch (U) {\n    return o(U), null;\n  }\n}\n\nexport { y as fetchCIMSymbolReference };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/layers/support/webStyleUtils.js"],"names":["isDevEnvironment","t","adjustStaticAGOUrl","r","e","throwIfAborted","o","urlToObject","n","s","f","l","fetchStyle","m","Style2DUrlTemplate","a","requestJSON","i","makeCIMSymbolRef","c","symbolUrlFromStyleItem","u","y","name","Promise","reject","styleName","p","replace","data","b","portal","getDefault","url","baseUrl","origin","d","items","find","symbolName","j","U","fetchCIMSymbolReference"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isDevEnvironment as t,adjustStaticAGOUrl as r}from\"../../../../core/devEnvironmentUtils.js\";import e from\"../../../../core/Error.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import{urlToObject as n}from\"../../../../core/urlUtils.js\";import s from\"../../../../portal/Portal.js\";import{f as l}from\"../../../../chunks/persistableUrlUtils.js\";import{fetchStyle as m,Style2DUrlTemplate as a,requestJSON as i,makeCIMSymbolRef as c,symbolUrlFromStyleItem as u}from\"../../../../symbols/support/styleUtils.js\";async function y(t,r,n){if(!t.name)return Promise.reject(new e(\"style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"));if(t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName)return f(t,n);try{return p(await m(t,r,n),t.name,r,n)}catch(s){return o(s),null}}async function f(t,r){const e=a.replace(/\\{SymbolName\\}/gi,t.name);try{const t=await i(e,r);return c(t.data)}catch(n){return o(n),null}}async function p(m,a,y,f){const p=m.data,b={portal:y&&y.portal||s.getDefault(),url:n(m.baseUrl),origin:\"portal-item\"},d=p.items.find((t=>t.name===a));if(!d){throw new e(\"symbolstyleutils:symbol-name-not-found\",`The symbol name '${a}' could not be found`,{symbolName:a})}let j=l(u(d,\"cimRef\"),b);t()&&(j=r(j));try{const t=await i(j,f);return c(t.data)}catch(U){return o(U),null}}export{y as fetchCIMSymbolReference};\n"]},"metadata":{},"sourceType":"module"}