{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { isSome as t, isNone as s } from \"../../../../../core/maybe.js\";\nconst e = 6,\n      r = 4294967296;\n\nclass o {\n  constructor(t) {\n    this._head = t, this._cursor = t;\n  }\n\n  static from(t) {\n    const s = i.from(new Float32Array(t));\n    return new o(s);\n  }\n\n  get id() {\n    return this._cursor.id;\n  }\n\n  get baseZoom() {\n    return this._cursor.baseZoom;\n  }\n\n  get anchorX() {\n    return this._cursor.anchorX;\n  }\n\n  get anchorY() {\n    return this._cursor.anchorY;\n  }\n\n  get directionX() {\n    return this._cursor.directionX;\n  }\n\n  get directionY() {\n    return this._cursor.directionY;\n  }\n\n  get size() {\n    return this._cursor.size;\n  }\n\n  get materialKey() {\n    return this._cursor.materialKey;\n  }\n\n  get boundsCount() {\n    return this._cursor.boundsCount;\n  }\n\n  computedMinZoom() {\n    return this._cursor.computedMinZoom();\n  }\n\n  setComputedMinZoom(t) {\n    return this._cursor.setComputedMinZoom(t);\n  }\n\n  boundsComputedAnchorX(t) {\n    return this._cursor.boundsComputedAnchorX(t);\n  }\n\n  boundsComputedAnchorY(t) {\n    return this._cursor.boundsComputedAnchorY(t);\n  }\n\n  setBoundsComputedAnchorX(t, s) {\n    return this._cursor.setBoundsComputedAnchorX(t, s);\n  }\n\n  setBoundsComputedAnchorY(t, s) {\n    return this._cursor.setBoundsComputedAnchorY(t, s);\n  }\n\n  boundsX(t) {\n    return this._cursor.boundsX(t);\n  }\n\n  boundsY(t) {\n    return this._cursor.boundsY(t);\n  }\n\n  boundsWidth(t) {\n    return this._cursor.boundsWidth(t);\n  }\n\n  boundsHeight(t) {\n    return this._cursor.boundsHeight(t);\n  }\n\n  link(s) {\n    if (t(s._head)) return this._cursor.link(s._head);\n  }\n\n  getCursor() {\n    return this.copy();\n  }\n\n  copy() {\n    var t;\n    const s = new o(null == (t = this._head) ? void 0 : t.copy());\n    if (!s._head) return s;\n    let e = s._head,\n        r = s._head._link;\n\n    for (; r;) e._link = r.copy(), e = r, r = e._link;\n\n    return s;\n  }\n\n  peekId() {\n    var t;\n    return null != (t = this._cursor.peekId()) ? t : this._cursor._link.peekId();\n  }\n\n  nextId() {\n    const t = this.id;\n\n    for (; t === this.id;) if (!this.next()) return !1;\n\n    return !0;\n  }\n\n  save() {\n    this._savedCursor = this._cursor, this._savedOffset = this._cursor._offset;\n  }\n\n  restore() {\n    this._cursor = this._savedCursor, this._cursor._offset = this._savedOffset;\n  }\n\n  next() {\n    if (!this._cursor) return !1;\n\n    if (!this._cursor.next()) {\n      if (!this._cursor._link) return !1;\n      this._cursor = this._cursor._link, this._cursor._offset = 0;\n    }\n\n    return !0;\n  }\n\n  lookup(t) {\n    for (this._cursor = this._head; this._cursor && !this._cursor.lookup(t);) {\n      if (!this._cursor._link) return !1;\n      this._cursor = this._cursor._link;\n    }\n\n    return !!this._cursor;\n  }\n\n  delete(s) {\n    let e = this._head,\n        r = null;\n\n    for (; e;) {\n      if (e.delete(s)) return e.isEmpty() && t(r) && (r._link = e._link), !0;\n      r = e, e = e._link;\n    }\n\n    return !1;\n  }\n\n}\n\nclass i {\n  constructor(t) {\n    this._offset = -1, this._link = null, this._count = 0, this._deletedCount = 0, this._offsets = {\n      instance: null\n    }, this._buffer = t;\n  }\n\n  static from(t) {\n    return new i(new Float32Array(t));\n  }\n\n  isEmpty() {\n    return this._deletedCount === this.count;\n  }\n\n  get count() {\n    return this._count || (this._count = this._computeCount()), this._count;\n  }\n\n  get id() {\n    return this._buffer[this._offset + 0];\n  }\n\n  set id(t) {\n    this._buffer[this._offset + 0] = t;\n  }\n\n  get baseZoom() {\n    return this._buffer[this._offset + 1];\n  }\n\n  get anchorX() {\n    return this._buffer[this._offset + 2];\n  }\n\n  get anchorY() {\n    return this._buffer[this._offset + 3];\n  }\n\n  get directionX() {\n    return this._buffer[this._offset + 4];\n  }\n\n  get directionY() {\n    return this._buffer[this._offset + 5];\n  }\n\n  get size() {\n    return this._buffer[this._offset + 6];\n  }\n\n  get materialKey() {\n    return this._buffer[this._offset + 7];\n  }\n\n  computedMinZoom() {\n    return this._buffer[this._offset + 8];\n  }\n\n  setComputedMinZoom(t) {\n    this._buffer[this._offset + 8] = t;\n  }\n\n  get boundsCount() {\n    return this._buffer[this._offset + 9];\n  }\n\n  boundsComputedAnchorX(t) {\n    return this._buffer[this._offset + 10 + t * e + 0];\n  }\n\n  boundsComputedAnchorY(t) {\n    return this._buffer[this._offset + 10 + t * e + 1];\n  }\n\n  setBoundsComputedAnchorX(t, s) {\n    this._buffer[this._offset + 10 + t * e + 0] = s;\n  }\n\n  setBoundsComputedAnchorY(t, s) {\n    this._buffer[this._offset + 10 + t * e + 1] = s;\n  }\n\n  boundsX(t) {\n    return this._buffer[this._offset + 10 + t * e + 2];\n  }\n\n  boundsY(t) {\n    return this._buffer[this._offset + 10 + t * e + 3];\n  }\n\n  boundsWidth(t) {\n    return this._buffer[this._offset + 10 + t * e + 4];\n  }\n\n  boundsHeight(t) {\n    return this._buffer[this._offset + 10 + t * e + 5];\n  }\n\n  link(t) {\n    let s = this;\n\n    for (; s._link;) s = s._link;\n\n    s._link = t;\n  }\n\n  getCursor() {\n    return this.copy();\n  }\n\n  copy() {\n    const t = new i(this._buffer);\n    return t._link = this._link, t._offset = this._offset, t._deletedCount = this._deletedCount, t._offsets = this._offsets, t._count = this._count, t;\n  }\n\n  peekId() {\n    const t = this._offset + 10 + this.boundsCount * e + 0;\n    return t >= this._buffer.length ? 0 : this._buffer[t];\n  }\n\n  next() {\n    let t = 0;\n\n    for (; this._offset < this._buffer.length && t++ < 100 && (-1 === this._offset ? this._offset = 0 : this._offset += 10 + this.boundsCount * e, this.id === r););\n\n    return this.id !== r && this._offset < this._buffer.length;\n  }\n\n  delete(t) {\n    const s = this._offset,\n          e = this.lookup(t);\n    if (e) for (this.id = 4294967295, ++this._deletedCount; this.next() && this.id === t;) this.id = 4294967295, ++this._deletedCount;\n    return this._offset = s, e;\n  }\n\n  lookup(t) {\n    const e = this._offset;\n\n    if (s(this._offsets.instance)) {\n      this._offsets.instance = new Map();\n      const t = this.copy();\n      t._offset = -1;\n      let s = 0;\n\n      for (; t.next();) t.id !== s && (this._offsets.instance.set(t.id, t._offset), s = t.id);\n    }\n\n    return !!this._offsets.instance.has(t) && (this._offset = this._offsets.instance.get(t), this.id !== r || (this._offset = e, !1));\n  }\n\n  _computeCount() {\n    const t = this._offset;\n    let s = 0;\n\n    for (this._offset = -1; this.next();) s++;\n\n    return this._offset = t, s;\n  }\n\n}\n\nexport { o as MetricReader, i as MetricReaderNode };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/webgl/collisions/MetricReader.js"],"names":["isSome","t","isNone","s","e","r","o","constructor","_head","_cursor","from","i","Float32Array","id","baseZoom","anchorX","anchorY","directionX","directionY","size","materialKey","boundsCount","computedMinZoom","setComputedMinZoom","boundsComputedAnchorX","boundsComputedAnchorY","setBoundsComputedAnchorX","setBoundsComputedAnchorY","boundsX","boundsY","boundsWidth","boundsHeight","link","getCursor","copy","_link","peekId","nextId","next","save","_savedCursor","_savedOffset","_offset","restore","lookup","delete","isEmpty","_count","_deletedCount","_offsets","instance","_buffer","count","_computeCount","length","Map","set","has","get","MetricReader","MetricReaderNode"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as s}from\"../../../../../core/maybe.js\";const e=6,r=4294967296;class o{constructor(t){this._head=t,this._cursor=t}static from(t){const s=i.from(new Float32Array(t));return new o(s)}get id(){return this._cursor.id}get baseZoom(){return this._cursor.baseZoom}get anchorX(){return this._cursor.anchorX}get anchorY(){return this._cursor.anchorY}get directionX(){return this._cursor.directionX}get directionY(){return this._cursor.directionY}get size(){return this._cursor.size}get materialKey(){return this._cursor.materialKey}get boundsCount(){return this._cursor.boundsCount}computedMinZoom(){return this._cursor.computedMinZoom()}setComputedMinZoom(t){return this._cursor.setComputedMinZoom(t)}boundsComputedAnchorX(t){return this._cursor.boundsComputedAnchorX(t)}boundsComputedAnchorY(t){return this._cursor.boundsComputedAnchorY(t)}setBoundsComputedAnchorX(t,s){return this._cursor.setBoundsComputedAnchorX(t,s)}setBoundsComputedAnchorY(t,s){return this._cursor.setBoundsComputedAnchorY(t,s)}boundsX(t){return this._cursor.boundsX(t)}boundsY(t){return this._cursor.boundsY(t)}boundsWidth(t){return this._cursor.boundsWidth(t)}boundsHeight(t){return this._cursor.boundsHeight(t)}link(s){if(t(s._head))return this._cursor.link(s._head)}getCursor(){return this.copy()}copy(){var t;const s=new o(null==(t=this._head)?void 0:t.copy());if(!s._head)return s;let e=s._head,r=s._head._link;for(;r;)e._link=r.copy(),e=r,r=e._link;return s}peekId(){var t;return null!=(t=this._cursor.peekId())?t:this._cursor._link.peekId()}nextId(){const t=this.id;for(;t===this.id;)if(!this.next())return!1;return!0}save(){this._savedCursor=this._cursor,this._savedOffset=this._cursor._offset}restore(){this._cursor=this._savedCursor,this._cursor._offset=this._savedOffset}next(){if(!this._cursor)return!1;if(!this._cursor.next()){if(!this._cursor._link)return!1;this._cursor=this._cursor._link,this._cursor._offset=0}return!0}lookup(t){for(this._cursor=this._head;this._cursor&&!this._cursor.lookup(t);){if(!this._cursor._link)return!1;this._cursor=this._cursor._link}return!!this._cursor}delete(s){let e=this._head,r=null;for(;e;){if(e.delete(s))return e.isEmpty()&&t(r)&&(r._link=e._link),!0;r=e,e=e._link}return!1}}class i{constructor(t){this._offset=-1,this._link=null,this._count=0,this._deletedCount=0,this._offsets={instance:null},this._buffer=t}static from(t){return new i(new Float32Array(t))}isEmpty(){return this._deletedCount===this.count}get count(){return this._count||(this._count=this._computeCount()),this._count}get id(){return this._buffer[this._offset+0]}set id(t){this._buffer[this._offset+0]=t}get baseZoom(){return this._buffer[this._offset+1]}get anchorX(){return this._buffer[this._offset+2]}get anchorY(){return this._buffer[this._offset+3]}get directionX(){return this._buffer[this._offset+4]}get directionY(){return this._buffer[this._offset+5]}get size(){return this._buffer[this._offset+6]}get materialKey(){return this._buffer[this._offset+7]}computedMinZoom(){return this._buffer[this._offset+8]}setComputedMinZoom(t){this._buffer[this._offset+8]=t}get boundsCount(){return this._buffer[this._offset+9]}boundsComputedAnchorX(t){return this._buffer[this._offset+10+t*e+0]}boundsComputedAnchorY(t){return this._buffer[this._offset+10+t*e+1]}setBoundsComputedAnchorX(t,s){this._buffer[this._offset+10+t*e+0]=s}setBoundsComputedAnchorY(t,s){this._buffer[this._offset+10+t*e+1]=s}boundsX(t){return this._buffer[this._offset+10+t*e+2]}boundsY(t){return this._buffer[this._offset+10+t*e+3]}boundsWidth(t){return this._buffer[this._offset+10+t*e+4]}boundsHeight(t){return this._buffer[this._offset+10+t*e+5]}link(t){let s=this;for(;s._link;)s=s._link;s._link=t}getCursor(){return this.copy()}copy(){const t=new i(this._buffer);return t._link=this._link,t._offset=this._offset,t._deletedCount=this._deletedCount,t._offsets=this._offsets,t._count=this._count,t}peekId(){const t=this._offset+10+this.boundsCount*e+0;return t>=this._buffer.length?0:this._buffer[t]}next(){let t=0;for(;this._offset<this._buffer.length&&t++<100&&(-1===this._offset?this._offset=0:this._offset+=10+this.boundsCount*e,this.id===r););return this.id!==r&&this._offset<this._buffer.length}delete(t){const s=this._offset,e=this.lookup(t);if(e)for(this.id=4294967295,++this._deletedCount;this.next()&&this.id===t;)this.id=4294967295,++this._deletedCount;return this._offset=s,e}lookup(t){const e=this._offset;if(s(this._offsets.instance)){this._offsets.instance=new Map;const t=this.copy();t._offset=-1;let s=0;for(;t.next();)t.id!==s&&(this._offsets.instance.set(t.id,t._offset),s=t.id)}return!!this._offsets.instance.has(t)&&(this._offset=this._offsets.instance.get(t),this.id!==r||(this._offset=e,!1))}_computeCount(){const t=this._offset;let s=0;for(this._offset=-1;this.next();)s++;return this._offset=t,s}}export{o as MetricReader,i as MetricReaderNode};\n"]},"metadata":{},"sourceType":"module"}