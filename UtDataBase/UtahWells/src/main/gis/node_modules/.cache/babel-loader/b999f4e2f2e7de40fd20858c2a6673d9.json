{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport t from \"../../core/Logger.js\";\nimport { isNone as n, isSome as o } from \"../../core/maybe.js\";\nimport { isPoint as r, isPolygon as s, isPolyline as c, isMultipoint as l } from \"../../geometry/support/jsonUtils.js\";\nimport { OptimizedFeature as u } from \"./OptimizedFeature.js\";\nimport i from \"./OptimizedFeatureSet.js\";\nimport f from \"./OptimizedGeometry.js\";\n\nfunction h(e, t) {\n  return e ? t ? 4 : 3 : t ? 3 : 2;\n}\n\nconst a = t.getLogger(\"esri.layers.graphics.featureConversionUtils\"),\n      g = {\n  esriGeometryPoint: 0,\n  esriGeometryPolyline: 2,\n  esriGeometryPolygon: 3,\n  esriGeometryMultipoint: 0\n},\n      d = (e, t, n, o, r, s) => {\n  e[n] = r, e[n + 1] = s;\n},\n      m = (e, t, n, o, r, s) => {\n  e[n] = r, e[n + 1] = s, e[n + 2] = t[o + 2];\n},\n      y = (e, t, n, o, r, s) => {\n  e[n] = r, e[n + 1] = s, e[n + 2] = t[o + 3];\n},\n      p = (e, t, n, o, r, s) => {\n  e[n] = r, e[n + 1] = s, e[n + 2] = t[o + 2], e[n + 3] = t[o + 3];\n};\n\nfunction I(e, t, n, o) {\n  if (e) {\n    if (n) return t && o ? p : m;\n    if (t && o) return y;\n  } else if (t && o) return m;\n\n  return d;\n}\n\nfunction b(_ref, n) {\n  let {\n    scale: e,\n    translate: t\n  } = _ref;\n  return Math.round((n - t[0]) / e[0]);\n}\n\nfunction M(_ref2, n) {\n  let {\n    scale: e,\n    translate: t\n  } = _ref2;\n  return Math.round((t[1] - n) / e[1]);\n}\n\nfunction w(_ref3, n) {\n  let {\n    scale: e,\n    translate: t\n  } = _ref3;\n  return n * e[0] + t[0];\n}\n\nfunction N(_ref4, n) {\n  let {\n    scale: e,\n    translate: t\n  } = _ref4;\n  return t[1] - n * e[1];\n}\n\nfunction G(e, t, n) {\n  return e ? t ? n ? k(e) : P(e) : n ? Z(e) : T(e) : null;\n}\n\nfunction T(e) {\n  const t = e.coords;\n  return {\n    x: t[0],\n    y: t[1]\n  };\n}\n\nfunction F(e, t) {\n  return e.coords[0] = t.x, e.coords[1] = t.y, e;\n}\n\nfunction P(e) {\n  const t = e.coords;\n  return {\n    x: t[0],\n    y: t[1],\n    z: t[2]\n  };\n}\n\nfunction x(e, t) {\n  return e.coords[0] = t.x, e.coords[1] = t.y, e.coords[2] = t.z, e;\n}\n\nfunction Z(e) {\n  const t = e.coords;\n  return {\n    x: t[0],\n    y: t[1],\n    m: t[2]\n  };\n}\n\nfunction j(e, t) {\n  return e.coords[0] = t.x, e.coords[1] = t.y, e.coords[2] = t.m, e;\n}\n\nfunction k(e) {\n  const t = e.coords;\n  return {\n    x: t[0],\n    y: t[1],\n    z: t[2],\n    m: t[3]\n  };\n}\n\nfunction E(e, t) {\n  return e.coords[0] = t.x, e.coords[1] = t.y, e.coords[2] = t.z, e.coords[3] = t.m, e;\n}\n\nfunction z(e, t, n, r) {\n  let s = T;\n  n && r ? s = k : n ? s = P : r && (s = Z);\n\n  for (const c of t) {\n    const {\n      geometry: t,\n      attributes: n\n    } = c,\n          r = o(t) ? s(t) : null;\n    e.push({\n      attributes: n,\n      geometry: r\n    });\n  }\n\n  return e;\n}\n\nfunction v(e, t) {\n  return e && t ? E : e ? x : t ? j : F;\n}\n\nfunction S(e, t, n, o, r) {\n  const s = v(n, o);\n\n  for (const c of t) {\n    const {\n      geometry: t,\n      attributes: n\n    } = c;\n    let o;\n    t && (o = s(new f(), t)), e.push(new u(o, n, null, n[r]));\n  }\n\n  return e;\n}\n\nfunction V(e, t) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : v(null != t.z, null != t.m);\n  return n(e, t);\n}\n\nfunction Y(e, t, n, o) {\n  for (const r of t) {\n    const {\n      geometry: t,\n      attributes: s\n    } = r;\n    let c;\n    t && (c = _(t, n, o)), e.push({\n      attributes: s,\n      geometry: c\n    });\n  }\n\n  return e;\n}\n\nfunction _(e, t, o) {\n  if (n(e)) return null;\n  const r = h(t, o),\n        s = [];\n\n  for (let n = 0; n < e.coords.length; n += r) {\n    const t = [];\n\n    for (let o = 0; o < r; o++) t.push(e.coords[n + o]);\n\n    s.push(t);\n  }\n\n  return t ? o ? {\n    points: s,\n    hasZ: t,\n    hasM: o\n  } : {\n    points: s,\n    hasZ: t\n  } : o ? {\n    points: s,\n    hasM: o\n  } : {\n    points: s\n  };\n}\n\nfunction O(e, t, n, o, r) {\n  const s = h(n, o);\n\n  for (const c of t) {\n    const t = c.geometry,\n          n = c.attributes;\n    let o;\n    t && (o = U(new f(), t, s)), e.push(new u(o, n, null, n[r]));\n  }\n\n  return e;\n}\n\nfunction U(e, t) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : h(t.hasZ, t.hasM);\n  e.lengths[0] = t.points.length;\n  const o = e.coords;\n  let r = 0;\n\n  for (const s of t.points) for (let e = 0; e < n; e++) o[r++] = s[e];\n\n  return e;\n}\n\nfunction A(e, t, n, r) {\n  for (const s of t) {\n    const {\n      geometry: t,\n      attributes: c\n    } = s;\n    let l;\n    o(t) && (l = L(t, n, r)), e.push({\n      attributes: c,\n      geometry: l\n    });\n  }\n\n  return e;\n}\n\nfunction L(e, t, n) {\n  if (!e) return null;\n  const o = h(t, n),\n        {\n    coords: r,\n    lengths: s\n  } = e,\n        c = [];\n  let l = 0;\n\n  for (const u of s) {\n    const e = [];\n\n    for (let t = 0; t < u; t++) {\n      const t = [];\n\n      for (let e = 0; e < o; e++) t.push(r[l++]);\n\n      e.push(t);\n    }\n\n    c.push(e);\n  }\n\n  return t ? n ? {\n    paths: c,\n    hasZ: t,\n    hasM: n\n  } : {\n    paths: c,\n    hasZ: t\n  } : n ? {\n    paths: c,\n    hasM: n\n  } : {\n    paths: c\n  };\n}\n\nfunction q(e, t, n, o, r) {\n  const s = h(n, o);\n\n  for (const c of t) {\n    const t = c.geometry,\n          n = c.attributes;\n    let o;\n    t && (o = $(new f(), t, s)), e.push(new u(o, n, null, n[r]));\n  }\n\n  return e;\n}\n\nfunction $(e, t) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : h(t.hasZ, t.hasM);\n  const {\n    lengths: o,\n    coords: r\n  } = e;\n  let s = 0;\n\n  for (const c of t.paths) {\n    for (const e of c) for (let t = 0; t < n; t++) r[s++] = e[t];\n\n    o.push(c.length);\n  }\n\n  return e;\n}\n\nfunction R(e, t, n, r) {\n  for (const s of t) {\n    const {\n      geometry: t,\n      attributes: c,\n      centroid: l\n    } = s;\n    let u;\n\n    if (o(t) && (u = C(t, n, r)), o(l)) {\n      const t = T(l);\n      e.push({\n        attributes: c,\n        centroid: t,\n        geometry: u\n      });\n    } else e.push({\n      attributes: c,\n      geometry: u\n    });\n  }\n\n  return e;\n}\n\nfunction C(e, t, n) {\n  if (!e) return null;\n  const o = h(t, n),\n        {\n    coords: r,\n    lengths: s\n  } = e,\n        c = [];\n  let l = 0;\n\n  for (const u of s) {\n    const e = [];\n\n    for (let t = 0; t < u; t++) {\n      const t = [];\n\n      for (let e = 0; e < o; e++) t.push(r[l++]);\n\n      e.push(t);\n    }\n\n    c.push(e);\n  }\n\n  return t ? n ? {\n    rings: c,\n    hasZ: t,\n    hasM: n\n  } : {\n    rings: c,\n    hasZ: t\n  } : n ? {\n    rings: c,\n    hasM: n\n  } : {\n    rings: c\n  };\n}\n\nfunction B(e, t, n, r, s) {\n  for (const c of t) {\n    const t = c.geometry,\n          l = c.centroid,\n          i = c.attributes;\n    let h;\n    t && (h = D(new f(), t, n, r)), o(l) ? e.push(new u(h, i, F(new f(), l), i[s])) : e.push(new u(h, i, null, i[s]));\n  }\n\n  return e;\n}\n\nfunction D(e, t) {\n  let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : t.hasZ;\n  let o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : t.hasM;\n  return H(e, t.rings, n, o), e;\n}\n\nfunction H(e, t, n, o) {\n  const r = h(n, o),\n        {\n    lengths: s,\n    coords: c\n  } = e;\n  let l = 0;\n  s.length = c.length = 0;\n\n  for (const u of t) {\n    for (const e of u) for (let t = 0; t < r; t++) c[l++] = e[t];\n\n    s.push(u.length);\n  }\n\n  return e;\n}\n\nconst J = [],\n      K = [];\n\nfunction Q(e, t, n, o, r) {\n  J[0] = e;\n  const [s] = W(K, J, t, n, o, r);\n  return J.length = K.length = 0, s;\n}\n\nfunction W(t, n, o, r, s, c) {\n  if (t.length = 0, !o) {\n    for (const e of n) {\n      const n = e.attributes[c];\n      t.push(new u(null, e.attributes, null, n));\n    }\n\n    return t;\n  }\n\n  switch (o) {\n    case \"esriGeometryPoint\":\n      return S(t, n, r, s, c);\n\n    case \"esriGeometryMultipoint\":\n      return O(t, n, r, s, c);\n\n    case \"esriGeometryPolyline\":\n      return q(t, n, r, s, c);\n\n    case \"esriGeometryPolygon\":\n      return B(t, n, r, s, c);\n\n    default:\n      a.error(\"convertToFeatureSet:unknown-geometry\", new e(`Unable to parse unknown geometry type '${o}'`)), t.length = 0;\n  }\n\n  return t;\n}\n\nfunction X(t, n, o, r, s, c) {\n  const l = t.length;\n\n  switch (o) {\n    case \"esriGeometryPoint\":\n      S(t, n, r, s, c);\n      break;\n\n    case \"esriGeometryMultipoint\":\n      O(t, n, r, s, c);\n      break;\n\n    case \"esriGeometryPolyline\":\n      q(t, n, r, s, c);\n      break;\n\n    case \"esriGeometryPolygon\":\n      B(t, n, r, s, c);\n      break;\n\n    default:\n      a.error(\"convertToFeatureSet:unknown-geometry\", new e(`Unable to parse unknown geometry type '${o}'`));\n  }\n\n  for (let e = 0; e < n.length; e++) t[e + l].geometryType = o, t[e + l].insertAfter = n[e].insertAfter, t[e + l].groupId = n[e].groupId;\n\n  return t;\n}\n\nfunction ee(e, t, n, o) {\n  K[0] = e, re(J, K, t, n, o);\n  const r = J[0];\n  return J.length = K.length = 0, r;\n}\n\nfunction te(t, o, u) {\n  if (n(t)) return null;\n  const i = new f();\n\n  if (\"hasZ\" in t && null == o && (o = t.hasZ), \"hasM\" in t && null == u && (u = t.hasM), r(t)) {\n    return v(null != o ? o : null != t.z, null != u ? u : null != t.m)(i, t);\n  }\n\n  return s(t) ? D(i, t, o, u) : c(t) ? $(i, t, h(o, u)) : l(t) ? U(i, t, h(o, u)) : void a.error(\"convertFromGeometry:unknown-geometry\", new e(`Unable to parse unknown geometry type '${t}'`));\n}\n\nfunction ne(t, o, r, s) {\n  const c = t && (\"coords\" in t ? t : t.geometry);\n  if (n(c)) return null;\n\n  switch (o) {\n    case \"esriGeometryPoint\":\n      {\n        let e = T;\n        return r && s ? e = k : r ? e = P : s && (e = Z), e(c);\n      }\n\n    case \"esriGeometryMultipoint\":\n      return _(c, r, s);\n\n    case \"esriGeometryPolyline\":\n      return L(c, r, s);\n\n    case \"esriGeometryPolygon\":\n      return C(c, r, s);\n\n    default:\n      return void a.error(\"convertToGeometry:unknown-geometry\", new e(`Unable to parse unknown geometry type '${o}'`));\n  }\n}\n\nfunction oe(e, t) {\n  for (const n of t) e.push({\n    attributes: n.attributes\n  });\n\n  return e;\n}\n\nfunction re(t, o, r, s, c) {\n  if (t.length = 0, n(r)) return oe(t, o);\n\n  switch (r) {\n    case \"esriGeometryPoint\":\n      return z(t, o, s, c);\n\n    case \"esriGeometryMultipoint\":\n      return Y(t, o, s, c);\n\n    case \"esriGeometryPolyline\":\n      return A(t, o, s, c);\n\n    case \"esriGeometryPolygon\":\n      return R(t, o, s, c);\n\n    default:\n      a.error(\"convertToFeatureSet:unknown-geometry\", new e(`Unable to parse unknown geometry type '${r}'`));\n  }\n\n  return t;\n}\n\nfunction se(e) {\n  const {\n    objectIdFieldName: t,\n    spatialReference: n,\n    transform: o,\n    fields: r,\n    hasM: s,\n    hasZ: c,\n    features: l,\n    geometryType: u,\n    exceededTransferLimit: i,\n    uniqueIdField: f,\n    queryGeometry: h,\n    queryGeometryType: a\n  } = e,\n        g = {\n    features: re([], l, u, c, s),\n    fields: r,\n    geometryType: u,\n    objectIdFieldName: t,\n    spatialReference: n,\n    uniqueIdField: f,\n    queryGeometry: ne(h, a, !1, !1)\n  };\n  return o && (g.transform = o), i && (g.exceededTransferLimit = i), s && (g.hasM = s), c && (g.hasZ = c), g;\n}\n\nfunction ce(t, n) {\n  const o = new i(),\n        {\n    hasM: r,\n    hasZ: s,\n    features: c,\n    objectIdFieldName: l,\n    spatialReference: u,\n    geometryType: f,\n    exceededTransferLimit: h,\n    transform: g,\n    fields: d\n  } = t;\n  return d && (o.fields = d), o.geometryType = f, o.objectIdFieldName = l || n, o.spatialReference = u, o.objectIdFieldName ? (c && W(o.features, c, f, s, r, o.objectIdFieldName), h && (o.exceededTransferLimit = h), r && (o.hasM = r), s && (o.hasZ = s), g && (o.transform = g), o) : (a.error(new e(\"optimized-features:invalid-objectIdFieldName\", \"objectIdFieldName is missing\")), o);\n}\n\nfunction le(e) {\n  const {\n    transform: t,\n    features: n,\n    hasM: r,\n    hasZ: s\n  } = e;\n  if (!t) return e;\n\n  for (const c of n) o(c.geometry) && me(c.geometry, c.geometry, r, s, t), o(c.centroid) && me(c.centroid, c.centroid, r, s, t);\n\n  return e.transform = null, e;\n}\n\nfunction ue(e, t) {\n  const {\n    geometryType: n,\n    features: o,\n    hasM: r,\n    hasZ: s\n  } = t;\n  if (!e) return t;\n\n  for (let c = 0; c < o.length; c++) {\n    const t = o[c],\n          l = t.weakClone();\n    l.geometry = new f(), ie(l.geometry, t.geometry, r, s, n, e), t.centroid && (l.centroid = new f(), ie(l.centroid, t.centroid, r, s, \"esriGeometryPoint\", e)), o[c] = l;\n  }\n\n  return t.transform = e, t;\n}\n\nfunction ie(e, t, o, r, s, c) {\n  let l = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : o;\n  let u = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : r;\n  if (e.lengths.length && (e.lengths.length = 0), e.coords.length && (e.coords.length = 0), n(t) || !t.coords.length) return null;\n  const i = g[s],\n        {\n    coords: f,\n    lengths: a\n  } = t,\n        d = h(o, r),\n        m = h(o && l, r && u),\n        y = I(o, r, l, u);\n  if (!a.length) return y(e.coords, f, 0, 0, b(c, f[0]), M(c, f[1])), e.lengths.length && (e.lengths.length = 0), e.coords.length = d, e;\n  let p,\n      w,\n      N,\n      G,\n      T = 0,\n      F = 0,\n      P = F;\n\n  for (const n of a) {\n    if (n < i) continue;\n    let t = 0;\n    F = P, N = p = b(c, f[T]), G = w = M(c, f[T + 1]), y(e.coords, f, F, T, N, G), t++, T += d, F += m;\n\n    for (let o = 1; o < n; o++, T += d) N = b(c, f[T]), G = M(c, f[T + 1]), N === p && G === w || (y(e.coords, f, F, T, N - p, G - w), F += m, t++, p = N, w = G);\n\n    t >= i && (e.lengths.push(t), P = F);\n  }\n\n  return e.coords.length = P, e.coords.length ? e : null;\n}\n\nfunction fe(e, t, n, o, r, s) {\n  let c = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : n;\n  let l = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : o;\n  if (e.lengths.length && (e.lengths.length = 0), e.coords.length && (e.coords.length = 0), !t || !t.coords.length) return null;\n  const u = g[r],\n        {\n    coords: i,\n    lengths: f\n  } = t,\n        a = h(n, o),\n        d = h(n && c, o && l),\n        m = I(n, o, c, l);\n  if (!f.length) return m(e.coords, i, 0, 0, i[0], i[1]), e.lengths.length && (e.lengths.length = 0), e.coords.length = a, e;\n  let y = 0;\n  const p = s * s;\n\n  for (const h of f) {\n    if (h < u) {\n      y += h * a;\n      continue;\n    }\n\n    const t = e.coords.length / d,\n          n = y,\n          o = y + (h - 1) * a;\n    m(e.coords, i, e.coords.length, n, i[n], i[n + 1]), ae(e.coords, i, a, p, m, n, o), m(e.coords, i, e.coords.length, o, i[o], i[o + 1]);\n    const r = e.coords.length / d - t;\n    r >= u ? e.lengths.push(r) : e.coords.length = t * d, y += h * a;\n  }\n\n  return e.coords.length ? e : null;\n}\n\nfunction he(e, t, n, o) {\n  const r = e[t],\n        s = e[t + 1],\n        c = e[n],\n        l = e[n + 1],\n        u = e[o],\n        i = e[o + 1];\n  let f = c,\n      h = l,\n      a = u - f,\n      g = i - h;\n\n  if (0 !== a || 0 !== g) {\n    const e = ((r - f) * a + (s - h) * g) / (a * a + g * g);\n    e > 1 ? (f = u, h = i) : e > 0 && (f += a * e, h += g * e);\n  }\n\n  return a = r - f, g = s - h, a * a + g * g;\n}\n\nfunction ae(e, t, n, o, r, s, c) {\n  let l,\n      u = o,\n      i = 0;\n\n  for (let f = s + n; f < c; f += n) l = he(t, f, s, c), l > u && (i = f, u = l);\n\n  u > o && (i - s > n && ae(e, t, n, o, r, s, i), r(e, t, e.length, i, t[i], t[i + 1]), c - i > n && ae(e, t, n, o, r, i, c));\n}\n\nfunction ge(e, t, o, r) {\n  if (n(t) || !t.coords || !t.coords.length) return null;\n  const s = h(o, r);\n  let c = Number.POSITIVE_INFINITY,\n      l = Number.POSITIVE_INFINITY,\n      u = Number.NEGATIVE_INFINITY,\n      i = Number.NEGATIVE_INFINITY;\n\n  if (t && t.coords) {\n    const e = t.coords;\n\n    for (let t = 0; t < e.length; t += s) {\n      const n = e[t],\n            o = e[t + 1];\n      c = Math.min(c, n), u = Math.max(u, n), l = Math.min(l, o), i = Math.max(i, o);\n    }\n  }\n\n  return e[0] = c, e[1] = l, e[2] = u, e[3] = i, e;\n}\n\nfunction de(e, t, n, o) {\n  const r = h(n, o),\n        {\n    lengths: s,\n    coords: c\n  } = t;\n  let l = Number.POSITIVE_INFINITY,\n      u = Number.POSITIVE_INFINITY,\n      i = Number.NEGATIVE_INFINITY,\n      f = Number.NEGATIVE_INFINITY,\n      a = 0;\n\n  for (const h of s) {\n    let e = c[a],\n        t = c[a + 1];\n    l = Math.min(e, l), u = Math.min(t, u), i = Math.max(e, i), f = Math.max(t, f), a += r;\n\n    for (let n = 1; n < h; n++, a += r) {\n      const n = c[a],\n            o = c[a + 1];\n      e += n, t += o, n < 0 && (l = Math.min(l, e)), n > 0 && (i = Math.max(i, e)), o < 0 ? u = Math.min(u, t) : o > 0 && (f = Math.max(f, t));\n    }\n  }\n\n  return e[0] = l, e[1] = u, e[2] = i, e[3] = f, e;\n}\n\nfunction me(e, t, n, o, r) {\n  const {\n    coords: s,\n    lengths: c\n  } = t,\n        l = n ? o ? p : m : o ? m : d,\n        u = h(n, o);\n  if (!s.length) return e !== t && (e.lengths.length = 0, e.coords.length = 0), e;\n  if (!c.length) return l(e.coords, s, 0, 0, w(r, s[0]), N(r, s[1])), e !== t && (e.lengths.length = 0, e.coords.length = u), e;\n  const [i, f] = r.scale;\n  let a = 0;\n\n  for (let h = 0; h < c.length; h++) {\n    const t = c[h];\n    e.lengths[h] = t;\n    let n = w(r, s[a]),\n        o = N(r, s[a + 1]);\n    l(e.coords, s, a, a, n, o), a += u;\n\n    for (let r = 1; r < t; r++, a += u) n += s[a] * i, o -= s[a + 1] * f, l(e.coords, s, a, a, n, o);\n  }\n\n  return e !== t && (e.lengths.length = c.length, e.coords.length = s.length), e;\n}\n\nfunction ye(e, t, n, o, r, s) {\n  const c = h(n, o),\n        l = I(n, o, r, s),\n        u = t.coords;\n  e.coords.length = 0, e.lengths.length = 0, e.lengths.push(...t.lengths);\n\n  for (let i = 0; i < u.length; i += c) l(e.coords, u, e.coords.length, i, u[i], u[i + 1]);\n\n  return e;\n}\n\nfunction pe(e, t, n, o, r) {\n  if (!t || !t.coords || !t.coords.length) return null;\n  const s = g[n],\n        {\n    coords: c,\n    lengths: l\n  } = t,\n        u = I(o, r, o, r),\n        i = h(o, r);\n  let f = 0,\n      a = 0,\n      d = 0,\n      m = 0;\n\n  for (const h of l) {\n    a = m, u(e.coords, c, a, f, c[f], c[f + 1]), f += i;\n    let t = c[f],\n        n = c[f + 1],\n        o = t,\n        r = n,\n        l = n / t;\n    a += i, u(e.coords, c, a, f, o, r), f += i;\n\n    for (let s = 2; s < h; s++) {\n      t = c[f], n = c[f + 1];\n      const s = n / t,\n            h = l === s || !isFinite(l) && !isFinite(s),\n            g = h && isFinite(s) ? l >= 0 && s >= 0 || l <= 0 && s <= 0 : r >= 0 && n >= 0 || r <= 0 && n <= 0;\n      h && g ? (o += t, r += n) : (o = t, r = n, a += i), u(e.coords, c, a, f, o, r), f += i, l = s;\n    }\n\n    a += i;\n    const g = (a - m) / i;\n    g >= s && (e.lengths[d] = g, m = a, d++);\n  }\n\n  return e.coords.length > m && (e.coords.length = m), e.lengths.length > d && (e.lengths.length = d), e.coords.length && e.lengths.length ? e : null;\n}\n\nfunction Ie(e, t, n, o) {\n  let r = 0,\n      s = e[o * t],\n      c = e[o * (t + 1)];\n\n  for (let l = 1; l < n; l++) {\n    const n = s + e[o * (t + l)],\n          u = c + e[o * (t + l) + 1],\n          i = (n - s) * (u + c);\n    s = n, c = u, r += i;\n  }\n\n  return .5 * r;\n}\n\nfunction be(e, t) {\n  const {\n    coords: n,\n    lengths: o\n  } = e;\n  let r = 0,\n      s = 0;\n\n  for (let c = 0; c < o.length; c++) {\n    s += Ie(n, r, o[c], t), r += c;\n  }\n\n  return Math.abs(s);\n}\n\nfunction Me(e, t) {\n  const n = e.clone(),\n        o = e.coords,\n        r = e.lengths;\n  let s = 0;\n\n  for (let c = 0; c < r.length; c++) {\n    const e = r[c];\n    let l = o[t * s],\n        u = o[t * s + 1];\n\n    for (let r = 1; r < e; r++) {\n      const e = o[t * (s + r)],\n            c = o[t * (s + r) + 1],\n            i = e - l,\n            f = c - u;\n      n.coords[t * (s + r)] = i, n.coords[t * (s + r) + 1] = f, l = e, u = c;\n    }\n\n    s += e;\n  }\n\n  return n;\n}\n\nfunction we(e, t) {\n  if (n(e)) return null;\n  const o = e.clone(),\n        r = e.coords,\n        s = e.lengths;\n  let c = 0;\n\n  for (let n = 0; n < s.length; n++) {\n    const e = s[n];\n    let l = r[t * c],\n        u = r[t * c + 1];\n\n    for (let n = 1; n < e; n++) {\n      const e = l + r[t * (c + n)],\n            s = u + r[t * (c + n) + 1];\n      o.coords[t * (c + n)] = e, o.coords[t * (c + n) + 1] = s, l = e, u = s;\n    }\n\n    c += e;\n  }\n\n  return o;\n}\n\nexport { Q as convertFromFeature, ce as convertFromFeatureSet, W as convertFromFeatures, te as convertFromGeometry, X as convertFromGraphics, U as convertFromMultipoint, O as convertFromMultipointFeatures, H as convertFromNestedArray, V as convertFromPoint, S as convertFromPointFeatures, D as convertFromPolygon, $ as convertFromPolyline, q as convertFromPolylineFeatures, ee as convertToFeature, se as convertToFeatureSet, re as convertToFeatures, ne as convertToGeometry, _ as convertToMultipoint, Y as convertToMultipointFeatures, G as convertToPoint, C as convertToPolygon, L as convertToPolyline, we as deltaDecodeGeometry, Me as deltaEncodeGeometry, fe as generalizeOptimizedGeometry, ge as getBoundsOptimizedGeometry, be as getQuantizedArea, de as getQuantizedBoundsOptimizedGeometry, Ie as getSignedQuantizedRingArea, ue as quantizeOptimizedFeatureSet, ie as quantizeOptimizedGeometry, b as quantizeX, M as quantizeY, pe as removeCollinearVectices, ye as removeZMValues, le as unquantizeOptimizedFeatureSet, me as unquantizeOptimizedGeometry, w as unquantizeX, N as unquantizeY };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js"],"names":["e","t","isNone","n","isSome","o","isPoint","r","isPolygon","s","isPolyline","c","isMultipoint","l","OptimizedFeature","u","i","f","h","a","getLogger","g","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultipoint","d","m","y","p","I","b","scale","translate","Math","round","M","w","N","G","k","P","Z","T","coords","x","F","z","j","E","geometry","attributes","push","v","S","V","Y","_","length","points","hasZ","hasM","O","U","lengths","A","L","paths","q","$","R","centroid","C","rings","B","D","H","J","K","Q","W","error","X","geometryType","insertAfter","groupId","ee","re","te","ne","oe","se","objectIdFieldName","spatialReference","transform","fields","features","exceededTransferLimit","uniqueIdField","queryGeometry","queryGeometryType","ce","le","me","ue","weakClone","ie","fe","ae","he","ge","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","max","de","ye","pe","isFinite","Ie","be","abs","Me","clone","we","convertFromFeature","convertFromFeatureSet","convertFromFeatures","convertFromGeometry","convertFromGraphics","convertFromMultipoint","convertFromMultipointFeatures","convertFromNestedArray","convertFromPoint","convertFromPointFeatures","convertFromPolygon","convertFromPolyline","convertFromPolylineFeatures","convertToFeature","convertToFeatureSet","convertToFeatures","convertToGeometry","convertToMultipoint","convertToMultipointFeatures","convertToPoint","convertToPolygon","convertToPolyline","deltaDecodeGeometry","deltaEncodeGeometry","generalizeOptimizedGeometry","getBoundsOptimizedGeometry","getQuantizedArea","getQuantizedBoundsOptimizedGeometry","getSignedQuantizedRingArea","quantizeOptimizedFeatureSet","quantizeOptimizedGeometry","quantizeX","quantizeY","removeCollinearVectices","removeZMValues","unquantizeOptimizedFeatureSet","unquantizeOptimizedGeometry","unquantizeX","unquantizeY"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../../core/Logger.js\";import{isNone as n,isSome as o}from\"../../core/maybe.js\";import{isPoint as r,isPolygon as s,isPolyline as c,isMultipoint as l}from\"../../geometry/support/jsonUtils.js\";import{OptimizedFeature as u}from\"./OptimizedFeature.js\";import i from\"./OptimizedFeatureSet.js\";import f from\"./OptimizedGeometry.js\";function h(e,t){return e?t?4:3:t?3:2}const a=t.getLogger(\"esri.layers.graphics.featureConversionUtils\"),g={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},d=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s},m=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2]},y=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+3]},p=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2],e[n+3]=t[o+3]};function I(e,t,n,o){if(e){if(n)return t&&o?p:m;if(t&&o)return y}else if(t&&o)return m;return d}function b({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function M({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function w({scale:e,translate:t},n){return n*e[0]+t[0]}function N({scale:e,translate:t},n){return t[1]-n*e[1]}function G(e,t,n){return e?t?n?k(e):P(e):n?Z(e):T(e):null}function T(e){const t=e.coords;return{x:t[0],y:t[1]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function P(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function x(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function Z(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function j(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function k(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function E(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function z(e,t,n,r){let s=T;n&&r?s=k:n?s=P:r&&(s=Z);for(const c of t){const{geometry:t,attributes:n}=c,r=o(t)?s(t):null;e.push({attributes:n,geometry:r})}return e}function v(e,t){return e&&t?E:e?x:t?j:F}function S(e,t,n,o,r){const s=v(n,o);for(const c of t){const{geometry:t,attributes:n}=c;let o;t&&(o=s(new f,t)),e.push(new u(o,n,null,n[r]))}return e}function V(e,t,n=v(null!=t.z,null!=t.m)){return n(e,t)}function Y(e,t,n,o){for(const r of t){const{geometry:t,attributes:s}=r;let c;t&&(c=_(t,n,o)),e.push({attributes:s,geometry:c})}return e}function _(e,t,o){if(n(e))return null;const r=h(t,o),s=[];for(let n=0;n<e.coords.length;n+=r){const t=[];for(let o=0;o<r;o++)t.push(e.coords[n+o]);s.push(t)}return t?o?{points:s,hasZ:t,hasM:o}:{points:s,hasZ:t}:o?{points:s,hasM:o}:{points:s}}function O(e,t,n,o,r){const s=h(n,o);for(const c of t){const t=c.geometry,n=c.attributes;let o;t&&(o=U(new f,t,s)),e.push(new u(o,n,null,n[r]))}return e}function U(e,t,n=h(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const o=e.coords;let r=0;for(const s of t.points)for(let e=0;e<n;e++)o[r++]=s[e];return e}function A(e,t,n,r){for(const s of t){const{geometry:t,attributes:c}=s;let l;o(t)&&(l=L(t,n,r)),e.push({attributes:c,geometry:l})}return e}function L(e,t,n){if(!e)return null;const o=h(t,n),{coords:r,lengths:s}=e,c=[];let l=0;for(const u of s){const e=[];for(let t=0;t<u;t++){const t=[];for(let e=0;e<o;e++)t.push(r[l++]);e.push(t)}c.push(e)}return t?n?{paths:c,hasZ:t,hasM:n}:{paths:c,hasZ:t}:n?{paths:c,hasM:n}:{paths:c}}function q(e,t,n,o,r){const s=h(n,o);for(const c of t){const t=c.geometry,n=c.attributes;let o;t&&(o=$(new f,t,s)),e.push(new u(o,n,null,n[r]))}return e}function $(e,t,n=h(t.hasZ,t.hasM)){const{lengths:o,coords:r}=e;let s=0;for(const c of t.paths){for(const e of c)for(let t=0;t<n;t++)r[s++]=e[t];o.push(c.length)}return e}function R(e,t,n,r){for(const s of t){const{geometry:t,attributes:c,centroid:l}=s;let u;if(o(t)&&(u=C(t,n,r)),o(l)){const t=T(l);e.push({attributes:c,centroid:t,geometry:u})}else e.push({attributes:c,geometry:u})}return e}function C(e,t,n){if(!e)return null;const o=h(t,n),{coords:r,lengths:s}=e,c=[];let l=0;for(const u of s){const e=[];for(let t=0;t<u;t++){const t=[];for(let e=0;e<o;e++)t.push(r[l++]);e.push(t)}c.push(e)}return t?n?{rings:c,hasZ:t,hasM:n}:{rings:c,hasZ:t}:n?{rings:c,hasM:n}:{rings:c}}function B(e,t,n,r,s){for(const c of t){const t=c.geometry,l=c.centroid,i=c.attributes;let h;t&&(h=D(new f,t,n,r)),o(l)?e.push(new u(h,i,F(new f,l),i[s])):e.push(new u(h,i,null,i[s]))}return e}function D(e,t,n=t.hasZ,o=t.hasM){return H(e,t.rings,n,o),e}function H(e,t,n,o){const r=h(n,o),{lengths:s,coords:c}=e;let l=0;s.length=c.length=0;for(const u of t){for(const e of u)for(let t=0;t<r;t++)c[l++]=e[t];s.push(u.length)}return e}const J=[],K=[];function Q(e,t,n,o,r){J[0]=e;const[s]=W(K,J,t,n,o,r);return J.length=K.length=0,s}function W(t,n,o,r,s,c){if(t.length=0,!o){for(const e of n){const n=e.attributes[c];t.push(new u(null,e.attributes,null,n))}return t}switch(o){case\"esriGeometryPoint\":return S(t,n,r,s,c);case\"esriGeometryMultipoint\":return O(t,n,r,s,c);case\"esriGeometryPolyline\":return q(t,n,r,s,c);case\"esriGeometryPolygon\":return B(t,n,r,s,c);default:a.error(\"convertToFeatureSet:unknown-geometry\",new e(`Unable to parse unknown geometry type '${o}'`)),t.length=0}return t}function X(t,n,o,r,s,c){const l=t.length;switch(o){case\"esriGeometryPoint\":S(t,n,r,s,c);break;case\"esriGeometryMultipoint\":O(t,n,r,s,c);break;case\"esriGeometryPolyline\":q(t,n,r,s,c);break;case\"esriGeometryPolygon\":B(t,n,r,s,c);break;default:a.error(\"convertToFeatureSet:unknown-geometry\",new e(`Unable to parse unknown geometry type '${o}'`))}for(let e=0;e<n.length;e++)t[e+l].geometryType=o,t[e+l].insertAfter=n[e].insertAfter,t[e+l].groupId=n[e].groupId;return t}function ee(e,t,n,o){K[0]=e,re(J,K,t,n,o);const r=J[0];return J.length=K.length=0,r}function te(t,o,u){if(n(t))return null;const i=new f;if(\"hasZ\"in t&&null==o&&(o=t.hasZ),\"hasM\"in t&&null==u&&(u=t.hasM),r(t)){return v(null!=o?o:null!=t.z,null!=u?u:null!=t.m)(i,t)}return s(t)?D(i,t,o,u):c(t)?$(i,t,h(o,u)):l(t)?U(i,t,h(o,u)):void a.error(\"convertFromGeometry:unknown-geometry\",new e(`Unable to parse unknown geometry type '${t}'`))}function ne(t,o,r,s){const c=t&&(\"coords\"in t?t:t.geometry);if(n(c))return null;switch(o){case\"esriGeometryPoint\":{let e=T;return r&&s?e=k:r?e=P:s&&(e=Z),e(c)}case\"esriGeometryMultipoint\":return _(c,r,s);case\"esriGeometryPolyline\":return L(c,r,s);case\"esriGeometryPolygon\":return C(c,r,s);default:return void a.error(\"convertToGeometry:unknown-geometry\",new e(`Unable to parse unknown geometry type '${o}'`))}}function oe(e,t){for(const n of t)e.push({attributes:n.attributes});return e}function re(t,o,r,s,c){if(t.length=0,n(r))return oe(t,o);switch(r){case\"esriGeometryPoint\":return z(t,o,s,c);case\"esriGeometryMultipoint\":return Y(t,o,s,c);case\"esriGeometryPolyline\":return A(t,o,s,c);case\"esriGeometryPolygon\":return R(t,o,s,c);default:a.error(\"convertToFeatureSet:unknown-geometry\",new e(`Unable to parse unknown geometry type '${r}'`))}return t}function se(e){const{objectIdFieldName:t,spatialReference:n,transform:o,fields:r,hasM:s,hasZ:c,features:l,geometryType:u,exceededTransferLimit:i,uniqueIdField:f,queryGeometry:h,queryGeometryType:a}=e,g={features:re([],l,u,c,s),fields:r,geometryType:u,objectIdFieldName:t,spatialReference:n,uniqueIdField:f,queryGeometry:ne(h,a,!1,!1)};return o&&(g.transform=o),i&&(g.exceededTransferLimit=i),s&&(g.hasM=s),c&&(g.hasZ=c),g}function ce(t,n){const o=new i,{hasM:r,hasZ:s,features:c,objectIdFieldName:l,spatialReference:u,geometryType:f,exceededTransferLimit:h,transform:g,fields:d}=t;return d&&(o.fields=d),o.geometryType=f,o.objectIdFieldName=l||n,o.spatialReference=u,o.objectIdFieldName?(c&&W(o.features,c,f,s,r,o.objectIdFieldName),h&&(o.exceededTransferLimit=h),r&&(o.hasM=r),s&&(o.hasZ=s),g&&(o.transform=g),o):(a.error(new e(\"optimized-features:invalid-objectIdFieldName\",\"objectIdFieldName is missing\")),o)}function le(e){const{transform:t,features:n,hasM:r,hasZ:s}=e;if(!t)return e;for(const c of n)o(c.geometry)&&me(c.geometry,c.geometry,r,s,t),o(c.centroid)&&me(c.centroid,c.centroid,r,s,t);return e.transform=null,e}function ue(e,t){const{geometryType:n,features:o,hasM:r,hasZ:s}=t;if(!e)return t;for(let c=0;c<o.length;c++){const t=o[c],l=t.weakClone();l.geometry=new f,ie(l.geometry,t.geometry,r,s,n,e),t.centroid&&(l.centroid=new f,ie(l.centroid,t.centroid,r,s,\"esriGeometryPoint\",e)),o[c]=l}return t.transform=e,t}function ie(e,t,o,r,s,c,l=o,u=r){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),n(t)||!t.coords.length)return null;const i=g[s],{coords:f,lengths:a}=t,d=h(o,r),m=h(o&&l,r&&u),y=I(o,r,l,u);if(!a.length)return y(e.coords,f,0,0,b(c,f[0]),M(c,f[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=d,e;let p,w,N,G,T=0,F=0,P=F;for(const n of a){if(n<i)continue;let t=0;F=P,N=p=b(c,f[T]),G=w=M(c,f[T+1]),y(e.coords,f,F,T,N,G),t++,T+=d,F+=m;for(let o=1;o<n;o++,T+=d)N=b(c,f[T]),G=M(c,f[T+1]),N===p&&G===w||(y(e.coords,f,F,T,N-p,G-w),F+=m,t++,p=N,w=G);t>=i&&(e.lengths.push(t),P=F)}return e.coords.length=P,e.coords.length?e:null}function fe(e,t,n,o,r,s,c=n,l=o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const u=g[r],{coords:i,lengths:f}=t,a=h(n,o),d=h(n&&c,o&&l),m=I(n,o,c,l);if(!f.length)return m(e.coords,i,0,0,i[0],i[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=a,e;let y=0;const p=s*s;for(const h of f){if(h<u){y+=h*a;continue}const t=e.coords.length/d,n=y,o=y+(h-1)*a;m(e.coords,i,e.coords.length,n,i[n],i[n+1]),ae(e.coords,i,a,p,m,n,o),m(e.coords,i,e.coords.length,o,i[o],i[o+1]);const r=e.coords.length/d-t;r>=u?e.lengths.push(r):e.coords.length=t*d,y+=h*a}return e.coords.length?e:null}function he(e,t,n,o){const r=e[t],s=e[t+1],c=e[n],l=e[n+1],u=e[o],i=e[o+1];let f=c,h=l,a=u-f,g=i-h;if(0!==a||0!==g){const e=((r-f)*a+(s-h)*g)/(a*a+g*g);e>1?(f=u,h=i):e>0&&(f+=a*e,h+=g*e)}return a=r-f,g=s-h,a*a+g*g}function ae(e,t,n,o,r,s,c){let l,u=o,i=0;for(let f=s+n;f<c;f+=n)l=he(t,f,s,c),l>u&&(i=f,u=l);u>o&&(i-s>n&&ae(e,t,n,o,r,s,i),r(e,t,e.length,i,t[i],t[i+1]),c-i>n&&ae(e,t,n,o,r,i,c))}function ge(e,t,o,r){if(n(t)||!t.coords||!t.coords.length)return null;const s=h(o,r);let c=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=s){const n=e[t],o=e[t+1];c=Math.min(c,n),u=Math.max(u,n),l=Math.min(l,o),i=Math.max(i,o)}}return e[0]=c,e[1]=l,e[2]=u,e[3]=i,e}function de(e,t,n,o){const r=h(n,o),{lengths:s,coords:c}=t;let l=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY,a=0;for(const h of s){let e=c[a],t=c[a+1];l=Math.min(e,l),u=Math.min(t,u),i=Math.max(e,i),f=Math.max(t,f),a+=r;for(let n=1;n<h;n++,a+=r){const n=c[a],o=c[a+1];e+=n,t+=o,n<0&&(l=Math.min(l,e)),n>0&&(i=Math.max(i,e)),o<0?u=Math.min(u,t):o>0&&(f=Math.max(f,t))}}return e[0]=l,e[1]=u,e[2]=i,e[3]=f,e}function me(e,t,n,o,r){const{coords:s,lengths:c}=t,l=n?o?p:m:o?m:d,u=h(n,o);if(!s.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!c.length)return l(e.coords,s,0,0,w(r,s[0]),N(r,s[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;const[i,f]=r.scale;let a=0;for(let h=0;h<c.length;h++){const t=c[h];e.lengths[h]=t;let n=w(r,s[a]),o=N(r,s[a+1]);l(e.coords,s,a,a,n,o),a+=u;for(let r=1;r<t;r++,a+=u)n+=s[a]*i,o-=s[a+1]*f,l(e.coords,s,a,a,n,o)}return e!==t&&(e.lengths.length=c.length,e.coords.length=s.length),e}function ye(e,t,n,o,r,s){const c=h(n,o),l=I(n,o,r,s),u=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let i=0;i<u.length;i+=c)l(e.coords,u,e.coords.length,i,u[i],u[i+1]);return e}function pe(e,t,n,o,r){if(!t||!t.coords||!t.coords.length)return null;const s=g[n],{coords:c,lengths:l}=t,u=I(o,r,o,r),i=h(o,r);let f=0,a=0,d=0,m=0;for(const h of l){a=m,u(e.coords,c,a,f,c[f],c[f+1]),f+=i;let t=c[f],n=c[f+1],o=t,r=n,l=n/t;a+=i,u(e.coords,c,a,f,o,r),f+=i;for(let s=2;s<h;s++){t=c[f],n=c[f+1];const s=n/t,h=l===s||!isFinite(l)&&!isFinite(s),g=h&&isFinite(s)?l>=0&&s>=0||l<=0&&s<=0:r>=0&&n>=0||r<=0&&n<=0;h&&g?(o+=t,r+=n):(o=t,r=n,a+=i),u(e.coords,c,a,f,o,r),f+=i,l=s}a+=i;const g=(a-m)/i;g>=s&&(e.lengths[d]=g,m=a,d++)}return e.coords.length>m&&(e.coords.length=m),e.lengths.length>d&&(e.lengths.length=d),e.coords.length&&e.lengths.length?e:null}function Ie(e,t,n,o){let r=0,s=e[o*t],c=e[o*(t+1)];for(let l=1;l<n;l++){const n=s+e[o*(t+l)],u=c+e[o*(t+l)+1],i=(n-s)*(u+c);s=n,c=u,r+=i}return.5*r}function be(e,t){const{coords:n,lengths:o}=e;let r=0,s=0;for(let c=0;c<o.length;c++){s+=Ie(n,r,o[c],t),r+=c}return Math.abs(s)}function Me(e,t){const n=e.clone(),o=e.coords,r=e.lengths;let s=0;for(let c=0;c<r.length;c++){const e=r[c];let l=o[t*s],u=o[t*s+1];for(let r=1;r<e;r++){const e=o[t*(s+r)],c=o[t*(s+r)+1],i=e-l,f=c-u;n.coords[t*(s+r)]=i,n.coords[t*(s+r)+1]=f,l=e,u=c}s+=e}return n}function we(e,t){if(n(e))return null;const o=e.clone(),r=e.coords,s=e.lengths;let c=0;for(let n=0;n<s.length;n++){const e=s[n];let l=r[t*c],u=r[t*c+1];for(let n=1;n<e;n++){const e=l+r[t*(c+n)],s=u+r[t*(c+n)+1];o.coords[t*(c+n)]=e,o.coords[t*(c+n)+1]=s,l=e,u=s}c+=e}return o}export{Q as convertFromFeature,ce as convertFromFeatureSet,W as convertFromFeatures,te as convertFromGeometry,X as convertFromGraphics,U as convertFromMultipoint,O as convertFromMultipointFeatures,H as convertFromNestedArray,V as convertFromPoint,S as convertFromPointFeatures,D as convertFromPolygon,$ as convertFromPolyline,q as convertFromPolylineFeatures,ee as convertToFeature,se as convertToFeatureSet,re as convertToFeatures,ne as convertToGeometry,_ as convertToMultipoint,Y as convertToMultipointFeatures,G as convertToPoint,C as convertToPolygon,L as convertToPolyline,we as deltaDecodeGeometry,Me as deltaEncodeGeometry,fe as generalizeOptimizedGeometry,ge as getBoundsOptimizedGeometry,be as getQuantizedArea,de as getQuantizedBoundsOptimizedGeometry,Ie as getSignedQuantizedRingArea,ue as quantizeOptimizedFeatureSet,ie as quantizeOptimizedGeometry,b as quantizeX,M as quantizeY,pe as removeCollinearVectices,ye as removeZMValues,le as unquantizeOptimizedFeatureSet,me as unquantizeOptimizedGeometry,w as unquantizeX,N as unquantizeY};\n"]},"metadata":{},"sourceType":"module"}