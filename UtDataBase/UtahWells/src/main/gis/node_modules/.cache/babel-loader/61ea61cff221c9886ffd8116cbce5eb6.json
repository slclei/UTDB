{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from \"../config.js\";\nimport n from \"./Error.js\";\nimport e from \"./Logger.js\";\nimport { assumeNonNull as r, isSome as o, isNone as i } from \"./maybe.js\";\nconst s = e.getLogger(\"esri.core.urlUtils\"),\n      u = t.request,\n      c = \"esri/config: esriConfig.request.proxyUrl is not set.\",\n      l = /^\\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,\n      f = /^\\s*http:/i,\n      a = /^\\s*https:/i,\n      h = /^\\s*file:/i,\n      p = /:\\d+$/,\n      d = /^https?:\\/\\/[^/]+\\.arcgis.com\\/sharing(\\/|$)/i,\n      g = new RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?$\"),\n      m = new RegExp(\"^((([^\\\\[:]+):)?([^@]+)@)?(\\\\[([^\\\\]]+)\\\\]|([^\\\\[:]*))(:([0-9]+))?$\");\n\nclass y {\n  constructor() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    this.uri = t, this.scheme = null, this.authority = null, this.path = null, this.query = null, this.fragment = null, this.user = null, this.password = null, this.host = null, this.port = null;\n    let n = r(this.uri.match(g));\n    this.scheme = n[2] || (n[1] ? \"\" : null), this.authority = n[4] || (n[3] ? \"\" : null), this.path = n[5], this.query = n[7] || (n[6] ? \"\" : null), this.fragment = n[9] || (n[8] ? \"\" : null), null != this.authority && (n = r(this.authority.match(m)), this.user = n[3] || null, this.password = n[4] || null, this.host = n[6] || n[7], this.port = n[9] || null);\n  }\n\n  toString() {\n    return this.uri;\n  }\n\n}\n\nconst $ = {},\n      x = new y(t.applicationUrl);\nlet w = x;\nconst O = q();\nlet U = O;\n\nconst b = () => w,\n      C = () => U;\n\nfunction q() {\n  const t = r(w.path),\n        n = t.substring(0, t.lastIndexOf(t.split(\"/\")[t.split(\"/\").length - 1]));\n  return `${`${w.scheme}://${w.host}${null != w.port ? `:${w.port}` : \"\"}`}${n}`;\n}\n\nconst R = {\n  setAppUrl: t => w = t,\n  setAppBaseUrl: t => U = t,\n  restoreUrls: () => {\n    w = x, U = O;\n  }\n};\n\nfunction j(t) {\n  const n = {\n    path: null,\n    query: null\n  },\n        e = new y(t),\n        r = t.indexOf(\"?\");\n  return null === e.query ? n.path = t : (n.path = t.substring(0, r), n.query = v(e.query)), e.fragment && (n.hash = e.fragment, null === e.query && (n.path = n.path.substring(0, n.path.length - (e.fragment.length + 1)))), n;\n}\n\nfunction v(t) {\n  const n = t.split(\"&\"),\n        e = {};\n\n  for (const r of n) {\n    if (!r) continue;\n    const t = r.indexOf(\"=\");\n    let n, o;\n    t < 0 ? (n = decodeURIComponent(r), o = \"\") : (n = decodeURIComponent(r.slice(0, t)), o = decodeURIComponent(r.slice(t + 1)));\n    let i = e[n];\n    \"string\" == typeof i && (i = e[n] = [i]), Array.isArray(i) ? i.push(o) : e[n] = o;\n  }\n\n  return e;\n}\n\nfunction L(t) {\n  return t && \"object\" == typeof t && \"toJSON\" in t && \"function\" == typeof t.toJSON;\n}\n\nfunction I(t, n) {\n  return t ? n && \"function\" == typeof n ? Object.keys(t).map(e => encodeURIComponent(e) + \"=\" + encodeURIComponent(n(e, t[e]))).join(\"&\") : Object.keys(t).map(e => {\n    const r = t[e];\n    if (null == r) return \"\";\n    const o = encodeURIComponent(e) + \"=\",\n          i = n && n[e];\n    return i ? o + encodeURIComponent(i(r)) : Array.isArray(r) ? r.map(t => L(t) ? o + encodeURIComponent(JSON.stringify(t)) : o + encodeURIComponent(t)).join(\"&\") : L(r) ? o + encodeURIComponent(JSON.stringify(r)) : o + encodeURIComponent(r);\n  }).filter(t => t).join(\"&\") : \"\";\n}\n\nfunction A() {\n  let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n  let e,\n      r = u.proxyUrl;\n\n  if (\"string\" == typeof t) {\n    e = ht(t);\n    const n = J(t);\n    n && (r = n.proxyUrl);\n  } else e = !!t;\n\n  if (!r) throw s.warn(c), new n(\"urlutils:proxy-not-set\", c);\n  e && $t() && (r = mt(r));\n  return j(r);\n}\n\nfunction S(t) {\n  const n = J(t);\n  let e, r;\n\n  if (n) {\n    const t = P(n.proxyUrl);\n    e = t.path, r = t.query ? v(t.query) : null;\n  }\n\n  if (e) {\n    const n = j(t);\n    t = e + \"?\" + n.path;\n    const o = I({ ...r,\n      ...n.query\n    });\n    o && (t = `${t}?${o}`);\n  }\n\n  return t;\n}\n\nconst B = {\n  path: \"\",\n  query: \"\"\n};\n\nfunction P(t) {\n  const n = t.indexOf(\"?\");\n  return -1 !== n ? (B.path = t.slice(0, n), B.query = t.slice(n + 1)) : (B.path = t, B.query = null), B;\n}\n\nfunction k(t) {\n  return t = (t = xt(t = bt(t = P(t).path), !0)).toLowerCase();\n}\n\nfunction E(t) {\n  const n = {\n    proxyUrl: t.proxyUrl,\n    urlPrefix: k(t.urlPrefix)\n  },\n        e = u.proxyRules,\n        r = n.urlPrefix;\n  let o = e.length;\n\n  for (let i = 0; i < e.length; i++) {\n    const t = e[i].urlPrefix;\n\n    if (0 === r.indexOf(t)) {\n      if (r.length === t.length) return -1;\n      o = i;\n      break;\n    }\n\n    0 === t.indexOf(r) && (o = i + 1);\n  }\n\n  return e.splice(o, 0, n), o;\n}\n\nfunction J(t) {\n  const n = u.proxyRules,\n        e = k(t);\n\n  for (let r = 0; r < n.length; r++) if (0 === e.indexOf(n[r].urlPrefix)) return n[r];\n}\n\nfunction N(t, n) {\n  return t = T(t), n = T(n), xt(t) === xt(n);\n}\n\nfunction T(t) {\n  const n = (t = F(t)).indexOf(\"/sharing\");\n  return n > 0 ? t.substring(0, n) : t.replace(/\\/+$/, \"\");\n}\n\nfunction W(t) {\n  const n = n => null == n || n instanceof RegExp && n.test(t) || \"string\" == typeof n && t.startsWith(n),\n        e = u.interceptors;\n\n  if (e) for (const r of e) if (Array.isArray(r.urls)) {\n    if (r.urls.some(n)) return r;\n  } else if (n(r.urls)) return r;\n  return null;\n}\n\nfunction z(t, n) {\n  let e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n  const r = Lt(t),\n        o = Lt(n);\n  return !(!e && r.scheme !== o.scheme) && null != r.host && null != o.host && r.host.toLowerCase() === o.host.toLowerCase() && r.port === o.port;\n}\n\nfunction D(t) {\n  if (\"string\" == typeof t) {\n    if (!K(t)) return !0;\n    t = Lt(t);\n  }\n\n  if (z(t, w)) return !0;\n  const n = u.trustedServers || [];\n\n  for (let e = 0; e < n.length; e++) {\n    const r = M(n[e]);\n\n    for (let n = 0; n < r.length; n++) if (z(t, r[n])) return !0;\n  }\n\n  return !1;\n}\n\nfunction M(t) {\n  return $[t] || (at(t) || ft(t) ? $[t] = [new y(Q(t))] : $[t] = [new y(`http://${t}`), new y(`https://${t}`)]), $[t];\n}\n\nfunction Q(t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : U;\n  let e = arguments.length > 2 ? arguments[2] : undefined;\n  return ft(t) ? e && e.preserveProtocolRelative ? t : \"http\" === w.scheme && w.authority === H(t).slice(2) ? `http:${t}` : `https:${t}` : at(t) ? t : r(G(\"/\" === t[0] ? wt(n) : n, t));\n}\n\nfunction _(t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : U;\n  let e = arguments.length > 2 ? arguments[2] : undefined;\n  if (!K(t)) return t;\n  const r = F(t),\n        o = r.toLowerCase(),\n        i = F(n).toLowerCase().replace(/\\/+$/, \"\"),\n        s = e ? F(e).toLowerCase().replace(/\\/+$/, \"\") : null;\n  if (s && 0 !== i.indexOf(s)) return t;\n\n  const u = (t, n, e) => -1 === (e = t.indexOf(n, e)) ? t.length : e;\n\n  let c = u(o, \"/\", o.indexOf(\"//\") + 2),\n      l = -1;\n\n  for (; o.slice(0, c + 1) === i.slice(0, c) + \"/\" && (l = c + 1, c !== o.length);) c = u(o, \"/\", c + 1);\n\n  if (-1 === l) return t;\n  if (s && l < s.length) return t;\n  t = r.slice(l);\n  const f = i.slice(l - 1).replace(/[^/]+/g, \"\").length;\n  if (f > 0) for (let a = 0; a < f; a++) t = `../${t}`;else t = `./${t}`;\n  return t;\n}\n\nfunction F(t) {\n  return t = jt(t = Rt(t = qt(t = Q(t = t.trim()))));\n}\n\nfunction G() {\n  for (var _len = arguments.length, t = new Array(_len), _key = 0; _key < _len; _key++) {\n    t[_key] = arguments[_key];\n  }\n\n  const n = t.filter(o);\n  if (!n || !n.length) return;\n  const e = [];\n\n  if (K(n[0])) {\n    const t = n[0],\n          r = t.indexOf(\"//\");\n    -1 !== r && (e.push(t.slice(0, r + 1)), dt(n[0]) && (e[0] += \"/\"), n[0] = t.slice(r + 2));\n  } else \"/\" === n[0][0] && e.push(\"\");\n\n  const r = n.reduce((t, n) => n ? t.concat(n.split(\"/\")) : t, []);\n\n  for (let o = 0; o < r.length; o++) {\n    const t = r[o];\n    \"..\" === t && e.length > 0 && \"..\" !== e[e.length - 1] ? e.pop() : (!t && o === r.length - 1 || t && (\".\" !== t || 0 === e.length)) && e.push(t);\n  }\n\n  return e.join(\"/\");\n}\n\nfunction H(t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n  if (V(t) || X(t)) return null;\n  let e = t.indexOf(\"://\");\n  if (-1 === e && ft(t)) e = 2;else {\n    if (-1 === e) return null;\n    e += 3;\n  }\n  const r = t.indexOf(\"/\", e);\n  return -1 !== r && (t = t.slice(0, r)), n && (t = xt(t, !0)), t;\n}\n\nfunction K(t) {\n  return ft(t) || at(t);\n}\n\nfunction V(t) {\n  return null != t && \"blob:\" === t.slice(0, 5);\n}\n\nfunction X(t) {\n  return \"data:\" === t.slice(0, 5);\n}\n\nfunction Y(t) {\n  const n = nt(t);\n  if (!n || !n.isBase64) return null;\n  const e = atob(n.data),\n        r = new Uint8Array(e.length);\n\n  for (let o = 0; o < e.length; o++) r[o] = e.charCodeAt(o);\n\n  return r.buffer;\n}\n\nfunction Z(t) {\n  return btoa(String.fromCharCode.apply(null, t)).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n}\n\nconst tt = /^data:(.*?)(;base64)?,(.*)$/;\n\nfunction nt(t) {\n  const n = t.match(tt);\n  if (!n) return null;\n  const [, e, r, o] = n;\n  return {\n    mediaType: e,\n    isBase64: !!r,\n    data: o\n  };\n}\n\nfunction et(t) {\n  return t.isBase64 ? `data:${t.mediaType};base64,${t.data}` : `data:${t.mediaType},${t.data}`;\n}\n\nfunction rt(t) {\n  const n = Y(t);\n  if (!n) return null;\n  const e = nt(t);\n  return new Blob([n], {\n    type: e.mediaType\n  });\n}\n\nfunction ot(t, n) {\n  st(t, n) || ct(t, n);\n}\n\nfunction it(t, n) {\n  ut(t, n) || lt(t, n);\n}\n\nfunction st(t, n) {\n  const e = rt(t);\n  return !!e && ut(e, n);\n}\n\nfunction ut(t, n) {\n  if (!t) return !1;\n  const e = document.createElement(\"a\");\n  if (!(\"download\" in e)) return !1;\n  const r = URL.createObjectURL(t);\n  return e.download = n, e.href = r, e.style.display = \"none\", document.body.appendChild(e), e.click(), document.body.removeChild(e), URL.revokeObjectURL(r), !0;\n}\n\nfunction ct(t, n) {\n  const e = rt(t);\n  return !!e && lt(e, n);\n}\n\nfunction lt(t, n) {\n  return !!window.navigator.msSaveOrOpenBlob && window.navigator.msSaveOrOpenBlob(t, n);\n}\n\nfunction ft(t) {\n  return null != t && void 0 !== t && \"/\" === t[0] && \"/\" === t[1];\n}\n\nfunction at(t) {\n  return l.test(t);\n}\n\nfunction ht(t) {\n  return a.test(t) || \"https\" === w.scheme && ft(t);\n}\n\nfunction pt(t) {\n  return f.test(t) || \"http\" === w.scheme && ft(t);\n}\n\nfunction dt(t) {\n  return h.test(t);\n}\n\nfunction gt(t) {\n  return ft(t) ? `http:${t}` : t.replace(a, \"http:\");\n}\n\nfunction mt(t) {\n  return ft(t) ? `https:${t}` : t.replace(f, \"https:\");\n}\n\nfunction yt() {\n  return \"http\" === w.scheme;\n}\n\nfunction $t() {\n  return \"https\" === w.scheme;\n}\n\nfunction xt(t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n  return ft(t) ? t.slice(2) : (t = t.replace(l, \"\"), n && t.length > 1 && \"/\" === t[0] && \"/\" === t[1] && (t = t.slice(2)), t);\n}\n\nfunction wt(t) {\n  const n = t.indexOf(\"//\"),\n        e = t.indexOf(\"/\", n + 2);\n  return -1 === e ? t : t.slice(0, e);\n}\n\nfunction Ot(t) {\n  let n = 0;\n\n  if (K(t)) {\n    const e = t.indexOf(\"//\");\n    -1 !== e && (n = e + 2);\n  }\n\n  const e = t.lastIndexOf(\"/\");\n  return e < n ? t : t.slice(0, e + 1);\n}\n\nfunction Ut(t, n) {\n  if (!t) return \"\";\n  const e = j(t).path.replace(/\\/+$/, \"\"),\n        r = e.substring(e.lastIndexOf(\"/\") + 1);\n  if (null == n || !n.length) return r;\n  const o = new RegExp(`.(${n.join(\"|\")})$`, \"ig\");\n  return r.replace(o, \"\");\n}\n\nfunction bt(t) {\n  return t && \"/\" === t[t.length - 1] ? t : `${t}/`;\n}\n\nfunction Ct(t) {\n  return t.replace(/\\/+$/, \"\");\n}\n\nfunction qt(t) {\n  if (/^https?:\\/\\//i.test(t)) {\n    const n = P(t);\n    t = (t = n.path.replace(/\\/{2,}/g, \"/\")).replace(\"/\", \"//\"), n.query && (t += `?${n.query}`);\n  }\n\n  return t;\n}\n\nfunction Rt(t) {\n  return t.replace(/^(https?:\\/\\/)(arcgis\\.com)/i, \"$1www.$2\");\n}\n\nfunction jt(t) {\n  const n = u.httpsDomains;\n  if (!pt(t)) return t;\n  const e = t.indexOf(\"/\", 7);\n  let r;\n\n  if (r = -1 === e ? t : t.slice(0, e), r = r.toLowerCase().slice(7), p.test(r)) {\n    if (!r.endsWith(\":80\")) return t;\n    r = r.slice(0, -3), t = t.replace(\":80\", \"\");\n  }\n\n  return yt() && r === w.authority && !d.test(t) || ($t() && r === w.authority || n && n.some(t => r === t || r.endsWith(`.${t}`)) || $t() && !J(t)) && (t = mt(t)), t;\n}\n\nfunction vt(t, n, e) {\n  if (!(n && e && t && K(t))) return t;\n  const r = t.indexOf(\"//\"),\n        o = t.indexOf(\"/\", r + 2),\n        i = t.indexOf(\":\", r + 2),\n        s = Math.min(o < 0 ? t.length : o, i < 0 ? t.length : i);\n  if (t.slice(r + 2, s).toLowerCase() !== n.toLowerCase()) return t;\n  return `${t.slice(0, r + 2)}${e}${t.slice(s)}`;\n}\n\nfunction Lt(t) {\n  return \"string\" == typeof t ? new y(Q(t)) : (t.scheme || (t.scheme = w.scheme), t);\n}\n\nfunction It(t) {\n  return Jt.test(t);\n}\n\nfunction At(t, n) {\n  const e = j(t),\n        r = Object.keys(e.query || {});\n  return r.length > 0 && n && n.warn(\"removeQueryParameters()\", `Url query parameters are not supported, the following parameters have been removed: ${r.join(\", \")}.`), e.path;\n}\n\nfunction St(t, n, e) {\n  const r = j(t),\n        o = r.query || {};\n  return o[n] = String(e), `${r.path}?${I(o)}`;\n}\n\nfunction Bt(t, n) {\n  const e = j(t),\n        r = e.query || {};\n\n  for (const i in n) r[i] = n[i];\n\n  const o = I(r);\n  return o ? `${e.path}?${o}` : e.path;\n}\n\nfunction Pt(t, n) {\n  const {\n    path: e,\n    query: r\n  } = j(t);\n  if (!r) return t;\n  delete r[n];\n  const o = I(r);\n  return o ? `${e}?${o}` : e;\n}\n\nfunction kt(t) {\n  if (i(t)) return null;\n  const n = t.match(Et);\n  return n ? n[1] : null;\n}\n\nconst Et = /.*?\\.([^\\/]*)$/,\n      Jt = /(^data:image\\/svg|\\.svg$)/i;\nexport { y as Url, S as addProxy, E as addProxyRule, St as addQueryParameter, Bt as addQueryParameters, Z as base64UrlEncode, vt as changeDomain, nt as dataComponents, Y as dataToArrayBuffer, rt as dataToBlob, it as downloadBlobAsFile, ot as downloadDataAsFile, C as getAppBaseUrl, b as getAppUrl, Ut as getFilename, W as getInterceptor, H as getOrigin, kt as getPathExtension, J as getProxyRule, A as getProxyUrl, at as hasProtocol, z as hasSameOrigin, N as hasSamePortal, K as isAbsolute, $t as isAppHTTPS, V as isBlobProtocol, X as isDataProtocol, ht as isHTTPSProtocol, ft as isProtocolRelative, It as isSVG, D as isTrustedServer, G as join, Q as makeAbsolute, et as makeData, _ as makeRelative, F as normalize, I as objectToQuery, v as queryToObject, Ot as removeFile, Pt as removeQueryParameter, At as removeQueryParameters, Ct as removeTrailingSlash, R as test, gt as toHTTP, mt as toHTTPS, $ as trustedServersUrlCache, j as urlToObject };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/core/urlUtils.js"],"names":["t","n","e","assumeNonNull","r","isSome","o","isNone","i","s","getLogger","u","request","c","l","f","a","h","p","d","g","RegExp","m","y","constructor","uri","scheme","authority","path","query","fragment","user","password","host","port","match","toString","$","x","applicationUrl","w","O","q","U","b","C","substring","lastIndexOf","split","length","R","setAppUrl","setAppBaseUrl","restoreUrls","j","indexOf","v","hash","decodeURIComponent","slice","Array","isArray","push","L","toJSON","I","Object","keys","map","encodeURIComponent","join","JSON","stringify","filter","A","proxyUrl","ht","J","warn","$t","mt","S","P","B","k","xt","bt","toLowerCase","E","urlPrefix","proxyRules","splice","N","T","F","replace","W","test","startsWith","interceptors","urls","some","z","Lt","D","K","trustedServers","M","at","ft","Q","preserveProtocolRelative","H","G","wt","_","jt","Rt","qt","trim","dt","reduce","concat","pop","V","X","Y","nt","isBase64","atob","data","Uint8Array","charCodeAt","buffer","Z","btoa","String","fromCharCode","apply","tt","mediaType","et","rt","Blob","type","ot","st","ct","it","ut","lt","document","createElement","URL","createObjectURL","download","href","style","display","body","appendChild","click","removeChild","revokeObjectURL","window","navigator","msSaveOrOpenBlob","pt","gt","yt","Ot","Ut","Ct","httpsDomains","endsWith","vt","Math","min","It","Jt","At","St","Bt","Pt","kt","Et","Url","addProxy","addProxyRule","addQueryParameter","addQueryParameters","base64UrlEncode","changeDomain","dataComponents","dataToArrayBuffer","dataToBlob","downloadBlobAsFile","downloadDataAsFile","getAppBaseUrl","getAppUrl","getFilename","getInterceptor","getOrigin","getPathExtension","getProxyRule","getProxyUrl","hasProtocol","hasSameOrigin","hasSamePortal","isAbsolute","isAppHTTPS","isBlobProtocol","isDataProtocol","isHTTPSProtocol","isProtocolRelative","isSVG","isTrustedServer","makeAbsolute","makeData","makeRelative","normalize","objectToQuery","queryToObject","removeFile","removeQueryParameter","removeQueryParameters","removeTrailingSlash","toHTTP","toHTTPS","trustedServersUrlCache","urlToObject"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../config.js\";import n from\"./Error.js\";import e from\"./Logger.js\";import{assumeNonNull as r,isSome as o,isNone as i}from\"./maybe.js\";const s=e.getLogger(\"esri.core.urlUtils\"),u=t.request,c=\"esri/config: esriConfig.request.proxyUrl is not set.\",l=/^\\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,f=/^\\s*http:/i,a=/^\\s*https:/i,h=/^\\s*file:/i,p=/:\\d+$/,d=/^https?:\\/\\/[^/]+\\.arcgis.com\\/sharing(\\/|$)/i,g=new RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?$\"),m=new RegExp(\"^((([^\\\\[:]+):)?([^@]+)@)?(\\\\[([^\\\\]]+)\\\\]|([^\\\\[:]*))(:([0-9]+))?$\");class y{constructor(t=\"\"){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let n=r(this.uri.match(g));this.scheme=n[2]||(n[1]?\"\":null),this.authority=n[4]||(n[3]?\"\":null),this.path=n[5],this.query=n[7]||(n[6]?\"\":null),this.fragment=n[9]||(n[8]?\"\":null),null!=this.authority&&(n=r(this.authority.match(m)),this.user=n[3]||null,this.password=n[4]||null,this.host=n[6]||n[7],this.port=n[9]||null)}toString(){return this.uri}}const $={},x=new y(t.applicationUrl);let w=x;const O=q();let U=O;const b=()=>w,C=()=>U;function q(){const t=r(w.path),n=t.substring(0,t.lastIndexOf(t.split(\"/\")[t.split(\"/\").length-1]));return`${`${w.scheme}://${w.host}${null!=w.port?`:${w.port}`:\"\"}`}${n}`}const R={setAppUrl:t=>w=t,setAppBaseUrl:t=>U=t,restoreUrls:()=>{w=x,U=O}};function j(t){const n={path:null,query:null},e=new y(t),r=t.indexOf(\"?\");return null===e.query?n.path=t:(n.path=t.substring(0,r),n.query=v(e.query)),e.fragment&&(n.hash=e.fragment,null===e.query&&(n.path=n.path.substring(0,n.path.length-(e.fragment.length+1)))),n}function v(t){const n=t.split(\"&\"),e={};for(const r of n){if(!r)continue;const t=r.indexOf(\"=\");let n,o;t<0?(n=decodeURIComponent(r),o=\"\"):(n=decodeURIComponent(r.slice(0,t)),o=decodeURIComponent(r.slice(t+1)));let i=e[n];\"string\"==typeof i&&(i=e[n]=[i]),Array.isArray(i)?i.push(o):e[n]=o}return e}function L(t){return t&&\"object\"==typeof t&&\"toJSON\"in t&&\"function\"==typeof t.toJSON}function I(t,n){return t?n&&\"function\"==typeof n?Object.keys(t).map((e=>encodeURIComponent(e)+\"=\"+encodeURIComponent(n(e,t[e])))).join(\"&\"):Object.keys(t).map((e=>{const r=t[e];if(null==r)return\"\";const o=encodeURIComponent(e)+\"=\",i=n&&n[e];return i?o+encodeURIComponent(i(r)):Array.isArray(r)?r.map((t=>L(t)?o+encodeURIComponent(JSON.stringify(t)):o+encodeURIComponent(t))).join(\"&\"):L(r)?o+encodeURIComponent(JSON.stringify(r)):o+encodeURIComponent(r)})).filter((t=>t)).join(\"&\"):\"\"}function A(t=!1){let e,r=u.proxyUrl;if(\"string\"==typeof t){e=ht(t);const n=J(t);n&&(r=n.proxyUrl)}else e=!!t;if(!r)throw s.warn(c),new n(\"urlutils:proxy-not-set\",c);e&&$t()&&(r=mt(r));return j(r)}function S(t){const n=J(t);let e,r;if(n){const t=P(n.proxyUrl);e=t.path,r=t.query?v(t.query):null}if(e){const n=j(t);t=e+\"?\"+n.path;const o=I({...r,...n.query});o&&(t=`${t}?${o}`)}return t}const B={path:\"\",query:\"\"};function P(t){const n=t.indexOf(\"?\");return-1!==n?(B.path=t.slice(0,n),B.query=t.slice(n+1)):(B.path=t,B.query=null),B}function k(t){return t=(t=xt(t=bt(t=P(t).path),!0)).toLowerCase()}function E(t){const n={proxyUrl:t.proxyUrl,urlPrefix:k(t.urlPrefix)},e=u.proxyRules,r=n.urlPrefix;let o=e.length;for(let i=0;i<e.length;i++){const t=e[i].urlPrefix;if(0===r.indexOf(t)){if(r.length===t.length)return-1;o=i;break}0===t.indexOf(r)&&(o=i+1)}return e.splice(o,0,n),o}function J(t){const n=u.proxyRules,e=k(t);for(let r=0;r<n.length;r++)if(0===e.indexOf(n[r].urlPrefix))return n[r]}function N(t,n){return t=T(t),n=T(n),xt(t)===xt(n)}function T(t){const n=(t=F(t)).indexOf(\"/sharing\");return n>0?t.substring(0,n):t.replace(/\\/+$/,\"\")}function W(t){const n=n=>null==n||n instanceof RegExp&&n.test(t)||\"string\"==typeof n&&t.startsWith(n),e=u.interceptors;if(e)for(const r of e)if(Array.isArray(r.urls)){if(r.urls.some(n))return r}else if(n(r.urls))return r;return null}function z(t,n,e=!1){const r=Lt(t),o=Lt(n);return!(!e&&r.scheme!==o.scheme)&&(null!=r.host&&null!=o.host&&(r.host.toLowerCase()===o.host.toLowerCase()&&r.port===o.port))}function D(t){if(\"string\"==typeof t){if(!K(t))return!0;t=Lt(t)}if(z(t,w))return!0;const n=u.trustedServers||[];for(let e=0;e<n.length;e++){const r=M(n[e]);for(let n=0;n<r.length;n++)if(z(t,r[n]))return!0}return!1}function M(t){return $[t]||(at(t)||ft(t)?$[t]=[new y(Q(t))]:$[t]=[new y(`http://${t}`),new y(`https://${t}`)]),$[t]}function Q(t,n=U,e){return ft(t)?e&&e.preserveProtocolRelative?t:\"http\"===w.scheme&&w.authority===H(t).slice(2)?`http:${t}`:`https:${t}`:at(t)?t:r(G(\"/\"===t[0]?wt(n):n,t))}function _(t,n=U,e){if(!K(t))return t;const r=F(t),o=r.toLowerCase(),i=F(n).toLowerCase().replace(/\\/+$/,\"\"),s=e?F(e).toLowerCase().replace(/\\/+$/,\"\"):null;if(s&&0!==i.indexOf(s))return t;const u=(t,n,e)=>-1===(e=t.indexOf(n,e))?t.length:e;let c=u(o,\"/\",o.indexOf(\"//\")+2),l=-1;for(;o.slice(0,c+1)===i.slice(0,c)+\"/\"&&(l=c+1,c!==o.length);)c=u(o,\"/\",c+1);if(-1===l)return t;if(s&&l<s.length)return t;t=r.slice(l);const f=i.slice(l-1).replace(/[^/]+/g,\"\").length;if(f>0)for(let a=0;a<f;a++)t=`../${t}`;else t=`./${t}`;return t}function F(t){return t=jt(t=Rt(t=qt(t=Q(t=t.trim()))))}function G(...t){const n=t.filter(o);if(!n||!n.length)return;const e=[];if(K(n[0])){const t=n[0],r=t.indexOf(\"//\");-1!==r&&(e.push(t.slice(0,r+1)),dt(n[0])&&(e[0]+=\"/\"),n[0]=t.slice(r+2))}else\"/\"===n[0][0]&&e.push(\"\");const r=n.reduce(((t,n)=>n?t.concat(n.split(\"/\")):t),[]);for(let o=0;o<r.length;o++){const t=r[o];\"..\"===t&&e.length>0&&\"..\"!==e[e.length-1]?e.pop():(!t&&o===r.length-1||t&&(\".\"!==t||0===e.length))&&e.push(t)}return e.join(\"/\")}function H(t,n=!1){if(V(t)||X(t))return null;let e=t.indexOf(\"://\");if(-1===e&&ft(t))e=2;else{if(-1===e)return null;e+=3}const r=t.indexOf(\"/\",e);return-1!==r&&(t=t.slice(0,r)),n&&(t=xt(t,!0)),t}function K(t){return ft(t)||at(t)}function V(t){return null!=t&&\"blob:\"===t.slice(0,5)}function X(t){return\"data:\"===t.slice(0,5)}function Y(t){const n=nt(t);if(!n||!n.isBase64)return null;const e=atob(n.data),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r.buffer}function Z(t){return btoa(String.fromCharCode.apply(null,t)).replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=+$/,\"\")}const tt=/^data:(.*?)(;base64)?,(.*)$/;function nt(t){const n=t.match(tt);if(!n)return null;const[,e,r,o]=n;return{mediaType:e,isBase64:!!r,data:o}}function et(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}function rt(t){const n=Y(t);if(!n)return null;const e=nt(t);return new Blob([n],{type:e.mediaType})}function ot(t,n){st(t,n)||ct(t,n)}function it(t,n){ut(t,n)||lt(t,n)}function st(t,n){const e=rt(t);return!!e&&ut(e,n)}function ut(t,n){if(!t)return!1;const e=document.createElement(\"a\");if(!(\"download\"in e))return!1;const r=URL.createObjectURL(t);return e.download=n,e.href=r,e.style.display=\"none\",document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(r),!0}function ct(t,n){const e=rt(t);return!!e&&lt(e,n)}function lt(t,n){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(t,n)}function ft(t){return null!=t&&void 0!==t&&\"/\"===t[0]&&\"/\"===t[1]}function at(t){return l.test(t)}function ht(t){return a.test(t)||\"https\"===w.scheme&&ft(t)}function pt(t){return f.test(t)||\"http\"===w.scheme&&ft(t)}function dt(t){return h.test(t)}function gt(t){return ft(t)?`http:${t}`:t.replace(a,\"http:\")}function mt(t){return ft(t)?`https:${t}`:t.replace(f,\"https:\")}function yt(){return\"http\"===w.scheme}function $t(){return\"https\"===w.scheme}function xt(t,n=!1){return ft(t)?t.slice(2):(t=t.replace(l,\"\"),n&&t.length>1&&\"/\"===t[0]&&\"/\"===t[1]&&(t=t.slice(2)),t)}function wt(t){const n=t.indexOf(\"//\"),e=t.indexOf(\"/\",n+2);return-1===e?t:t.slice(0,e)}function Ot(t){let n=0;if(K(t)){const e=t.indexOf(\"//\");-1!==e&&(n=e+2)}const e=t.lastIndexOf(\"/\");return e<n?t:t.slice(0,e+1)}function Ut(t,n){if(!t)return\"\";const e=j(t).path.replace(/\\/+$/,\"\"),r=e.substring(e.lastIndexOf(\"/\")+1);if(null==n||!n.length)return r;const o=new RegExp(`.(${n.join(\"|\")})$`,\"ig\");return r.replace(o,\"\")}function bt(t){return t&&\"/\"===t[t.length-1]?t:`${t}/`}function Ct(t){return t.replace(/\\/+$/,\"\")}function qt(t){if(/^https?:\\/\\//i.test(t)){const n=P(t);t=(t=n.path.replace(/\\/{2,}/g,\"/\")).replace(\"/\",\"//\"),n.query&&(t+=`?${n.query}`)}return t}function Rt(t){return t.replace(/^(https?:\\/\\/)(arcgis\\.com)/i,\"$1www.$2\")}function jt(t){const n=u.httpsDomains;if(!pt(t))return t;const e=t.indexOf(\"/\",7);let r;if(r=-1===e?t:t.slice(0,e),r=r.toLowerCase().slice(7),p.test(r)){if(!r.endsWith(\":80\"))return t;r=r.slice(0,-3),t=t.replace(\":80\",\"\")}return yt()&&r===w.authority&&!d.test(t)||($t()&&r===w.authority||n&&n.some((t=>r===t||r.endsWith(`.${t}`)))||$t()&&!J(t))&&(t=mt(t)),t}function vt(t,n,e){if(!(n&&e&&t&&K(t)))return t;const r=t.indexOf(\"//\"),o=t.indexOf(\"/\",r+2),i=t.indexOf(\":\",r+2),s=Math.min(o<0?t.length:o,i<0?t.length:i);if(t.slice(r+2,s).toLowerCase()!==n.toLowerCase())return t;return`${t.slice(0,r+2)}${e}${t.slice(s)}`}function Lt(t){return\"string\"==typeof t?new y(Q(t)):(t.scheme||(t.scheme=w.scheme),t)}function It(t){return Jt.test(t)}function At(t,n){const e=j(t),r=Object.keys(e.query||{});return r.length>0&&n&&n.warn(\"removeQueryParameters()\",`Url query parameters are not supported, the following parameters have been removed: ${r.join(\", \")}.`),e.path}function St(t,n,e){const r=j(t),o=r.query||{};return o[n]=String(e),`${r.path}?${I(o)}`}function Bt(t,n){const e=j(t),r=e.query||{};for(const i in n)r[i]=n[i];const o=I(r);return o?`${e.path}?${o}`:e.path}function Pt(t,n){const{path:e,query:r}=j(t);if(!r)return t;delete r[n];const o=I(r);return o?`${e}?${o}`:e}function kt(t){if(i(t))return null;const n=t.match(Et);return n?n[1]:null}const Et=/.*?\\.([^\\/]*)$/,Jt=/(^data:image\\/svg|\\.svg$)/i;export{y as Url,S as addProxy,E as addProxyRule,St as addQueryParameter,Bt as addQueryParameters,Z as base64UrlEncode,vt as changeDomain,nt as dataComponents,Y as dataToArrayBuffer,rt as dataToBlob,it as downloadBlobAsFile,ot as downloadDataAsFile,C as getAppBaseUrl,b as getAppUrl,Ut as getFilename,W as getInterceptor,H as getOrigin,kt as getPathExtension,J as getProxyRule,A as getProxyUrl,at as hasProtocol,z as hasSameOrigin,N as hasSamePortal,K as isAbsolute,$t as isAppHTTPS,V as isBlobProtocol,X as isDataProtocol,ht as isHTTPSProtocol,ft as isProtocolRelative,It as isSVG,D as isTrustedServer,G as join,Q as makeAbsolute,et as makeData,_ as makeRelative,F as normalize,I as objectToQuery,v as queryToObject,Ot as removeFile,Pt as removeQueryParameter,At as removeQueryParameters,Ct as removeTrailingSlash,R as test,gt as toHTTP,mt as toHTTPS,$ as trustedServersUrlCache,j as urlToObject};\n"]},"metadata":{},"sourceType":"module"}