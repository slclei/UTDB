{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport \"../geometry.js\";\nimport r from \"../PopupTemplate.js\";\nimport \"../renderers/ClassBreaksRenderer.js\";\nimport \"../renderers/DictionaryRenderer.js\";\nimport \"../renderers/DotDensityRenderer.js\";\nimport \"../renderers/HeatmapRenderer.js\";\nimport \"../renderers/Renderer.js\";\nimport \"../renderers/SimpleRenderer.js\";\nimport \"../renderers/UniqueValueRenderer.js\";\nimport \"../renderers/support/jsonUtils.js\";\nimport { rendererTypes as t, webSceneRendererTypes as i } from \"../renderers/support/types.js\";\nimport { isSome as o } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as s } from \"../core/MultiOriginJSONSupport.js\";\nimport { setDeepValue as n } from \"../core/object.js\";\nimport { urlToObject as p } from \"../core/urlUtils.js\";\nimport { property as a } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport { Integer as l } from \"../core/accessorSupport/ensureType.js\";\nimport { subclass as d } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as m } from \"../core/accessorSupport/decorators/writer.js\";\nimport { featureGeometryTypeKebabDictionary as u } from \"../geometry/support/typeUtils.js\";\nimport y from \"./Layer.js\";\nimport f from \"./graphics/sources/WFSSource.js\";\nimport { BlendLayer as c } from \"./mixins/BlendLayer.js\";\nimport { CustomParametersMixin as h } from \"./mixins/CustomParametersMixin.js\";\nimport { FeatureEffectLayer as g } from \"./mixins/FeatureEffectLayer.js\";\nimport { OperationalLayer as j } from \"./mixins/OperationalLayer.js\";\nimport { OrderedLayer as v } from \"./mixins/OrderedLayer.js\";\nimport { PortalLayer as w } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as F } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as b } from \"./mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as x } from \"./mixins/TemporalLayer.js\";\nimport { WFS_OID_FIELD_NAME as I } from \"./ogc/wfsUtils.js\";\nimport { elevationInfo as O, labelsVisible as R, legendEnabled as S, opacityDrawingInfo as P, popupEnabled as U, screenSizePerspectiveEnabled as q, url as E } from \"./support/commonProperties.js\";\nimport { featureReductionProperty as T } from \"./support/featureReductionUtils.js\";\nimport L from \"./support/Field.js\";\nimport { defineFieldProperties as D } from \"./support/fieldProperties.js\";\nimport { fixRendererFields as C, fixTimeInfoFields as Q } from \"./support/fieldUtils.js\";\nimport W from \"./support/LabelClass.js\";\nimport { reader as V } from \"./support/labelingInfo.js\";\nimport N from \"../rest/support/Query.js\";\nimport { createPopupTemplate as X } from \"../support/popupUtils.js\";\nimport Y from \"../geometry/SpatialReference.js\";\nimport B from \"../geometry/Extent.js\";\nvar J;\nconst M = D();\n\nlet _ = J = class extends v(h(g(c(x(F(b(j(w(s(y)))))))))) {\n  constructor(e) {\n    super(e), this.capabilities = null, this.copyright = null, this.customParameters = null, this.definitionExpression = null, this.displayField = null, this.elevationInfo = null, this.featureReduction = null, this.featureUrl = void 0, this.fields = null, this.fieldsIndex = null, this.fullExtent = null, this.geometryType = null, this.labelsVisible = !0, this.labelingInfo = null, this.legendEnabled = !0, this.objectIdField = null, this.operationalLayerType = \"WFS\", this.maxFeatures = 3e3, this.mode = 0, this.name = null, this.namespaceUri = null, this.outFields = null, this.popupEnabled = !0, this.popupTemplate = null, this.screenSizePerspectiveEnabled = !0, this.source = new f({\n      layer: this\n    }), this.spatialReference = Y.WGS84, this.spatialReferences = [4326], this.swapXY = void 0, this.title = \"WFS\", this.type = \"wfs\", this.url = null, this.version = void 0;\n  }\n\n  static fromWFSLayerInfo(e) {\n    const {\n      customParameters: r,\n      fields: t,\n      geometryField: i,\n      geometryType: o,\n      name: s,\n      namespaceUri: n,\n      objectIdField: p,\n      spatialReference: a,\n      swapXY: l,\n      url: d,\n      wfsCapabilities: m\n    } = e;\n    return new J({\n      customParameters: r,\n      fields: t,\n      geometryField: i,\n      geometryType: o,\n      name: s,\n      namespaceUri: n,\n      objectIdField: p,\n      spatialReference: a,\n      swapXY: l,\n      url: d,\n      wfsCapabilities: m\n    });\n  }\n\n  destroy() {\n    var e;\n    null == (e = this.source) || e.destroy();\n  }\n\n  load(e) {\n    return this.addResolvingPromise(this.loadFromPortal({\n      supportedTypes: [\"WFS\"]\n    }, e).then(() => this.source.load(e)).then(() => {\n      this.read(this.source.sourceJSON, {\n        origin: \"service\",\n        url: this.parsedUrl\n      }), this.revert([\"objectIdField\", \"fields\", \"timeInfo\", \"spatialReference\", \"name\", \"namespaceUri\"], \"service\"), C(this.renderer, this.fieldsIndex), Q(this.timeInfo, this.fieldsIndex);\n    })), Promise.resolve(this);\n  }\n\n  get createQueryVersion() {\n    return this.commitProperty(\"definitionExpression\"), this.commitProperty(\"timeExtent\"), this.commitProperty(\"timeOffset\"), this.commitProperty(\"geometryType\"), this.commitProperty(\"capabilities\"), (this._get(\"createQueryVersion\") || 0) + 1;\n  }\n\n  get defaultPopupTemplate() {\n    return this.createPopupTemplate();\n  }\n\n  writeFields(e, r, t) {\n    const i = e.filter(e => e.name !== I);\n    this.geometryField && i.unshift(new L({\n      name: this.geometryField,\n      alias: this.geometryField,\n      type: \"geometry\"\n    })), n(t, i.map(e => e.toJSON()), r);\n  }\n\n  get parsedUrl() {\n    return this.url ? p(this.url) : null;\n  }\n\n  set renderer(e) {\n    C(e, this.fieldsIndex), this._set(\"renderer\", e);\n  }\n\n  createPopupTemplate(e) {\n    return X(this, e);\n  }\n\n  createQuery() {\n    const e = new N();\n    e.returnGeometry = !0, e.outFields = [\"*\"], e.where = this.definitionExpression || \"1=1\";\n    const {\n      timeOffset: r,\n      timeExtent: t\n    } = this;\n    return e.timeExtent = null != r && null != t ? t.offset(-r.value, r.unit) : t || null, e;\n  }\n\n  getFieldDomain(e, r) {\n    var t;\n    return null == (t = this.getField(e)) ? void 0 : t.domain;\n  }\n\n  getField(e) {\n    return this.fieldsIndex.get(e);\n  }\n\n  queryFeatures(e, r) {\n    return this.load().then(() => this.source.queryFeatures(N.from(e) || this.createQuery(), r)).then(e => {\n      if (null != e && e.features) for (const r of e.features) r.layer = r.sourceLayer = this;\n      return e;\n    });\n  }\n\n  queryObjectIds(e, r) {\n    return this.load().then(() => this.source.queryObjectIds(N.from(e) || this.createQuery(), r));\n  }\n\n  queryFeatureCount(e, r) {\n    return this.load().then(() => this.source.queryFeatureCount(N.from(e) || this.createQuery(), r));\n  }\n\n  queryExtent(e, r) {\n    return this.load().then(() => this.source.queryExtent(N.from(e) || this.createQuery(), r));\n  }\n\n  async hasDataChanged() {\n    try {\n      const {\n        dataChanged: e,\n        updates: r\n      } = await this.source.refresh(this.customParameters);\n      return o(r) && this.read(r, {\n        origin: \"service\",\n        url: this.parsedUrl,\n        ignoreDefaults: !0\n      }), e;\n    } catch {}\n\n    return !1;\n  }\n\n};\n\ne([a({\n  readOnly: !0,\n  aliasOf: \"source.capabilities\"\n})], _.prototype, \"capabilities\", void 0), e([a({\n  type: String\n})], _.prototype, \"copyright\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"createQueryVersion\", null), e([a({\n  json: {\n    name: \"wfsInfo.customParameters\",\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], _.prototype, \"customParameters\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"defaultPopupTemplate\", null), e([a({\n  type: String,\n  json: {\n    name: \"layerDefinition.definitionExpression\",\n    write: {\n      enabled: !0,\n      allowNull: !0\n    }\n  }\n})], _.prototype, \"definitionExpression\", void 0), e([a({\n  type: String\n})], _.prototype, \"displayField\", void 0), e([a(O)], _.prototype, \"elevationInfo\", void 0), e([a(T)], _.prototype, \"featureReduction\", void 0), e([a({\n  type: String,\n  readOnly: !0,\n  json: {\n    name: \"wfsInfo.featureUrl\",\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    }\n  }\n})], _.prototype, \"featureUrl\", void 0), e([a({\n  type: [L],\n  json: {\n    name: \"layerDefinition.fields\",\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    },\n    origins: {\n      service: {\n        name: \"fields\"\n      }\n    }\n  }\n})], _.prototype, \"fields\", void 0), e([m(\"fields\")], _.prototype, \"writeFields\", null), e([a(M.fieldsIndex)], _.prototype, \"fieldsIndex\", void 0), e([a({\n  type: B,\n  json: {\n    name: \"extent\"\n  }\n})], _.prototype, \"fullExtent\", void 0), e([a()], _.prototype, \"geometryField\", void 0), e([a({\n  type: String,\n  json: {\n    read: {\n      source: \"layerDefinition.geometryType\",\n      reader: u.read\n    },\n    write: {\n      target: \"layerDefinition.geometryType\",\n      writer: u.write,\n      ignoreOrigin: !0\n    },\n    origins: {\n      service: {\n        read: u.read\n      }\n    }\n  }\n})], _.prototype, \"geometryType\", void 0), e([a({\n  type: String\n})], _.prototype, \"id\", void 0), e([a(R)], _.prototype, \"labelsVisible\", void 0), e([a({\n  type: [W],\n  json: {\n    name: \"layerDefinition.drawingInfo.labelingInfo\",\n    read: {\n      reader: V\n    },\n    write: !0\n  }\n})], _.prototype, \"labelingInfo\", void 0), e([a(S)], _.prototype, \"legendEnabled\", void 0), e([a({\n  type: [\"show\", \"hide\"]\n})], _.prototype, \"listMode\", void 0), e([a({\n  type: String\n})], _.prototype, \"objectIdField\", void 0), e([a({\n  type: [\"WFS\"]\n})], _.prototype, \"operationalLayerType\", void 0), e([a({\n  type: l,\n  json: {\n    name: \"wfsInfo.maxFeatures\",\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    }\n  }\n})], _.prototype, \"maxFeatures\", void 0), e([a({\n  type: [0],\n  readOnly: !0,\n  json: {\n    origins: {\n      \"web-map\": {\n        write: {\n          ignoreOrigin: !0,\n          isRequired: !0\n        }\n      }\n    }\n  }\n})], _.prototype, \"mode\", void 0), e([a({\n  type: String,\n  json: {\n    name: \"wfsInfo.name\",\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    }\n  }\n})], _.prototype, \"name\", void 0), e([a({\n  type: String,\n  json: {\n    name: \"wfsInfo.wfsNamespace\",\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    }\n  }\n})], _.prototype, \"namespaceUri\", void 0), e([a(P)], _.prototype, \"opacity\", void 0), e([a(M.outFields)], _.prototype, \"outFields\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"parsedUrl\", null), e([a(U)], _.prototype, \"popupEnabled\", void 0), e([a({\n  type: r,\n  json: {\n    name: \"popupInfo\",\n    write: !0\n  }\n})], _.prototype, \"popupTemplate\", void 0), e([a({\n  types: t,\n  json: {\n    origins: {\n      service: {\n        name: \"drawingInfo.renderer\"\n      },\n      \"web-scene\": {\n        types: i,\n        name: \"layerDefinition.drawingInfo.renderer\",\n        write: !0\n      }\n    },\n    name: \"layerDefinition.drawingInfo.renderer\",\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], _.prototype, \"renderer\", null), e([a(q)], _.prototype, \"screenSizePerspectiveEnabled\", void 0), e([a({\n  readOnly: !0\n})], _.prototype, \"source\", void 0), e([a({\n  type: Y,\n  json: {\n    name: \"layerDefinition.spatialReference\",\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    },\n    origins: {\n      service: {\n        name: \"extent.spatialReference\"\n      }\n    }\n  }\n})], _.prototype, \"spatialReference\", void 0), e([a({\n  readOnly: !0,\n  type: [l],\n  json: {\n    name: \"wfsInfo.supportedSpatialReferences\",\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    }\n  }\n})], _.prototype, \"spatialReferences\", void 0), e([a({\n  type: Boolean,\n  value: !1,\n  json: {\n    name: \"wfsInfo.swapXY\",\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    }\n  }\n})], _.prototype, \"swapXY\", void 0), e([a({\n  json: {\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    },\n    origins: {\n      service: {\n        name: \"name\"\n      }\n    }\n  }\n})], _.prototype, \"title\", void 0), e([a({\n  json: {\n    read: !1\n  },\n  readOnly: !0\n})], _.prototype, \"type\", void 0), e([a(E)], _.prototype, \"url\", void 0), e([a({\n  type: String,\n  readOnly: !0,\n  json: {\n    name: \"wfsInfo.version\",\n    write: {\n      ignoreOrigin: !0,\n      isRequired: !0\n    }\n  }\n})], _.prototype, \"version\", void 0), e([a({\n  aliasOf: \"source.wfsCapabilities\"\n})], _.prototype, \"wfsCapabilities\", void 0), _ = J = e([d(\"esri.layers.WFSLayer\")], _);\nconst k = _;\nexport { k as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/layers/WFSLayer.js"],"names":["_","e","r","rendererTypes","t","webSceneRendererTypes","i","isSome","o","MultiOriginJSONMixin","s","setDeepValue","n","urlToObject","p","property","a","Integer","l","subclass","d","writer","m","featureGeometryTypeKebabDictionary","u","y","f","BlendLayer","c","CustomParametersMixin","h","FeatureEffectLayer","g","OperationalLayer","j","OrderedLayer","v","PortalLayer","w","RefreshableLayer","F","ScaleRangeLayer","b","TemporalLayer","x","WFS_OID_FIELD_NAME","I","elevationInfo","O","labelsVisible","R","legendEnabled","S","opacityDrawingInfo","P","popupEnabled","U","screenSizePerspectiveEnabled","q","url","E","featureReductionProperty","T","L","defineFieldProperties","D","fixRendererFields","C","fixTimeInfoFields","Q","W","reader","V","N","createPopupTemplate","X","Y","B","J","M","constructor","capabilities","copyright","customParameters","definitionExpression","displayField","featureReduction","featureUrl","fields","fieldsIndex","fullExtent","geometryType","labelingInfo","objectIdField","operationalLayerType","maxFeatures","mode","name","namespaceUri","outFields","popupTemplate","source","layer","spatialReference","WGS84","spatialReferences","swapXY","title","type","version","fromWFSLayerInfo","geometryField","wfsCapabilities","destroy","load","addResolvingPromise","loadFromPortal","supportedTypes","then","read","sourceJSON","origin","parsedUrl","revert","renderer","timeInfo","Promise","resolve","createQueryVersion","commitProperty","_get","defaultPopupTemplate","writeFields","filter","unshift","alias","map","toJSON","_set","createQuery","returnGeometry","where","timeOffset","timeExtent","offset","value","unit","getFieldDomain","getField","domain","get","queryFeatures","from","features","sourceLayer","queryObjectIds","queryFeatureCount","queryExtent","hasDataChanged","dataChanged","updates","refresh","ignoreDefaults","readOnly","aliasOf","prototype","String","json","write","ignoreOrigin","enabled","allowNull","isRequired","origins","service","target","types","Boolean","k","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import r from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/Renderer.js\";import\"../renderers/SimpleRenderer.js\";import\"../renderers/UniqueValueRenderer.js\";import\"../renderers/support/jsonUtils.js\";import{rendererTypes as t,webSceneRendererTypes as i}from\"../renderers/support/types.js\";import{isSome as o}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{setDeepValue as n}from\"../core/object.js\";import{urlToObject as p}from\"../core/urlUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{Integer as l}from\"../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as m}from\"../core/accessorSupport/decorators/writer.js\";import{featureGeometryTypeKebabDictionary as u}from\"../geometry/support/typeUtils.js\";import y from\"./Layer.js\";import f from\"./graphics/sources/WFSSource.js\";import{BlendLayer as c}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as h}from\"./mixins/CustomParametersMixin.js\";import{FeatureEffectLayer as g}from\"./mixins/FeatureEffectLayer.js\";import{OperationalLayer as j}from\"./mixins/OperationalLayer.js\";import{OrderedLayer as v}from\"./mixins/OrderedLayer.js\";import{PortalLayer as w}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as F}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as b}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as x}from\"./mixins/TemporalLayer.js\";import{WFS_OID_FIELD_NAME as I}from\"./ogc/wfsUtils.js\";import{elevationInfo as O,labelsVisible as R,legendEnabled as S,opacityDrawingInfo as P,popupEnabled as U,screenSizePerspectiveEnabled as q,url as E}from\"./support/commonProperties.js\";import{featureReductionProperty as T}from\"./support/featureReductionUtils.js\";import L from\"./support/Field.js\";import{defineFieldProperties as D}from\"./support/fieldProperties.js\";import{fixRendererFields as C,fixTimeInfoFields as Q}from\"./support/fieldUtils.js\";import W from\"./support/LabelClass.js\";import{reader as V}from\"./support/labelingInfo.js\";import N from\"../rest/support/Query.js\";import{createPopupTemplate as X}from\"../support/popupUtils.js\";import Y from\"../geometry/SpatialReference.js\";import B from\"../geometry/Extent.js\";var J;const M=D();let _=J=class extends(v(h(g(c(x(F(b(j(w(s(y))))))))))){constructor(e){super(e),this.capabilities=null,this.copyright=null,this.customParameters=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureReduction=null,this.featureUrl=void 0,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType=\"WFS\",this.maxFeatures=3e3,this.mode=0,this.name=null,this.namespaceUri=null,this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new f({layer:this}),this.spatialReference=Y.WGS84,this.spatialReferences=[4326],this.swapXY=void 0,this.title=\"WFS\",this.type=\"wfs\",this.url=null,this.version=void 0}static fromWFSLayerInfo(e){const{customParameters:r,fields:t,geometryField:i,geometryType:o,name:s,namespaceUri:n,objectIdField:p,spatialReference:a,swapXY:l,url:d,wfsCapabilities:m}=e;return new J({customParameters:r,fields:t,geometryField:i,geometryType:o,name:s,namespaceUri:n,objectIdField:p,spatialReference:a,swapXY:l,url:d,wfsCapabilities:m})}destroy(){var e;null==(e=this.source)||e.destroy()}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"WFS\"]},e).then((()=>this.source.load(e))).then((()=>{this.read(this.source.sourceJSON,{origin:\"service\",url:this.parsedUrl}),this.revert([\"objectIdField\",\"fields\",\"timeInfo\",\"spatialReference\",\"name\",\"namespaceUri\"],\"service\"),C(this.renderer,this.fieldsIndex),Q(this.timeInfo,this.fieldsIndex)}))),Promise.resolve(this)}get createQueryVersion(){return this.commitProperty(\"definitionExpression\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"timeOffset\"),this.commitProperty(\"geometryType\"),this.commitProperty(\"capabilities\"),(this._get(\"createQueryVersion\")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}writeFields(e,r,t){const i=e.filter((e=>e.name!==I));this.geometryField&&i.unshift(new L({name:this.geometryField,alias:this.geometryField,type:\"geometry\"})),n(t,i.map((e=>e.toJSON())),r)}get parsedUrl(){return this.url?p(this.url):null}set renderer(e){C(e,this.fieldsIndex),this._set(\"renderer\",e)}createPopupTemplate(e){return X(this,e)}createQuery(){const e=new N;e.returnGeometry=!0,e.outFields=[\"*\"],e.where=this.definitionExpression||\"1=1\";const{timeOffset:r,timeExtent:t}=this;return e.timeExtent=null!=r&&null!=t?t.offset(-r.value,r.unit):t||null,e}getFieldDomain(e,r){var t;return null==(t=this.getField(e))?void 0:t.domain}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,r){return this.load().then((()=>this.source.queryFeatures(N.from(e)||this.createQuery(),r))).then((e=>{if(null!=e&&e.features)for(const r of e.features)r.layer=r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this.load().then((()=>this.source.queryObjectIds(N.from(e)||this.createQuery(),r)))}queryFeatureCount(e,r){return this.load().then((()=>this.source.queryFeatureCount(N.from(e)||this.createQuery(),r)))}queryExtent(e,r){return this.load().then((()=>this.source.queryExtent(N.from(e)||this.createQuery(),r)))}async hasDataChanged(){try{const{dataChanged:e,updates:r}=await this.source.refresh(this.customParameters);return o(r)&&this.read(r,{origin:\"service\",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};e([a({readOnly:!0,aliasOf:\"source.capabilities\"})],_.prototype,\"capabilities\",void 0),e([a({type:String})],_.prototype,\"copyright\",void 0),e([a({readOnly:!0})],_.prototype,\"createQueryVersion\",null),e([a({json:{name:\"wfsInfo.customParameters\",write:{ignoreOrigin:!0}}})],_.prototype,\"customParameters\",void 0),e([a({readOnly:!0})],_.prototype,\"defaultPopupTemplate\",null),e([a({type:String,json:{name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],_.prototype,\"definitionExpression\",void 0),e([a({type:String})],_.prototype,\"displayField\",void 0),e([a(O)],_.prototype,\"elevationInfo\",void 0),e([a(T)],_.prototype,\"featureReduction\",void 0),e([a({type:String,readOnly:!0,json:{name:\"wfsInfo.featureUrl\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"featureUrl\",void 0),e([a({type:[L],json:{name:\"layerDefinition.fields\",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"fields\"}}}})],_.prototype,\"fields\",void 0),e([m(\"fields\")],_.prototype,\"writeFields\",null),e([a(M.fieldsIndex)],_.prototype,\"fieldsIndex\",void 0),e([a({type:B,json:{name:\"extent\"}})],_.prototype,\"fullExtent\",void 0),e([a()],_.prototype,\"geometryField\",void 0),e([a({type:String,json:{read:{source:\"layerDefinition.geometryType\",reader:u.read},write:{target:\"layerDefinition.geometryType\",writer:u.write,ignoreOrigin:!0},origins:{service:{read:u.read}}}})],_.prototype,\"geometryType\",void 0),e([a({type:String})],_.prototype,\"id\",void 0),e([a(R)],_.prototype,\"labelsVisible\",void 0),e([a({type:[W],json:{name:\"layerDefinition.drawingInfo.labelingInfo\",read:{reader:V},write:!0}})],_.prototype,\"labelingInfo\",void 0),e([a(S)],_.prototype,\"legendEnabled\",void 0),e([a({type:[\"show\",\"hide\"]})],_.prototype,\"listMode\",void 0),e([a({type:String})],_.prototype,\"objectIdField\",void 0),e([a({type:[\"WFS\"]})],_.prototype,\"operationalLayerType\",void 0),e([a({type:l,json:{name:\"wfsInfo.maxFeatures\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"maxFeatures\",void 0),e([a({type:[0],readOnly:!0,json:{origins:{\"web-map\":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],_.prototype,\"mode\",void 0),e([a({type:String,json:{name:\"wfsInfo.name\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"name\",void 0),e([a({type:String,json:{name:\"wfsInfo.wfsNamespace\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"namespaceUri\",void 0),e([a(P)],_.prototype,\"opacity\",void 0),e([a(M.outFields)],_.prototype,\"outFields\",void 0),e([a({readOnly:!0})],_.prototype,\"parsedUrl\",null),e([a(U)],_.prototype,\"popupEnabled\",void 0),e([a({type:r,json:{name:\"popupInfo\",write:!0}})],_.prototype,\"popupTemplate\",void 0),e([a({types:t,json:{origins:{service:{name:\"drawingInfo.renderer\"},\"web-scene\":{types:i,name:\"layerDefinition.drawingInfo.renderer\",write:!0}},name:\"layerDefinition.drawingInfo.renderer\",write:{ignoreOrigin:!0}}})],_.prototype,\"renderer\",null),e([a(q)],_.prototype,\"screenSizePerspectiveEnabled\",void 0),e([a({readOnly:!0})],_.prototype,\"source\",void 0),e([a({type:Y,json:{name:\"layerDefinition.spatialReference\",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"extent.spatialReference\"}}}})],_.prototype,\"spatialReference\",void 0),e([a({readOnly:!0,type:[l],json:{name:\"wfsInfo.supportedSpatialReferences\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"spatialReferences\",void 0),e([a({type:Boolean,value:!1,json:{name:\"wfsInfo.swapXY\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"swapXY\",void 0),e([a({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:\"name\"}}}})],_.prototype,\"title\",void 0),e([a({json:{read:!1},readOnly:!0})],_.prototype,\"type\",void 0),e([a(E)],_.prototype,\"url\",void 0),e([a({type:String,readOnly:!0,json:{name:\"wfsInfo.version\",write:{ignoreOrigin:!0,isRequired:!0}}})],_.prototype,\"version\",void 0),e([a({aliasOf:\"source.wfsCapabilities\"})],_.prototype,\"wfsCapabilities\",void 0),_=J=e([d(\"esri.layers.WFSLayer\")],_);const k=_;export{k as default};\n"]},"metadata":{},"sourceType":"module"}