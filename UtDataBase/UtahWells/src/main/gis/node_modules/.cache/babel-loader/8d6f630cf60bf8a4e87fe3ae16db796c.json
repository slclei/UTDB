{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../../../../chunks/tslib.es6.js\";\nimport e from \"../../../../Graphic.js\";\nimport { HandleOwner as r } from \"../../../../core/HandleOwner.js\";\nimport { watch as i } from \"../../../../core/reactiveUtils.js\";\nimport { property as s } from \"../../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../../core/arrayUtils.js\";\nimport \"../../../../core/has.js\";\nimport \"../../../../core/accessorSupport/ensureType.js\";\nimport { subclass as o } from \"../../../../core/accessorSupport/decorators/subclass.js\";\nimport { loadImagery as a } from \"./dataUtils.js\";\nimport n from \"./FlowContainer.js\";\nimport l from \"./FlowStrategy.js\";\nimport p from \"./FlowStyle.js\";\nlet h = class extends r {\n  constructor() {\n    super(...arguments), this._loadImagery = (t, e, r, i, s) => a(this.layer, t, e, r, i, s), this._createStreamlinesMesh = (t, e, r) => this.layer.createStreamlinesMesh({\n      flowData: e,\n      rendererSettings: t\n    }, {\n      signal: r\n    }), this.attached = !1, this.container = null, this.layer = null, this.type = \"flow\", this.timeExtent = null, this.redrawOrRefetch = async () => {\n      this._updateVisualization();\n    };\n  }\n\n  get updating() {\n    return !this._strategy || this._strategy.updating;\n  }\n\n  attach() {\n    const {\n      layer: t\n    } = this,\n          e = () => {\n      this._loadImagery = (e, r, i, s, o) => a(t, e, r, i, s, o), this._updateVisualization();\n    };\n\n    \"multidimensionalDefinition\" in t ? this.handles.add(i(() => t.multidimensionalDefinition, e)) : this.handles.add([i(() => t.mosaicRule, e), i(() => t.renderingRule, e), i(() => t.definitionExpression, e)]), this.container = new n(), this._strategy = new l({\n      flowContainer: this.container\n    }), this._updateVisualization();\n  }\n\n  detach() {\n    this._strategy.destroy(), this.container.removeAllChildren(), this.container = null, this.handles.removeAll();\n  }\n\n  update(t) {\n    t.stationary ? this._strategy.update(t) : this.layerView.requestUpdate();\n  }\n\n  hitTest(t) {\n    return new e({\n      attributes: {},\n      geometry: t.clone(),\n      layer: this.layer\n    });\n  }\n\n  moveEnd() {}\n\n  async doRefresh() {}\n\n  _updateVisualization() {\n    if (\"flow\" !== this.layer.renderer.type) return;\n    const t = new p(this._loadImagery, this._createStreamlinesMesh, this.layer.renderer, this.timeExtent);\n    this.container.flowStyle = t, this.layerView.requestUpdate();\n  }\n\n};\nt([s()], h.prototype, \"_strategy\", void 0), t([s()], h.prototype, \"attached\", void 0), t([s()], h.prototype, \"container\", void 0), t([s()], h.prototype, \"layer\", void 0), t([s()], h.prototype, \"layerView\", void 0), t([s()], h.prototype, \"type\", void 0), t([s()], h.prototype, \"updating\", null), t([s()], h.prototype, \"timeExtent\", void 0), h = t([o(\"esri.views.2d.engine.flow.FlowView2D\")], h);\nconst d = h;\nexport { d as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js"],"names":["_","t","e","HandleOwner","r","watch","i","property","s","subclass","o","loadImagery","a","n","l","p","h","constructor","arguments","_loadImagery","layer","_createStreamlinesMesh","createStreamlinesMesh","flowData","rendererSettings","signal","attached","container","type","timeExtent","redrawOrRefetch","_updateVisualization","updating","_strategy","attach","handles","add","multidimensionalDefinition","mosaicRule","renderingRule","definitionExpression","flowContainer","detach","destroy","removeAllChildren","removeAll","update","stationary","layerView","requestUpdate","hitTest","attributes","geometry","clone","moveEnd","doRefresh","renderer","flowStyle","prototype","d","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{loadImagery as a}from\"./dataUtils.js\";import n from\"./FlowContainer.js\";import l from\"./FlowStrategy.js\";import p from\"./FlowStyle.js\";let h=class extends r{constructor(){super(...arguments),this._loadImagery=(t,e,r,i,s)=>a(this.layer,t,e,r,i,s),this._createStreamlinesMesh=(t,e,r)=>this.layer.createStreamlinesMesh({flowData:e,rendererSettings:t},{signal:r}),this.attached=!1,this.container=null,this.layer=null,this.type=\"flow\",this.timeExtent=null,this.redrawOrRefetch=async()=>{this._updateVisualization()}}get updating(){return!this._strategy||this._strategy.updating}attach(){const{layer:t}=this,e=()=>{this._loadImagery=(e,r,i,s,o)=>a(t,e,r,i,s,o),this._updateVisualization()};\"multidimensionalDefinition\"in t?this.handles.add(i((()=>t.multidimensionalDefinition),e)):this.handles.add([i((()=>t.mosaicRule),e),i((()=>t.renderingRule),e),i((()=>t.definitionExpression),e)]),this.container=new n,this._strategy=new l({flowContainer:this.container}),this._updateVisualization()}detach(){this._strategy.destroy(),this.container.removeAllChildren(),this.container=null,this.handles.removeAll()}update(t){t.stationary?this._strategy.update(t):this.layerView.requestUpdate()}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}moveEnd(){}async doRefresh(){}_updateVisualization(){if(\"flow\"!==this.layer.renderer.type)return;const t=new p(this._loadImagery,this._createStreamlinesMesh,this.layer.renderer,this.timeExtent);this.container.flowStyle=t,this.layerView.requestUpdate()}};t([s()],h.prototype,\"_strategy\",void 0),t([s()],h.prototype,\"attached\",void 0),t([s()],h.prototype,\"container\",void 0),t([s()],h.prototype,\"layer\",void 0),t([s()],h.prototype,\"layerView\",void 0),t([s()],h.prototype,\"type\",void 0),t([s()],h.prototype,\"updating\",null),t([s()],h.prototype,\"timeExtent\",void 0),h=t([o(\"esri.views.2d.engine.flow.FlowView2D\")],h);const d=h;export{d as default};\n"]},"metadata":{},"sourceType":"module"}