{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Logger.js\";\nconst t = e.getLogger(\"esri.views.2d.engine.flow.FlowDisplayData\");\n\nclass s {\n  constructor(e, t, s, a) {\n    this.state = {\n      name: \"created\"\n    }, this.flowStyle = e, this.extent = t, this.size = s, this.pixelRatio = a;\n  }\n\n  async load() {\n    const e = new AbortController();\n    this.state = {\n      name: \"loading\",\n      abortController: e\n    };\n    const t = await this.flowStyle.loadResources({\n      extent: this.extent,\n      size: this.size,\n      pixelRatio: this.pixelRatio\n    }, e.signal);\n    this.state = {\n      name: \"loaded\",\n      resources: t\n    };\n  }\n\n  prepareForRendering(e) {\n    if (\"loaded\" !== this.state.name) return void t.error(\"Only loaded resources can be attached.\");\n    const s = this.state.resources;\n    s.prepareForRendering(e), this.state = {\n      name: \"attached\",\n      resources: s\n    };\n  }\n\n  destroy() {\n    if (\"loading\" === this.state.name) return this.state.abortController.abort(), void (this.state = {\n      name: \"detached\"\n    });\n    \"attached\" === this.state.name && (this.state.resources.detach(), this.state = {\n      name: \"detached\"\n    });\n  }\n\n  update(e) {\n    if (!this.flowStyle.areResourcesCompatible(e.flowStyle)) return !1;\n    return !(!this.extent.equals(e.extent) || this.size[0] !== e.size[0] || this.size[1] !== e.size[1] || this.pixelRatio !== e.pixelRatio) && (this.flowStyle = e.flowStyle, !0);\n  }\n\n}\n\nexport { s as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/flow/FlowDisplayData.js"],"names":["e","t","getLogger","s","constructor","a","state","name","flowStyle","extent","size","pixelRatio","load","AbortController","abortController","loadResources","signal","resources","prepareForRendering","error","destroy","abort","detach","update","areResourcesCompatible","equals","default"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,4BAAb;AAA0C,MAAMC,CAAC,GAACD,CAAC,CAACE,SAAF,CAAY,2CAAZ,CAAR;;AAAiE,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACJ,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,EAAS;AAAC,SAAKC,KAAL,GAAW;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAX,EAA4B,KAAKC,SAAL,GAAeR,CAA3C,EAA6C,KAAKS,MAAL,GAAYR,CAAzD,EAA2D,KAAKS,IAAL,GAAUP,CAArE,EAAuE,KAAKQ,UAAL,GAAgBN,CAAvF;AAAyF;;AAAU,QAAJO,IAAI,GAAE;AAAC,UAAMZ,CAAC,GAAC,IAAIa,eAAJ,EAAR;AAA4B,SAAKP,KAAL,GAAW;AAACC,MAAAA,IAAI,EAAC,SAAN;AAAgBO,MAAAA,eAAe,EAACd;AAAhC,KAAX;AAA8C,UAAMC,CAAC,GAAC,MAAM,KAAKO,SAAL,CAAeO,aAAf,CAA6B;AAACN,MAAAA,MAAM,EAAC,KAAKA,MAAb;AAAoBC,MAAAA,IAAI,EAAC,KAAKA,IAA9B;AAAmCC,MAAAA,UAAU,EAAC,KAAKA;AAAnD,KAA7B,EAA4FX,CAAC,CAACgB,MAA9F,CAAd;AAAoH,SAAKV,KAAL,GAAW;AAACC,MAAAA,IAAI,EAAC,QAAN;AAAeU,MAAAA,SAAS,EAAChB;AAAzB,KAAX;AAAuC;;AAAAiB,EAAAA,mBAAmB,CAAClB,CAAD,EAAG;AAAC,QAAG,aAAW,KAAKM,KAAL,CAAWC,IAAzB,EAA8B,OAAO,KAAKN,CAAC,CAACkB,KAAF,CAAQ,wCAAR,CAAZ;AAA8D,UAAMhB,CAAC,GAAC,KAAKG,KAAL,CAAWW,SAAnB;AAA6Bd,IAAAA,CAAC,CAACe,mBAAF,CAAsBlB,CAAtB,GAAyB,KAAKM,KAAL,GAAW;AAACC,MAAAA,IAAI,EAAC,UAAN;AAAiBU,MAAAA,SAAS,EAACd;AAA3B,KAApC;AAAkE;;AAAAiB,EAAAA,OAAO,GAAE;AAAC,QAAG,cAAY,KAAKd,KAAL,CAAWC,IAA1B,EAA+B,OAAO,KAAKD,KAAL,CAAWQ,eAAX,CAA2BO,KAA3B,IAAmC,MAAK,KAAKf,KAAL,GAAW;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAhB,CAA1C;AAA6E,mBAAa,KAAKD,KAAL,CAAWC,IAAxB,KAA+B,KAAKD,KAAL,CAAWW,SAAX,CAAqBK,MAArB,IAA8B,KAAKhB,KAAL,GAAW;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAxE;AAA2F;;AAAAgB,EAAAA,MAAM,CAACvB,CAAD,EAAG;AAAC,QAAG,CAAC,KAAKQ,SAAL,CAAegB,sBAAf,CAAsCxB,CAAC,CAACQ,SAAxC,CAAJ,EAAuD,OAAM,CAAC,CAAP;AAAS,WAAM,EAAE,CAAC,KAAKC,MAAL,CAAYgB,MAAZ,CAAmBzB,CAAC,CAACS,MAArB,CAAD,IAA+B,KAAKC,IAAL,CAAU,CAAV,MAAeV,CAAC,CAACU,IAAF,CAAO,CAAP,CAA9C,IAAyD,KAAKA,IAAL,CAAU,CAAV,MAAeV,CAAC,CAACU,IAAF,CAAO,CAAP,CAAxE,IAAmF,KAAKC,UAAL,KAAkBX,CAAC,CAACW,UAAzG,MAAuH,KAAKH,SAAL,GAAeR,CAAC,CAACQ,SAAjB,EAA2B,CAAC,CAAnJ,CAAN;AAA4J;;AAA1+B;;AAA2+B,SAAOL,CAAC,IAAIuB,OAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";const t=e.getLogger(\"esri.views.2d.engine.flow.FlowDisplayData\");class s{constructor(e,t,s,a){this.state={name:\"created\"},this.flowStyle=e,this.extent=t,this.size=s,this.pixelRatio=a}async load(){const e=new AbortController;this.state={name:\"loading\",abortController:e};const t=await this.flowStyle.loadResources({extent:this.extent,size:this.size,pixelRatio:this.pixelRatio},e.signal);this.state={name:\"loaded\",resources:t}}prepareForRendering(e){if(\"loaded\"!==this.state.name)return void t.error(\"Only loaded resources can be attached.\");const s=this.state.resources;s.prepareForRendering(e),this.state={name:\"attached\",resources:s}}destroy(){if(\"loading\"===this.state.name)return this.state.abortController.abort(),void(this.state={name:\"detached\"});\"attached\"===this.state.name&&(this.state.resources.detach(),this.state={name:\"detached\"})}update(e){if(!this.flowStyle.areResourcesCompatible(e.flowStyle))return!1;return!(!this.extent.equals(e.extent)||this.size[0]!==e.size[0]||this.size[1]!==e.size[1]||this.pixelRatio!==e.pixelRatio)&&(this.flowStyle=e.flowStyle,!0)}}export{s as default};\n"]},"metadata":{},"sourceType":"module"}