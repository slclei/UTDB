{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport { isNone as i } from \"../core/maybe.js\";\nimport { replace as e } from \"../core/string.js\";\nimport { property as s } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/arrayUtils.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as n } from \"../core/accessorSupport/decorators/subclass.js\";\nimport m from \"./Geometry.js\";\nimport r from \"./Point.js\";\nimport a from \"./SpatialReference.js\";\nimport { extentContainsPoint as h, extentContainsExtent as o } from \"./support/contains.js\";\nimport { getFeatureExtentIntersector as x } from \"./support/intersectsBase.js\";\nimport { getInfo as l } from \"./support/spatialReferenceUtils.js\";\nimport { canProject as p, geographicToWebMercator as c, webMercatorToGeographic as y } from \"./support/webMercatorUtils.js\";\nvar u;\n\nfunction f(t) {\n  return t && (\"esri.geometry.SpatialReference\" === t.declaredClass || null != t.wkid);\n}\n\nfunction d(t, i, e) {\n  return null == i ? e : null == e ? i : t(i, e);\n}\n\nlet z = u = class extends m {\n  constructor() {\n    super(...arguments), this.type = \"extent\", this.xmin = 0, this.ymin = 0, this.mmin = void 0, this.zmin = void 0, this.xmax = 0, this.ymax = 0, this.mmax = void 0, this.zmax = void 0;\n  }\n\n  normalizeCtorArgs(t, i, e, s, n) {\n    return f(t) ? {\n      spatialReference: t,\n      xmin: 0,\n      ymin: 0,\n      xmax: 0,\n      ymax: 0\n    } : \"object\" == typeof t ? (t.spatialReference = null == t.spatialReference ? a.WGS84 : t.spatialReference, t) : {\n      xmin: t,\n      ymin: i,\n      xmax: e,\n      ymax: s,\n      spatialReference: null == n ? a.WGS84 : n\n    };\n  }\n\n  static fromBounds(t, i) {\n    return new u({\n      xmin: t[0],\n      ymin: t[1],\n      xmax: t[2],\n      ymax: t[3],\n      spatialReference: i\n    });\n  }\n\n  static fromPoint(t) {\n    return new u({\n      xmin: t.x,\n      ymin: t.y,\n      zmin: t.z,\n      xmax: t.x,\n      ymax: t.y,\n      zmax: t.z,\n      spatialReference: t.spatialReference\n    });\n  }\n\n  get cache() {\n    return this.commitProperty(\"xmin\"), this.commitProperty(\"ymin\"), this.commitProperty(\"zmin\"), this.commitProperty(\"mmin\"), this.commitProperty(\"xmax\"), this.commitProperty(\"ymax\"), this.commitProperty(\"zmax\"), this.commitProperty(\"mmax\"), this.commitProperty(\"spatialReference\"), {};\n  }\n\n  get center() {\n    const t = new r({\n      x: .5 * (this.xmin + this.xmax),\n      y: .5 * (this.ymin + this.ymax),\n      spatialReference: this.spatialReference\n    });\n    return this.hasZ && (t.z = .5 * (this.zmin + this.zmax)), this.hasM && (t.m = .5 * (this.mmin + this.mmax)), t;\n  }\n\n  get extent() {\n    return this.clone();\n  }\n\n  get hasM() {\n    return null != this.mmin && null != this.mmax;\n  }\n\n  get hasZ() {\n    return null != this.zmin && null != this.zmax;\n  }\n\n  get height() {\n    return Math.abs(this.ymax - this.ymin);\n  }\n\n  get width() {\n    return Math.abs(this.xmax - this.xmin);\n  }\n\n  centerAt(t) {\n    const i = this.center;\n    return null != t.z && this.hasZ ? this.offset(t.x - i.x, t.y - i.y, t.z - i.z) : this.offset(t.x - i.x, t.y - i.y);\n  }\n\n  clone() {\n    const t = new u();\n    return t.xmin = this.xmin, t.ymin = this.ymin, t.xmax = this.xmax, t.ymax = this.ymax, t.spatialReference = this.spatialReference, null != this.zmin && (t.zmin = this.zmin, t.zmax = this.zmax), null != this.mmin && (t.mmin = this.mmin, t.mmax = this.mmax), t;\n  }\n\n  contains(t) {\n    if (!t) return !1;\n    const i = this.spatialReference,\n          e = t.spatialReference;\n    return i && e && !i.equals(e) && p(i, e) && (t = i.isWebMercator ? c(t) : y(t, !0)), \"point\" === t.type ? h(this, t) : \"extent\" === t.type && o(this, t);\n  }\n\n  equals(t) {\n    if (this === t) return !0;\n    if (i(t)) return !1;\n    const e = this.spatialReference,\n          s = t.spatialReference;\n    return e && s && !e.equals(s) && p(e, s) && (t = e.isWebMercator ? c(t) : y(t, !0)), this.xmin === t.xmin && this.ymin === t.ymin && this.zmin === t.zmin && this.mmin === t.mmin && this.xmax === t.xmax && this.ymax === t.ymax && this.zmax === t.zmax && this.mmax === t.mmax;\n  }\n\n  expand(t) {\n    const i = .5 * (1 - t),\n          e = this.width * i,\n          s = this.height * i;\n\n    if (this.xmin += e, this.ymin += s, this.xmax -= e, this.ymax -= s, this.hasZ) {\n      const t = (this.zmax - this.zmin) * i;\n      this.zmin += t, this.zmax -= t;\n    }\n\n    if (this.hasM) {\n      const t = (this.mmax - this.mmin) * i;\n      this.mmin += t, this.mmax -= t;\n    }\n\n    return this;\n  }\n\n  intersects(t) {\n    if (i(t)) return !1;\n    \"mesh\" === t.type && (t = t.extent);\n    const e = this.spatialReference,\n          s = t.spatialReference;\n    e && s && !e.equals(s) && p(e, s) && (t = e.isWebMercator ? c(t) : y(t, !0));\n    return x(t.type)(this, t);\n  }\n\n  normalize() {\n    const t = this._normalize(!1, !0);\n\n    return Array.isArray(t) ? t : [t];\n  }\n\n  offset(t, i, e) {\n    return this.xmin += t, this.ymin += i, this.xmax += t, this.ymax += i, null != e && (this.zmin += e, this.zmax += e), this;\n  }\n\n  shiftCentralMeridian() {\n    return this._normalize(!0);\n  }\n\n  union(t) {\n    return this === t || (this.xmin = Math.min(this.xmin, t.xmin), this.ymin = Math.min(this.ymin, t.ymin), this.xmax = Math.max(this.xmax, t.xmax), this.ymax = Math.max(this.ymax, t.ymax), (this.hasZ || t.hasZ) && (this.zmin = d(Math.min, this.zmin, t.zmin), this.zmax = d(Math.max, this.zmax, t.zmax)), (this.hasM || t.hasM) && (this.mmin = d(Math.min, this.mmin, t.mmin), this.mmax = d(Math.max, this.mmax, t.mmax))), this;\n  }\n\n  intersection(t) {\n    return this === t ? this : i(t) || !this.intersects(t) ? null : (this.xmin = Math.max(this.xmin, t.xmin), this.ymin = Math.max(this.ymin, t.ymin), this.xmax = Math.min(this.xmax, t.xmax), this.ymax = Math.min(this.ymax, t.ymax), (this.hasZ || t.hasZ) && (this.zmin = d(Math.max, this.zmin, t.zmin), this.zmax = d(Math.min, this.zmax, t.zmax)), (this.hasM || t.hasM) && (this.mmin = d(Math.max, this.mmin, t.mmin), this.mmax = d(Math.min, this.mmax, t.mmax)), this);\n  }\n\n  toJSON(t) {\n    return this.write({}, t);\n  }\n\n  _shiftCM() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : l(this.spatialReference);\n    if (!t || !this.spatialReference) return this;\n\n    const i = this.spatialReference,\n          s = this._getCM(t);\n\n    if (s) {\n      const n = i.isWebMercator ? y(s) : s;\n      this.xmin -= s.x, this.xmax -= s.x, i.isWebMercator || (n.x = this._normalizeX(n.x, t).x), this.spatialReference = new a(e(i.isWGS84 ? t.altTemplate : t.wkTemplate, {\n        Central_Meridian: n.x\n      }));\n    }\n\n    return this;\n  }\n\n  _getCM(t) {\n    let i = null;\n    const [e, s] = t.valid,\n          n = this.xmin,\n          m = this.xmax;\n    return n >= e && n <= s && m >= e && m <= s || (i = this.center), i;\n  }\n\n  _normalize(t, i, e) {\n    const s = this.spatialReference;\n    if (!s) return this;\n    if (!(e = e || l(s))) return this;\n\n    const n = this._getParts(e).map(t => t.extent);\n\n    if (n.length < 2) return n[0] || this;\n    if (n.length > 2) return t ? this._shiftCM(e) : this.set({\n      xmin: e.valid[0],\n      xmax: e.valid[1]\n    });\n    if (t) return this._shiftCM(e);\n    if (i) return n;\n    let m = !0,\n        r = !0;\n    return n.forEach(t => {\n      t.hasZ || (m = !1), t.hasM || (r = !1);\n    }), {\n      rings: n.map(t => {\n        const i = [[t.xmin, t.ymin], [t.xmin, t.ymax], [t.xmax, t.ymax], [t.xmax, t.ymin], [t.xmin, t.ymin]];\n\n        if (m) {\n          const e = (t.zmax - t.zmin) / 2;\n\n          for (let t = 0; t < i.length; t++) i[t].push(e);\n        }\n\n        if (r) {\n          const e = (t.mmax - t.mmin) / 2;\n\n          for (let t = 0; t < i.length; t++) i[t].push(e);\n        }\n\n        return i;\n      }),\n      hasZ: m,\n      hasM: r,\n      spatialReference: s\n    };\n  }\n\n  _getParts(t) {\n    let i = this.cache._parts;\n\n    if (!i) {\n      i = [];\n      const {\n        ymin: e,\n        ymax: s,\n        spatialReference: n\n      } = this,\n            m = this.width,\n            r = this.xmin,\n            a = this.xmax;\n      let h;\n      t = t || l(n);\n      const [o, x] = t.valid;\n      h = this._normalizeX(this.xmin, t);\n      const p = h.x,\n            c = h.frameId;\n      h = this._normalizeX(this.xmax, t);\n      const y = h.x,\n            f = h.frameId,\n            d = p === y && m > 0;\n\n      if (m > 2 * x) {\n        const t = new u(r < a ? p : y, e, x, s, n),\n              m = new u(o, e, r < a ? y : p, s, n),\n              h = new u(0, e, x, s, n),\n              l = new u(o, e, 0, s, n),\n              d = [],\n              z = [];\n        t.contains(h) && d.push(c), t.contains(l) && z.push(c), m.contains(h) && d.push(f), m.contains(l) && z.push(f);\n\n        for (let i = c + 1; i < f; i++) d.push(i), z.push(i);\n\n        i.push({\n          extent: t,\n          frameIds: [c]\n        }, {\n          extent: m,\n          frameIds: [f]\n        }, {\n          extent: h,\n          frameIds: d\n        }, {\n          extent: l,\n          frameIds: z\n        });\n      } else p > y || d ? i.push({\n        extent: new u(p, e, x, s, n),\n        frameIds: [c]\n      }, {\n        extent: new u(o, e, y, s, n),\n        frameIds: [f]\n      }) : i.push({\n        extent: new u(p, e, y, s, n),\n        frameIds: [c]\n      });\n\n      this.cache._parts = i;\n    }\n\n    const e = this.hasZ,\n          s = this.hasM;\n\n    if (e || s) {\n      const t = {};\n      e && (t.zmin = this.zmin, t.zmax = this.zmax), s && (t.mmin = this.mmin, t.mmax = this.mmax);\n\n      for (let e = 0; e < i.length; e++) i[e].extent.set(t);\n    }\n\n    return i;\n  }\n\n  _normalizeX(t, i) {\n    const [e, s] = i.valid,\n          n = 2 * s;\n    let m,\n        r = 0;\n    return t > s ? (m = Math.ceil(Math.abs(t - s) / n), t -= m * n, r = m) : t < e && (m = Math.ceil(Math.abs(t - e) / n), t += m * n, r = -m), {\n      x: t,\n      frameId: r\n    };\n  }\n\n};\nt([s({\n  readOnly: !0\n})], z.prototype, \"cache\", null), t([s({\n  readOnly: !0\n})], z.prototype, \"center\", null), t([s({\n  readOnly: !0\n})], z.prototype, \"extent\", null), t([s({\n  readOnly: !0,\n  json: {\n    write: {\n      enabled: !1,\n      overridePolicy: null\n    }\n  }\n})], z.prototype, \"hasM\", null), t([s({\n  readOnly: !0,\n  json: {\n    write: {\n      enabled: !1,\n      overridePolicy: null\n    }\n  }\n})], z.prototype, \"hasZ\", null), t([s({\n  readOnly: !0\n})], z.prototype, \"height\", null), t([s({\n  readOnly: !0\n})], z.prototype, \"width\", null), t([s({\n  type: Number,\n  json: {\n    type: [Number, String],\n    write: {\n      enabled: !0,\n      allowNull: !0\n    }\n  }\n})], z.prototype, \"xmin\", void 0), t([s({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], z.prototype, \"ymin\", void 0), t([s({\n  type: Number,\n  json: {\n    origins: {\n      \"web-scene\": {\n        write: !1\n      }\n    },\n    write: {\n      overridePolicy() {\n        return {\n          enabled: this.hasM\n        };\n      }\n\n    }\n  }\n})], z.prototype, \"mmin\", void 0), t([s({\n  type: Number,\n  json: {\n    origins: {\n      \"web-scene\": {\n        write: !1\n      }\n    },\n    write: {\n      overridePolicy() {\n        return {\n          enabled: this.hasZ\n        };\n      }\n\n    }\n  }\n})], z.prototype, \"zmin\", void 0), t([s({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], z.prototype, \"xmax\", void 0), t([s({\n  type: Number,\n  json: {\n    write: !0\n  }\n})], z.prototype, \"ymax\", void 0), t([s({\n  type: Number,\n  json: {\n    origins: {\n      \"web-scene\": {\n        write: !1\n      }\n    },\n    write: {\n      overridePolicy() {\n        return {\n          enabled: this.hasM\n        };\n      }\n\n    }\n  }\n})], z.prototype, \"mmax\", void 0), t([s({\n  type: Number,\n  json: {\n    origins: {\n      \"web-scene\": {\n        write: !1\n      }\n    },\n    write: {\n      overridePolicy() {\n        return {\n          enabled: this.hasZ\n        };\n      }\n\n    }\n  }\n})], z.prototype, \"zmax\", void 0), z = u = t([n(\"esri.geometry.Extent\")], z), z.prototype.toJSON.isDefaultToJSON = !0;\nconst M = z;\nexport { M as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/geometry/Extent.js"],"names":["_","t","isNone","i","replace","e","property","s","subclass","n","m","r","a","extentContainsPoint","h","extentContainsExtent","o","getFeatureExtentIntersector","x","getInfo","l","canProject","p","geographicToWebMercator","c","webMercatorToGeographic","y","u","f","declaredClass","wkid","d","z","constructor","type","xmin","ymin","mmin","zmin","xmax","ymax","mmax","zmax","normalizeCtorArgs","spatialReference","WGS84","fromBounds","fromPoint","cache","commitProperty","center","hasZ","hasM","extent","clone","height","Math","abs","width","centerAt","offset","contains","equals","isWebMercator","expand","intersects","normalize","_normalize","Array","isArray","shiftCentralMeridian","union","min","max","intersection","toJSON","write","_shiftCM","_getCM","_normalizeX","isWGS84","altTemplate","wkTemplate","Central_Meridian","valid","_getParts","map","length","set","forEach","rings","push","_parts","frameId","frameIds","ceil","readOnly","prototype","json","enabled","overridePolicy","Number","String","allowNull","origins","isDefaultToJSON","M","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{isNone as i}from\"../core/maybe.js\";import{replace as e}from\"../core/string.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import m from\"./Geometry.js\";import r from\"./Point.js\";import a from\"./SpatialReference.js\";import{extentContainsPoint as h,extentContainsExtent as o}from\"./support/contains.js\";import{getFeatureExtentIntersector as x}from\"./support/intersectsBase.js\";import{getInfo as l}from\"./support/spatialReferenceUtils.js\";import{canProject as p,geographicToWebMercator as c,webMercatorToGeographic as y}from\"./support/webMercatorUtils.js\";var u;function f(t){return t&&(\"esri.geometry.SpatialReference\"===t.declaredClass||null!=t.wkid)}function d(t,i,e){return null==i?e:null==e?i:t(i,e)}let z=u=class extends m{constructor(...t){super(...t),this.type=\"extent\",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,i,e,s,n){return f(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:\"object\"==typeof t?(t.spatialReference=null==t.spatialReference?a.WGS84:t.spatialReference,t):{xmin:t,ymin:i,xmax:e,ymax:s,spatialReference:null==n?a.WGS84:n}}static fromBounds(t,i){return new u({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:i})}static fromPoint(t){return new u({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty(\"xmin\"),this.commitProperty(\"ymin\"),this.commitProperty(\"zmin\"),this.commitProperty(\"mmin\"),this.commitProperty(\"xmax\"),this.commitProperty(\"ymax\"),this.commitProperty(\"zmax\"),this.commitProperty(\"mmax\"),this.commitProperty(\"spatialReference\"),{}}get center(){const t=new r({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const i=this.center;return null!=t.z&&this.hasZ?this.offset(t.x-i.x,t.y-i.y,t.z-i.z):this.offset(t.x-i.x,t.y-i.y)}clone(){const t=new u;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,null!=this.zmin&&(t.zmin=this.zmin,t.zmax=this.zmax),null!=this.mmin&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const i=this.spatialReference,e=t.spatialReference;return i&&e&&!i.equals(e)&&p(i,e)&&(t=i.isWebMercator?c(t):y(t,!0)),\"point\"===t.type?h(this,t):\"extent\"===t.type&&o(this,t)}equals(t){if(this===t)return!0;if(i(t))return!1;const e=this.spatialReference,s=t.spatialReference;return e&&s&&!e.equals(s)&&p(e,s)&&(t=e.isWebMercator?c(t):y(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const i=.5*(1-t),e=this.width*i,s=this.height*i;if(this.xmin+=e,this.ymin+=s,this.xmax-=e,this.ymax-=s,this.hasZ){const t=(this.zmax-this.zmin)*i;this.zmin+=t,this.zmax-=t}if(this.hasM){const t=(this.mmax-this.mmin)*i;this.mmin+=t,this.mmax-=t}return this}intersects(t){if(i(t))return!1;\"mesh\"===t.type&&(t=t.extent);const e=this.spatialReference,s=t.spatialReference;e&&s&&!e.equals(s)&&p(e,s)&&(t=e.isWebMercator?c(t):y(t,!0));return x(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,i,e){return this.xmin+=t,this.ymin+=i,this.xmax+=t,this.ymax+=i,null!=e&&(this.zmin+=e,this.zmax+=e),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=d(Math.min,this.zmin,t.zmin),this.zmax=d(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=d(Math.min,this.mmin,t.mmin),this.mmax=d(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:i(t)||!this.intersects(t)?null:(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=d(Math.max,this.zmin,t.zmin),this.zmax=d(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=d(Math.max,this.mmin,t.mmin),this.mmax=d(Math.min,this.mmax,t.mmax)),this)}toJSON(t){return this.write({},t)}_shiftCM(t=l(this.spatialReference)){if(!t||!this.spatialReference)return this;const i=this.spatialReference,s=this._getCM(t);if(s){const n=i.isWebMercator?y(s):s;this.xmin-=s.x,this.xmax-=s.x,i.isWebMercator||(n.x=this._normalizeX(n.x,t).x),this.spatialReference=new a(e(i.isWGS84?t.altTemplate:t.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(t){let i=null;const[e,s]=t.valid,n=this.xmin,m=this.xmax;return n>=e&&n<=s&&(m>=e&&m<=s)||(i=this.center),i}_normalize(t,i,e){const s=this.spatialReference;if(!s)return this;if(!(e=e||l(s)))return this;const n=this._getParts(e).map((t=>t.extent));if(n.length<2)return n[0]||this;if(n.length>2)return t?this._shiftCM(e):this.set({xmin:e.valid[0],xmax:e.valid[1]});if(t)return this._shiftCM(e);if(i)return n;let m=!0,r=!0;return n.forEach((t=>{t.hasZ||(m=!1),t.hasM||(r=!1)})),{rings:n.map((t=>{const i=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(m){const e=(t.zmax-t.zmin)/2;for(let t=0;t<i.length;t++)i[t].push(e)}if(r){const e=(t.mmax-t.mmin)/2;for(let t=0;t<i.length;t++)i[t].push(e)}return i})),hasZ:m,hasM:r,spatialReference:s}}_getParts(t){let i=this.cache._parts;if(!i){i=[];const{ymin:e,ymax:s,spatialReference:n}=this,m=this.width,r=this.xmin,a=this.xmax;let h;t=t||l(n);const[o,x]=t.valid;h=this._normalizeX(this.xmin,t);const p=h.x,c=h.frameId;h=this._normalizeX(this.xmax,t);const y=h.x,f=h.frameId,d=p===y&&m>0;if(m>2*x){const t=new u(r<a?p:y,e,x,s,n),m=new u(o,e,r<a?y:p,s,n),h=new u(0,e,x,s,n),l=new u(o,e,0,s,n),d=[],z=[];t.contains(h)&&d.push(c),t.contains(l)&&z.push(c),m.contains(h)&&d.push(f),m.contains(l)&&z.push(f);for(let i=c+1;i<f;i++)d.push(i),z.push(i);i.push({extent:t,frameIds:[c]},{extent:m,frameIds:[f]},{extent:h,frameIds:d},{extent:l,frameIds:z})}else p>y||d?i.push({extent:new u(p,e,x,s,n),frameIds:[c]},{extent:new u(o,e,y,s,n),frameIds:[f]}):i.push({extent:new u(p,e,y,s,n),frameIds:[c]});this.cache._parts=i}const e=this.hasZ,s=this.hasM;if(e||s){const t={};e&&(t.zmin=this.zmin,t.zmax=this.zmax),s&&(t.mmin=this.mmin,t.mmax=this.mmax);for(let e=0;e<i.length;e++)i[e].extent.set(t)}return i}_normalizeX(t,i){const[e,s]=i.valid,n=2*s;let m,r=0;return t>s?(m=Math.ceil(Math.abs(t-s)/n),t-=m*n,r=m):t<e&&(m=Math.ceil(Math.abs(t-e)/n),t+=m*n,r=-m),{x:t,frameId:r}}};t([s({readOnly:!0})],z.prototype,\"cache\",null),t([s({readOnly:!0})],z.prototype,\"center\",null),t([s({readOnly:!0})],z.prototype,\"extent\",null),t([s({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],z.prototype,\"hasM\",null),t([s({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],z.prototype,\"hasZ\",null),t([s({readOnly:!0})],z.prototype,\"height\",null),t([s({readOnly:!0})],z.prototype,\"width\",null),t([s({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],z.prototype,\"xmin\",void 0),t([s({type:Number,json:{write:!0}})],z.prototype,\"ymin\",void 0),t([s({type:Number,json:{origins:{\"web-scene\":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],z.prototype,\"mmin\",void 0),t([s({type:Number,json:{origins:{\"web-scene\":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],z.prototype,\"zmin\",void 0),t([s({type:Number,json:{write:!0}})],z.prototype,\"xmax\",void 0),t([s({type:Number,json:{write:!0}})],z.prototype,\"ymax\",void 0),t([s({type:Number,json:{origins:{\"web-scene\":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],z.prototype,\"mmax\",void 0),t([s({type:Number,json:{origins:{\"web-scene\":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],z.prototype,\"zmax\",void 0),z=u=t([n(\"esri.geometry.Extent\")],z),z.prototype.toJSON.isDefaultToJSON=!0;const M=z;export{M as default};\n"]},"metadata":{},"sourceType":"module"}