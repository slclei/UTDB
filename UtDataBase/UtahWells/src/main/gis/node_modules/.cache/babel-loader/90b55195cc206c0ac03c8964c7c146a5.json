{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport { setDeepValue as t } from \"../../core/object.js\";\nimport { parse as r } from \"./parser.js\";\nimport { isEffectFunctions as s } from \"./utils.js\";\n\nfunction n(e, t, r) {\n  try {\n    return c(e);\n  } catch (n) {\n    var s;\n    null == r || null == (s = r.messages) || s.push(n);\n  }\n\n  return null;\n}\n\nfunction a(e, r, s, n) {\n  try {\n    const n = o(e);\n    t(s, n, r);\n  } catch (a) {\n    n.messages && n.messages.push(a);\n  }\n}\n\nfunction o(e) {\n  const t = r(e);\n  return t ? s(t) ? t.map(e => e.toJSON()) : t.map(_ref => {\n    let {\n      scale: e,\n      effects: t\n    } = _ref;\n    return {\n      scale: e,\n      value: t.map(e => e.toJSON())\n    };\n  }) : null;\n}\n\nfunction c(e) {\n  if (!e || 0 === e.length) return null;\n\n  if (u(e)) {\n    const t = [];\n\n    for (const r of e) t.push({\n      scale: r.scale,\n      value: f(r.value)\n    });\n\n    return t;\n  }\n\n  return f(e);\n}\n\nfunction u(e) {\n  const t = e[0];\n  return !!t && \"scale\" in t;\n}\n\nfunction f(e) {\n  if (!e || !e.length) return \"\";\n  const t = [];\n\n  for (const s of e) {\n    let e = [];\n\n    switch (s.type) {\n      case \"grayscale\":\n      case \"sepia\":\n      case \"saturate\":\n      case \"invert\":\n      case \"brightness\":\n      case \"contrast\":\n      case \"opacity\":\n        e = [i(s, \"amount\")];\n        break;\n\n      case \"blur\":\n        e = [i(s, \"radius\", \"pt\")];\n        break;\n\n      case \"hue-rotate\":\n        e = [i(s, \"angle\", \"deg\")];\n        break;\n\n      case \"drop-shadow\":\n        e = [i(s, \"xoffset\", \"pt\"), i(s, \"yoffset\", \"pt\"), i(s, \"blurRadius\", \"pt\"), l(s, \"color\")];\n        break;\n\n      case \"bloom\":\n        e = [i(s, \"strength\"), i(s, \"radius\", \"pt\"), i(s, \"threshold\")];\n    }\n\n    const n = `${s.type}(${e.filter(Boolean).join(\" \")})`;\n    r(n), t.push(n);\n  }\n\n  return t.join(\" \");\n}\n\nfunction i(t, r, s) {\n  if (null == t[r]) throw new e(\"effect:missing-parameter\", `Missing parameter '${r}' in ${t.type} effect`, {\n    effect: t\n  });\n  return s ? t[r] + s : \"\" + t[r];\n}\n\nfunction l(t, r) {\n  if (null == t[r]) throw new e(\"effect:missing-parameter\", `Missing parameter '${r}' in ${t.type} effect`, {\n    effect: t\n  });\n  const s = t[r];\n  return `rgba(${s[0] || 0}, ${s[1] || 0}, ${s[2] || 0}, ${s[3] / 255 || 0})`;\n}\n\nexport { f as effectFunctionsFromJSON, c as fromJSON, n as read, o as toJSON, a as write };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/layers/effects/jsonUtils.js"],"names":["e","setDeepValue","t","parse","r","isEffectFunctions","s","n","c","messages","push","a","o","map","toJSON","scale","effects","value","length","u","f","type","i","l","filter","Boolean","join","effect","effectFunctionsFromJSON","fromJSON","read","write"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{setDeepValue as t}from\"../../core/object.js\";import{parse as r}from\"./parser.js\";import{isEffectFunctions as s}from\"./utils.js\";function n(e,t,r){try{return c(e)}catch(n){var s;null==r||null==(s=r.messages)||s.push(n)}return null}function a(e,r,s,n){try{const n=o(e);t(s,n,r)}catch(a){n.messages&&n.messages.push(a)}}function o(e){const t=r(e);return t?s(t)?t.map((e=>e.toJSON())):t.map((({scale:e,effects:t})=>({scale:e,value:t.map((e=>e.toJSON()))}))):null}function c(e){if(!e||0===e.length)return null;if(u(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:f(r.value)});return t}return f(e)}function u(e){const t=e[0];return!!t&&\"scale\"in t}function f(e){if(!e||!e.length)return\"\";const t=[];for(const s of e){let e=[];switch(s.type){case\"grayscale\":case\"sepia\":case\"saturate\":case\"invert\":case\"brightness\":case\"contrast\":case\"opacity\":e=[i(s,\"amount\")];break;case\"blur\":e=[i(s,\"radius\",\"pt\")];break;case\"hue-rotate\":e=[i(s,\"angle\",\"deg\")];break;case\"drop-shadow\":e=[i(s,\"xoffset\",\"pt\"),i(s,\"yoffset\",\"pt\"),i(s,\"blurRadius\",\"pt\"),l(s,\"color\")];break;case\"bloom\":e=[i(s,\"strength\"),i(s,\"radius\",\"pt\"),i(s,\"threshold\")]}const n=`${s.type}(${e.filter(Boolean).join(\" \")})`;r(n),t.push(n)}return t.join(\" \")}function i(t,r,s){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});return s?t[r]+s:\"\"+t[r]}function l(t,r){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});const s=t[r];return`rgba(${s[0]||0}, ${s[1]||0}, ${s[2]||0}, ${s[3]/255||0})`}export{f as effectFunctionsFromJSON,c as fromJSON,n as read,o as toJSON,a as write};\n"]},"metadata":{},"sourceType":"module"}