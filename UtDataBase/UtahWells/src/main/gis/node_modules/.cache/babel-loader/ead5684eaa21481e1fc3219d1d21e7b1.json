{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { ArcView } from './ArcBase';\nvar eventMap = {\n  onClick: 'click',\n  onDoubleClick: 'double-click',\n  onDrag: 'drag',\n  onHold: 'hold',\n  onKeyDown: 'key-down',\n  onKeyUp: 'key-up',\n  onLayerViewCreate: 'layerview-create',\n  onLayerViewDestroy: 'layerview-destroy',\n  onMouseWheel: 'mouse-wheel',\n  onPointerDown: 'pointer-down',\n  onPointerMove: 'pointer-move',\n  onPointerUp: 'pointer-up',\n  onResize: 'resize'\n};\nexport var MapBase = function (props) {\n  return React.createElement(ArcView, __assign({}, props, {\n    loadMap: function (_a, containerId) {\n      var Map = _a[0],\n          View = _a[1];\n      var mapData = new Promise(function (resolve, reject) {\n        try {\n          var map_1 = new Map(props.mapProperties); // Make the map\n\n          var viewProperties = __assign({\n            map: map_1,\n            container: containerId\n          }, props.viewProperties);\n\n          var view_1 = new View(viewProperties); // Make the view\n\n          var typedView_1 = view_1;\n          Object.keys(eventMap).forEach(function (key) {\n            if (props[key]) {\n              typedView_1.on(eventMap[key], props[key]);\n            }\n          });\n          view_1.when(function () {\n            resolve({\n              map: map_1,\n              view: view_1\n            });\n          }, function (err) {\n            reject(err);\n          });\n        } catch (err) {\n          reject(err);\n        }\n      });\n      return mapData;\n    }\n  }));\n};\nexport var WebBase = function (props) {\n  return React.createElement(ArcView, __assign({}, props, {\n    loadMap: function (_a, containerId) {\n      var WebConstructor = _a[0],\n          ViewConstructor = _a[1],\n          all = _a[2];\n      var mapData = new Promise(function (resolve, reject) {\n        try {\n          var map_2 = new WebConstructor(__assign({\n            portalItem: {\n              id: props.id\n            }\n          }, props.mapProperties));\n          map_2.load().then(function () {\n            return map_2.basemap.load();\n          }).then(function () {\n            var allLayers = map_2.allLayers;\n            var promises = allLayers.map(function (layer) {\n              return layer.load();\n            });\n            return all(promises.toArray());\n          }).then(function () {\n            var view = new ViewConstructor(__assign({\n              container: containerId,\n              map: map_2\n            }, props.viewProperties));\n            Object.keys(eventMap).forEach(function (key) {\n              if (props[key]) {\n                view.on(eventMap[key], props[key]);\n              }\n            });\n            resolve({\n              map: map_2,\n              view: view\n            });\n          }).catch(function (err) {\n            reject(err);\n          });\n        } catch (err) {\n          reject(err);\n        }\n      });\n      return mapData;\n    }\n  }));\n};","map":{"version":3,"mappings":"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","names":["React","ArcView","eventMap","onClick","onDoubleClick","onDrag","onHold","onKeyDown","onKeyUp","onLayerViewCreate","onLayerViewDestroy","onMouseWheel","onPointerDown","onPointerMove","onPointerUp","onResize","MapBase","props","__assign","loadMap","_a","containerId","Map","View","mapData","Promise","resolve","reject","map_1","mapProperties","viewProperties","map","container","view_1","typedView_1","Object","keys","forEach","key","on","when","view","err","WebBase","WebConstructor","ViewConstructor","all","map_2","portalItem","id","load","then","basemap","allLayers","promises","layer","toArray","catch"],"sources":["../../../src/ts/components/ArcComposites.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}