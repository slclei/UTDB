{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { s as t, m as s } from \"../../../../chunks/mat3.js\";\nimport { c as e } from \"../../../../chunks/mat3f32.js\";\nimport { RasterVFDisplayObject as a } from \"./RasterVFDisplayObject.js\";\nimport { TiledDisplayObject as i } from \"../webgl/TiledDisplayObject.js\";\n\nclass r extends i {\n  constructor(t, s, e, i, r) {\n    let o = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n    super(t, s, e, i, r), this.tileData = new a(o), this.tileData.coordScale = [i, r], this.tileData.once(\"isReady\", () => this.ready());\n  }\n\n  destroy() {\n    super.destroy(), this.tileData.destroy(), this.tileData = null, this.stage = null;\n  }\n\n  set stencilRef(t) {\n    this.tileData.stencilRef = t;\n  }\n\n  get stencilRef() {\n    return this.tileData.stencilRef;\n  }\n\n  _createTransforms() {\n    return {\n      dvs: e(),\n      tileMat3: e()\n    };\n  }\n\n  setTransform(e, a) {\n    super.setTransform(e, a);\n    const i = a / (e.resolution * e.pixelRatio),\n          r = this.transforms.tileMat3,\n          [o, l] = this.tileData.offset,\n          h = [this.x + o * a, this.y - l * a],\n          [n, f] = e.toScreenNoRotation([0, 0], h),\n          {\n      symbolTileSize: m\n    } = this.tileData.symbolizerParameters,\n          c = Math.round((this.width - this.tileData.offset[0]) / m) * m,\n          D = Math.round((this.height - this.tileData.offset[1]) / m) * m,\n          d = c / this.rangeX * i,\n          u = D / this.rangeY * i;\n    t(r, d, 0, 0, 0, u, 0, n, f, 1), s(this.transforms.dvs, e.displayViewMat3, r), this.tileData.transforms.dvs = this.transforms.dvs;\n  }\n\n  onAttach() {\n    this.tileData.stage = this.stage;\n  }\n\n  onDetach() {\n    this.tileData.stage = null;\n  }\n\n}\n\nexport { r as RasterVFTile };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTile.js"],"names":["s","t","m","c","e","RasterVFDisplayObject","a","TiledDisplayObject","i","r","constructor","o","tileData","coordScale","once","ready","destroy","stage","stencilRef","_createTransforms","dvs","tileMat3","setTransform","resolution","pixelRatio","transforms","l","offset","h","x","y","n","f","toScreenNoRotation","symbolTileSize","symbolizerParameters","Math","round","width","D","height","d","rangeX","u","rangeY","displayViewMat3","onAttach","onDetach","RasterVFTile"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{c as e}from\"../../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as a}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as i}from\"../webgl/TiledDisplayObject.js\";class r extends i{constructor(t,s,e,i,r,o=null){super(t,s,e,i,r),this.tileData=new a(o),this.tileData.coordScale=[i,r],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e,a){super.setTransform(e,a);const i=a/(e.resolution*e.pixelRatio),r=this.transforms.tileMat3,[o,l]=this.tileData.offset,h=[this.x+o*a,this.y-l*a],[n,f]=e.toScreenNoRotation([0,0],h),{symbolTileSize:m}=this.tileData.symbolizerParameters,c=Math.round((this.width-this.tileData.offset[0])/m)*m,D=Math.round((this.height-this.tileData.offset[1])/m)*m,d=c/this.rangeX*i,u=D/this.rangeY*i;t(r,d,0,0,0,u,0,n,f,1),s(this.transforms.dvs,e.displayViewMat3,r),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n"]},"metadata":{},"sourceType":"module"}