{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { isSome as r } from \"../core/maybe.js\";\nimport { makeAbsolute as e, makeRelative as t, isAbsolute as o, normalize as s, isDataProtocol as l, changeDomain as a, hasSameOrigin as u, getAppUrl as n } from \"../core/urlUtils.js\";\n\nfunction c(r, o) {\n  const s = o && o.url && o.url.path;\n\n  if (r && s && (r = e(r, s, {\n    preserveProtocolRelative: !0\n  }), o.portalItem && o.readResourcePaths)) {\n    const e = t(r, o.portalItem.itemUrl);\n    h.test(e) && o.readResourcePaths.push(o.portalItem.resourceFromPath(e).path);\n  }\n\n  return I(r, o && o.portal);\n}\n\nfunction i(r, a) {\n  let u = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : R.YES;\n  if (!r) return r;\n  !o(r) && a && a.blockedRelativeUrls && a.blockedRelativeUrls.push(r);\n  let n = e(r);\n\n  if (a) {\n    const e = a.verifyItemRelativeUrls && a.verifyItemRelativeUrls.rootPath || a.url && a.url.path;\n\n    if (e) {\n      const o = I(e, a.portal);\n      n = t(I(n, a.portal), o, o), n !== r && a.verifyItemRelativeUrls && a.verifyItemRelativeUrls.writtenUrls.push(n);\n    }\n  }\n\n  return n = U(n, a && a.portal), o(n) && (n = s(n)), null != a && a.resources && null != a && a.portalItem && !o(n) && !l(n) && u === R.YES && a.resources.toKeep.push({\n    resource: a.portalItem.resourceFromPath(n)\n  }), n;\n}\n\nfunction m(r, e, t) {\n  return c(r, t);\n}\n\nfunction p(r, e, t, o) {\n  const s = i(r, o);\n  void 0 !== s && (e[t] = s);\n}\n\nconst f = /\\/items\\/([^\\/]+)\\/resources\\//,\n      h = /^\\.\\/resources\\//;\n\nfunction v(e) {\n  const t = r(e) ? e.match(f) : null;\n  return r(t) ? t[1] : null;\n}\n\nfunction U(r, e) {\n  return e && !e.isPortal && e.urlKey && e.customBaseUrl ? a(r, `${e.urlKey}.${e.customBaseUrl}`, e.portalHostname) : r;\n}\n\nfunction I(r, e) {\n  if (!e || e.isPortal || !e.urlKey || !e.customBaseUrl) return r;\n  const t = `${e.urlKey}.${e.customBaseUrl}`,\n        o = n();\n  return u(o, `${o.scheme}://${t}`) ? a(r, e.portalHostname, t) : a(r, t, e.portalHostname);\n}\n\nvar R;\n!function (r) {\n  r[r.YES = 0] = \"YES\", r[r.NO = 1] = \"NO\";\n}(R || (R = {}));\nconst y = Object.freeze({\n  __proto__: null,\n  fromJSON: c,\n  toJSON: i,\n  read: m,\n  write: p,\n  itemIdFromResourceUrl: v,\n\n  get MarkKeep() {\n    return R;\n  }\n\n});\nexport { R as M, c as f, v as i, y as p, m as r, i as t, p as w };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/chunks/persistableUrlUtils.js"],"names":["isSome","r","makeAbsolute","e","makeRelative","t","isAbsolute","o","normalize","s","isDataProtocol","l","changeDomain","a","hasSameOrigin","u","getAppUrl","n","c","url","path","preserveProtocolRelative","portalItem","readResourcePaths","itemUrl","h","test","push","resourceFromPath","I","portal","i","R","YES","blockedRelativeUrls","verifyItemRelativeUrls","rootPath","writtenUrls","U","resources","toKeep","resource","m","p","f","v","match","isPortal","urlKey","customBaseUrl","portalHostname","scheme","NO","y","Object","freeze","__proto__","fromJSON","toJSON","read","write","itemIdFromResourceUrl","MarkKeep","M","w"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../core/maybe.js\";import{makeAbsolute as e,makeRelative as t,isAbsolute as o,normalize as s,isDataProtocol as l,changeDomain as a,hasSameOrigin as u,getAppUrl as n}from\"../core/urlUtils.js\";function c(r,o){const s=o&&o.url&&o.url.path;if(r&&s&&(r=e(r,s,{preserveProtocolRelative:!0}),o.portalItem&&o.readResourcePaths)){const e=t(r,o.portalItem.itemUrl);h.test(e)&&o.readResourcePaths.push(o.portalItem.resourceFromPath(e).path)}return I(r,o&&o.portal)}function i(r,a,u=R.YES){if(!r)return r;!o(r)&&a&&a.blockedRelativeUrls&&a.blockedRelativeUrls.push(r);let n=e(r);if(a){const e=a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.rootPath||a.url&&a.url.path;if(e){const o=I(e,a.portal);n=t(I(n,a.portal),o,o),n!==r&&a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=U(n,a&&a.portal),o(n)&&(n=s(n)),null!=a&&a.resources&&null!=a&&a.portalItem&&!o(n)&&!l(n)&&u===R.YES&&a.resources.toKeep.push({resource:a.portalItem.resourceFromPath(n)}),n}function m(r,e,t){return c(r,t)}function p(r,e,t,o){const s=i(r,o);void 0!==s&&(e[t]=s)}const f=/\\/items\\/([^\\/]+)\\/resources\\//,h=/^\\.\\/resources\\//;function v(e){const t=r(e)?e.match(f):null;return r(t)?t[1]:null}function U(r,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?a(r,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):r}function I(r,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return r;const t=`${e.urlKey}.${e.customBaseUrl}`,o=n();return u(o,`${o.scheme}://${t}`)?a(r,e.portalHostname,t):a(r,t,e.portalHostname)}var R;!function(r){r[r.YES=0]=\"YES\",r[r.NO=1]=\"NO\"}(R||(R={}));const y=Object.freeze({__proto__:null,fromJSON:c,toJSON:i,read:m,write:p,itemIdFromResourceUrl:v,get MarkKeep(){return R}});export{R as M,c as f,v as i,y as p,m as r,i as t,p as w};\n"]},"metadata":{},"sourceType":"module"}