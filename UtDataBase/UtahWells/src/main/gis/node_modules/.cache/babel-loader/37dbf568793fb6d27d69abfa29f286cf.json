{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport { symbolTypesLabel as r, symbolTypesLabel3D as t } from \"../../symbols.js\";\nimport { JSONMap as o } from \"../../core/jsonMap.js\";\nimport { JSONSupport as n } from \"../../core/JSONSupport.js\";\nimport { clone as i } from \"../../core/lang.js\";\nimport { toPt as s } from \"../../core/screenUtils.js\";\nimport { property as l } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport { reader as a } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as p } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as c } from \"../../core/accessorSupport/decorators/writer.js\";\nimport b from \"./LabelExpressionInfo.js\";\nimport { templateStringToSql as u, getSingleFieldArcadeExpression as m, getLabelExpression as v, getLabelExpressionArcade as f, getLabelExpressionSingleField as w } from \"./labelUtils.js\";\nimport { defaultTextSymbol2D as S } from \"../../symbols/support/defaults.js\";\nimport { writeLabelSymbol as h } from \"../../symbols/support/jsonUtils.js\";\nvar d;\nconst y = new o({\n  esriServerPointLabelPlacementAboveCenter: \"above-center\",\n  esriServerPointLabelPlacementAboveLeft: \"above-left\",\n  esriServerPointLabelPlacementAboveRight: \"above-right\",\n  esriServerPointLabelPlacementBelowCenter: \"below-center\",\n  esriServerPointLabelPlacementBelowLeft: \"below-left\",\n  esriServerPointLabelPlacementBelowRight: \"below-right\",\n  esriServerPointLabelPlacementCenterCenter: \"center-center\",\n  esriServerPointLabelPlacementCenterLeft: \"center-left\",\n  esriServerPointLabelPlacementCenterRight: \"center-right\",\n  esriServerLinePlacementAboveAfter: \"above-after\",\n  esriServerLinePlacementAboveAlong: \"above-along\",\n  esriServerLinePlacementAboveBefore: \"above-before\",\n  esriServerLinePlacementAboveStart: \"above-start\",\n  esriServerLinePlacementAboveEnd: \"above-end\",\n  esriServerLinePlacementBelowAfter: \"below-after\",\n  esriServerLinePlacementBelowAlong: \"below-along\",\n  esriServerLinePlacementBelowBefore: \"below-before\",\n  esriServerLinePlacementBelowStart: \"below-start\",\n  esriServerLinePlacementBelowEnd: \"below-end\",\n  esriServerLinePlacementCenterAfter: \"center-after\",\n  esriServerLinePlacementCenterAlong: \"center-along\",\n  esriServerLinePlacementCenterBefore: \"center-before\",\n  esriServerLinePlacementCenterStart: \"center-start\",\n  esriServerLinePlacementCenterEnd: \"center-end\",\n  esriServerPolygonPlacementAlwaysHorizontal: \"always-horizontal\"\n}, {\n  ignoreUnknown: !0\n});\n\nfunction x(e) {\n  return !e || \"service\" !== e.origin && !L(e.layer);\n}\n\nfunction L(e) {\n  return \"map-image\" === (null == e ? void 0 : e.type);\n}\n\nfunction P(e) {\n  var r, t;\n  return !!L(e) && !(null == (r = e.capabilities) || null == (t = r.exportMap) || !t.supportsArcadeExpressionForLabeling);\n}\n\nfunction g(e) {\n  return x(e) || P(e.layer);\n}\n\nlet E = d = class extends n {\n  constructor(e) {\n    super(e), this.type = \"label\", this.name = null, this.allowOverrun = !1, this.deconflictionStrategy = \"static\", this.labelExpression = null, this.labelExpressionInfo = null, this.labelPlacement = null, this.labelPosition = \"curved\", this.maxScale = 0, this.minScale = 0, this.repeatLabel = !0, this.repeatLabelDistance = null, this.symbol = S, this.useCodedValues = void 0, this.where = null;\n  }\n\n  static evaluateWhere(e, r) {\n    const t = function (e, r, t) {\n      switch (r) {\n        case \"=\":\n          return e == t;\n\n        case \"<>\":\n          return e != t;\n\n        case \">\":\n          return e > t;\n\n        case \">=\":\n          return e >= t;\n\n        case \"<\":\n          return e < t;\n\n        case \"<=\":\n          return e <= t;\n      }\n\n      return !1;\n    };\n\n    try {\n      if (null == e) return !0;\n      const o = e.split(\" \");\n      if (3 === o.length) return t(r[o[0]], o[1], o[2]);\n\n      if (7 === o.length) {\n        const e = t(r[o[0]], o[1], o[2]),\n              n = o[3],\n              i = t(r[o[4]], o[5], o[6]);\n\n        switch (n) {\n          case \"AND\":\n            return e && i;\n\n          case \"OR\":\n            return e || i;\n        }\n      }\n\n      return !1;\n    } catch (o) {\n      console.log(\"Error.: can't parse = \" + e);\n    }\n  }\n\n  readLabelExpression(e, r) {\n    const t = r.labelExpressionInfo;\n    if (!t || !t.value && !t.expression) return e;\n  }\n\n  writeLabelExpression(e, r, t) {\n    if (this.labelExpressionInfo) if (null != this.labelExpressionInfo.value) e = u(this.labelExpressionInfo.value);else if (null != this.labelExpressionInfo.expression) {\n      const r = m(this.labelExpressionInfo.expression);\n      r && (e = \"[\" + r + \"]\");\n    }\n    null != e && (r[t] = e);\n  }\n\n  writeLabelExpressionInfo(e, r, t, o) {\n    if (null == e && null != this.labelExpression && x(o)) e = new b({\n      expression: this.getLabelExpressionArcade()\n    });else if (!e) return;\n    const n = e.toJSON(o);\n    n.expression && (r[t] = n);\n  }\n\n  writeMaxScale(e, r) {\n    (e || this.minScale) && (r.maxScale = e);\n  }\n\n  writeMinScale(e, r) {\n    (e || this.maxScale) && (r.minScale = e);\n  }\n\n  getLabelExpression() {\n    return v(this);\n  }\n\n  getLabelExpressionArcade() {\n    return f(this);\n  }\n\n  getLabelExpressionSingleField() {\n    return w(this);\n  }\n\n  hash() {\n    return JSON.stringify(this);\n  }\n\n  clone() {\n    return new d({\n      allowOverrun: this.allowOverrun,\n      deconflictionStrategy: this.deconflictionStrategy,\n      labelExpression: this.labelExpression,\n      labelExpressionInfo: i(this.labelExpressionInfo),\n      labelPosition: this.labelPosition,\n      labelPlacement: this.labelPlacement,\n      maxScale: this.maxScale,\n      minScale: this.minScale,\n      name: this.name,\n      repeatLabel: this.repeatLabel,\n      repeatLabelDistance: this.repeatLabelDistance,\n      symbol: i(this.symbol),\n      where: this.where,\n      useCodedValues: this.useCodedValues\n    });\n  }\n\n};\ne([l({\n  type: String,\n  json: {\n    write: !0\n  }\n})], E.prototype, \"name\", void 0), e([l({\n  type: Boolean,\n  json: {\n    write: !0,\n    default: !1,\n    origins: {\n      \"web-scene\": {\n        write: !1\n      }\n    }\n  }\n})], E.prototype, \"allowOverrun\", void 0), e([l({\n  type: String,\n  json: {\n    write: !0,\n    default: \"static\",\n    origins: {\n      \"web-scene\": {\n        write: !1\n      }\n    }\n  }\n})], E.prototype, \"deconflictionStrategy\", void 0), e([l({\n  type: String,\n  json: {\n    write: {\n      overridePolicy(e, r, t) {\n        return this.labelExpressionInfo && \"service\" === (null == t ? void 0 : t.origin) && P(t.layer) ? {\n          enabled: !1\n        } : {\n          allowNull: !0\n        };\n      }\n\n    }\n  }\n})], E.prototype, \"labelExpression\", void 0), e([a(\"labelExpression\")], E.prototype, \"readLabelExpression\", null), e([c(\"labelExpression\")], E.prototype, \"writeLabelExpression\", null), e([l({\n  type: b,\n  json: {\n    write: {\n      overridePolicy: (e, r, t) => g(t) ? {\n        allowNull: !0\n      } : {\n        enabled: !1\n      }\n    }\n  }\n})], E.prototype, \"labelExpressionInfo\", void 0), e([c(\"labelExpressionInfo\")], E.prototype, \"writeLabelExpressionInfo\", null), e([l({\n  type: y.apiValues,\n  json: {\n    type: y.jsonValues,\n    read: y.read,\n    write: y.write\n  }\n})], E.prototype, \"labelPlacement\", void 0), e([l({\n  type: [\"curved\", \"parallel\"],\n  json: {\n    write: !0,\n    origins: {\n      \"web-map\": {\n        write: !1\n      },\n      \"web-scene\": {\n        write: !1\n      },\n      \"portal-item\": {\n        write: !1\n      }\n    }\n  }\n})], E.prototype, \"labelPosition\", void 0), e([l({\n  type: Number\n})], E.prototype, \"maxScale\", void 0), e([c(\"maxScale\")], E.prototype, \"writeMaxScale\", null), e([l({\n  type: Number\n})], E.prototype, \"minScale\", void 0), e([c(\"minScale\")], E.prototype, \"writeMinScale\", null), e([l({\n  type: Boolean,\n  json: {\n    write: !0,\n    origins: {\n      \"web-scene\": {\n        write: !1\n      },\n      \"portal-item\": {\n        write: !1\n      }\n    }\n  }\n})], E.prototype, \"repeatLabel\", void 0), e([l({\n  type: Number,\n  cast: s,\n  json: {\n    write: !0,\n    origins: {\n      \"web-scene\": {\n        write: !1\n      }\n    }\n  }\n})], E.prototype, \"repeatLabelDistance\", void 0), e([l({\n  types: r,\n  json: {\n    origins: {\n      \"web-scene\": {\n        types: t,\n        write: h,\n        default: null\n      }\n    },\n    write: h,\n    default: null\n  }\n})], E.prototype, \"symbol\", void 0), e([l({\n  type: Boolean,\n  json: {\n    write: !0\n  }\n})], E.prototype, \"useCodedValues\", void 0), e([l({\n  type: String,\n  json: {\n    write: !0\n  }\n})], E.prototype, \"where\", void 0), E = d = e([p(\"esri.layers.support.LabelClass\")], E);\nconst j = E;\nexport { j as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/layers/support/LabelClass.js"],"names":["_","e","symbolTypesLabel","r","symbolTypesLabel3D","t","JSONMap","o","JSONSupport","n","clone","i","toPt","s","property","l","reader","a","subclass","p","writer","c","b","templateStringToSql","u","getSingleFieldArcadeExpression","m","getLabelExpression","v","getLabelExpressionArcade","f","getLabelExpressionSingleField","w","defaultTextSymbol2D","S","writeLabelSymbol","h","d","y","esriServerPointLabelPlacementAboveCenter","esriServerPointLabelPlacementAboveLeft","esriServerPointLabelPlacementAboveRight","esriServerPointLabelPlacementBelowCenter","esriServerPointLabelPlacementBelowLeft","esriServerPointLabelPlacementBelowRight","esriServerPointLabelPlacementCenterCenter","esriServerPointLabelPlacementCenterLeft","esriServerPointLabelPlacementCenterRight","esriServerLinePlacementAboveAfter","esriServerLinePlacementAboveAlong","esriServerLinePlacementAboveBefore","esriServerLinePlacementAboveStart","esriServerLinePlacementAboveEnd","esriServerLinePlacementBelowAfter","esriServerLinePlacementBelowAlong","esriServerLinePlacementBelowBefore","esriServerLinePlacementBelowStart","esriServerLinePlacementBelowEnd","esriServerLinePlacementCenterAfter","esriServerLinePlacementCenterAlong","esriServerLinePlacementCenterBefore","esriServerLinePlacementCenterStart","esriServerLinePlacementCenterEnd","esriServerPolygonPlacementAlwaysHorizontal","ignoreUnknown","x","origin","L","layer","type","P","capabilities","exportMap","supportsArcadeExpressionForLabeling","g","E","constructor","name","allowOverrun","deconflictionStrategy","labelExpression","labelExpressionInfo","labelPlacement","labelPosition","maxScale","minScale","repeatLabel","repeatLabelDistance","symbol","useCodedValues","where","evaluateWhere","split","length","console","log","readLabelExpression","value","expression","writeLabelExpression","writeLabelExpressionInfo","toJSON","writeMaxScale","writeMinScale","hash","JSON","stringify","String","json","write","prototype","Boolean","default","origins","overridePolicy","enabled","allowNull","apiValues","jsonValues","read","Number","cast","types","j"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{symbolTypesLabel as r,symbolTypesLabel3D as t}from\"../../symbols.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import{JSONSupport as n}from\"../../core/JSONSupport.js\";import{clone as i}from\"../../core/lang.js\";import{toPt as s}from\"../../core/screenUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as a}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../../core/accessorSupport/decorators/writer.js\";import b from\"./LabelExpressionInfo.js\";import{templateStringToSql as u,getSingleFieldArcadeExpression as m,getLabelExpression as v,getLabelExpressionArcade as f,getLabelExpressionSingleField as w}from\"./labelUtils.js\";import{defaultTextSymbol2D as S}from\"../../symbols/support/defaults.js\";import{writeLabelSymbol as h}from\"../../symbols/support/jsonUtils.js\";var d;const y=new o({esriServerPointLabelPlacementAboveCenter:\"above-center\",esriServerPointLabelPlacementAboveLeft:\"above-left\",esriServerPointLabelPlacementAboveRight:\"above-right\",esriServerPointLabelPlacementBelowCenter:\"below-center\",esriServerPointLabelPlacementBelowLeft:\"below-left\",esriServerPointLabelPlacementBelowRight:\"below-right\",esriServerPointLabelPlacementCenterCenter:\"center-center\",esriServerPointLabelPlacementCenterLeft:\"center-left\",esriServerPointLabelPlacementCenterRight:\"center-right\",esriServerLinePlacementAboveAfter:\"above-after\",esriServerLinePlacementAboveAlong:\"above-along\",esriServerLinePlacementAboveBefore:\"above-before\",esriServerLinePlacementAboveStart:\"above-start\",esriServerLinePlacementAboveEnd:\"above-end\",esriServerLinePlacementBelowAfter:\"below-after\",esriServerLinePlacementBelowAlong:\"below-along\",esriServerLinePlacementBelowBefore:\"below-before\",esriServerLinePlacementBelowStart:\"below-start\",esriServerLinePlacementBelowEnd:\"below-end\",esriServerLinePlacementCenterAfter:\"center-after\",esriServerLinePlacementCenterAlong:\"center-along\",esriServerLinePlacementCenterBefore:\"center-before\",esriServerLinePlacementCenterStart:\"center-start\",esriServerLinePlacementCenterEnd:\"center-end\",esriServerPolygonPlacementAlwaysHorizontal:\"always-horizontal\"},{ignoreUnknown:!0});function x(e){return!e||\"service\"!==e.origin&&!L(e.layer)}function L(e){return\"map-image\"===(null==e?void 0:e.type)}function P(e){var r,t;return!!L(e)&&!(null==(r=e.capabilities)||null==(t=r.exportMap)||!t.supportsArcadeExpressionForLabeling)}function g(e){return x(e)||P(e.layer)}let E=d=class extends n{constructor(e){super(e),this.type=\"label\",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy=\"static\",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition=\"curved\",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=S,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,r){const t=function(e,r,t){switch(r){case\"=\":return e==t;case\"<>\":return e!=t;case\">\":return e>t;case\">=\":return e>=t;case\"<\":return e<t;case\"<=\":return e<=t}return!1};try{if(null==e)return!0;const o=e.split(\" \");if(3===o.length)return t(r[o[0]],o[1],o[2]);if(7===o.length){const e=t(r[o[0]],o[1],o[2]),n=o[3],i=t(r[o[4]],o[5],o[6]);switch(n){case\"AND\":return e&&i;case\"OR\":return e||i}}return!1}catch(o){console.log(\"Error.: can't parse = \"+e)}}readLabelExpression(e,r){const t=r.labelExpressionInfo;if(!t||!t.value&&!t.expression)return e}writeLabelExpression(e,r,t){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=u(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const r=m(this.labelExpressionInfo.expression);r&&(e=\"[\"+r+\"]\")}null!=e&&(r[t]=e)}writeLabelExpressionInfo(e,r,t,o){if(null==e&&null!=this.labelExpression&&x(o))e=new b({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(o);n.expression&&(r[t]=n)}writeMaxScale(e,r){(e||this.minScale)&&(r.maxScale=e)}writeMinScale(e,r){(e||this.maxScale)&&(r.minScale=e)}getLabelExpression(){return v(this)}getLabelExpressionArcade(){return f(this)}getLabelExpressionSingleField(){return w(this)}hash(){return JSON.stringify(this)}clone(){return new d({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:i(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:i(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};e([l({type:String,json:{write:!0}})],E.prototype,\"name\",void 0),e([l({type:Boolean,json:{write:!0,default:!1,origins:{\"web-scene\":{write:!1}}}})],E.prototype,\"allowOverrun\",void 0),e([l({type:String,json:{write:!0,default:\"static\",origins:{\"web-scene\":{write:!1}}}})],E.prototype,\"deconflictionStrategy\",void 0),e([l({type:String,json:{write:{overridePolicy(e,r,t){return this.labelExpressionInfo&&\"service\"===(null==t?void 0:t.origin)&&P(t.layer)?{enabled:!1}:{allowNull:!0}}}}})],E.prototype,\"labelExpression\",void 0),e([a(\"labelExpression\")],E.prototype,\"readLabelExpression\",null),e([c(\"labelExpression\")],E.prototype,\"writeLabelExpression\",null),e([l({type:b,json:{write:{overridePolicy:(e,r,t)=>g(t)?{allowNull:!0}:{enabled:!1}}}})],E.prototype,\"labelExpressionInfo\",void 0),e([c(\"labelExpressionInfo\")],E.prototype,\"writeLabelExpressionInfo\",null),e([l({type:y.apiValues,json:{type:y.jsonValues,read:y.read,write:y.write}})],E.prototype,\"labelPlacement\",void 0),e([l({type:[\"curved\",\"parallel\"],json:{write:!0,origins:{\"web-map\":{write:!1},\"web-scene\":{write:!1},\"portal-item\":{write:!1}}}})],E.prototype,\"labelPosition\",void 0),e([l({type:Number})],E.prototype,\"maxScale\",void 0),e([c(\"maxScale\")],E.prototype,\"writeMaxScale\",null),e([l({type:Number})],E.prototype,\"minScale\",void 0),e([c(\"minScale\")],E.prototype,\"writeMinScale\",null),e([l({type:Boolean,json:{write:!0,origins:{\"web-scene\":{write:!1},\"portal-item\":{write:!1}}}})],E.prototype,\"repeatLabel\",void 0),e([l({type:Number,cast:s,json:{write:!0,origins:{\"web-scene\":{write:!1}}}})],E.prototype,\"repeatLabelDistance\",void 0),e([l({types:r,json:{origins:{\"web-scene\":{types:t,write:h,default:null}},write:h,default:null}})],E.prototype,\"symbol\",void 0),e([l({type:Boolean,json:{write:!0}})],E.prototype,\"useCodedValues\",void 0),e([l({type:String,json:{write:!0}})],E.prototype,\"where\",void 0),E=d=e([p(\"esri.layers.support.LabelClass\")],E);const j=E;export{j as default};\n"]},"metadata":{},"sourceType":"module"}