{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../../../../core/maybe.js\";\nimport { pt2px as e } from \"../../../../../../core/screenUtils.js\";\nimport { premultiplyAlphaRGBA as s } from \"../../color.js\";\nimport { MIN_MAX_ZOOM_PRECISION_FACTOR as i, SPRITE_PADDING as r } from \"../../definitions.js\";\nimport { radToByte as o } from \"../../GeometryUtils.js\";\nimport { i1616to32 as a, i8888to32 as l } from \"../../number.js\";\nimport { FillMaterialKey as n } from \"../../materialKey/MaterialKey.js\";\nimport { isFunction as c, getMinMaxZoom as h } from \"./util.js\";\nimport f from \"./WGLBaseFillTemplate.js\";\nimport m from \"./WGLDynamicMeshTemplate.js\";\nimport { ok as p } from \"../../util/Result.js\";\nconst _ = 128;\n\nclass y extends f(m) {\n  constructor(r, l, h) {\n    var f;\n\n    if (super(r), this._minMaxZoom = a(Math.round(l * i), Math.round(h * i)), c(r.color)) {\n      const t = (t, e, i) => {\n        const o = r.color(t, e, i);\n        return o && s(o) || 0;\n      };\n\n      this._dynamicPropertyMap.set(\"fillColor\", t);\n    } else {\n      const t = r.color;\n      this.fillColor = t && s(t) || 0;\n    }\n\n    const m = \"CIMMarkerPlacementInsidePolygon\" === (null == (f = r.cim.placement) ? void 0 : f.type) && r.cim.placement.shiftOddRows ? 2 : 1,\n          p = r.height;\n\n    if (c(p)) {\n      const t = (t, e, s) => p(t, e, s) * m;\n\n      this._dynamicPropertyMap.set(\"_height\", t);\n    } else this._height = (p || 0) * m;\n\n    const y = r.offsetX;\n\n    if (c(y)) {\n      const t = (t, s, i) => {\n        let r = e(y(t, s, i)) + _;\n\n        return r > 255 ? r = 255 : r < 0 && (r = 0), r;\n      };\n\n      this._dynamicPropertyMap.set(\"_offsetX\", t);\n    } else {\n      let t = e(y || 0) + _;\n\n      t > 255 ? t = 255 : t < 0 && (t = 0), this._offsetX = t;\n    }\n\n    const d = r.offsetY;\n\n    if (c(d)) {\n      const t = (t, s, i) => {\n        let r = e(-d(t, s, i)) + _;\n\n        return r > 255 ? r = 255 : r < 0 && (r = 0), r;\n      };\n\n      this._dynamicPropertyMap.set(\"_offsetY\", t);\n    } else {\n      let t = e(-d || 0) + _;\n\n      t > 255 ? t = 255 : t < 0 && (t = 0), this._offsetY = t;\n    }\n\n    const u = r.scaleX;\n    c(u) ? this._dynamicPropertyMap.set(\"_scaleX\", u) : this._scaleX = u || 1;\n    const M = r.angle;\n\n    if (c(M)) {\n      const t = (t, e, s) => o(M(t, e, s));\n\n      this._dynamicPropertyMap.set(\"_angle\", t);\n    } else this._angle = o(M) || 0;\n\n    if (t(r.effects)) {\n      const t = r.effects;\n      c(t) ? this._dynamicPropertyMap.set(\"_effects\", t) : this._effects = t;\n    }\n\n    this._cimFillLayer = r, this._fillMaterialKey = n.load(r.materialKey);\n  }\n\n  static fromCIMFill(t, e) {\n    const [s, i] = h(t.scaleInfo, e);\n    return new y(t, s, i);\n  }\n\n  bindFeature(t, s, i) {\n    const o = t.readLegacyFeature();\n\n    this._dynamicPropertyMap.forEach((t, e) => {\n      this[e] = t(o, s, i);\n    });\n\n    const n = this._fillMaterialKey,\n          c = this._materialCache,\n          h = (0, this._cimFillLayer.materialHash)(o, s, i),\n          f = c.get(h);\n    let m = null;\n\n    if (f && p(f.spriteMosaicItem) && (m = f.spriteMosaicItem), m) {\n      const {\n        rect: t,\n        width: s,\n        height: i\n      } = m,\n            o = t.x + r,\n            c = t.y + r,\n            h = o + s,\n            f = c + i;\n      let p = Math.round(e(this._height));\n      p > 255 ? p = 255 : p <= 0 && (p = f - c);\n\n      let _ = Math.round(e(this._height / i * s || 0));\n\n      _ > 255 ? _ = 255 : _ <= 0 && (_ = h - o);\n      const y = this._scaleX,\n            d = 1;\n      this.tl = a(o, c), this.br = a(h, f), this.aux2 = l(_, p, this._offsetX, this._offsetY), this.aux3 = l(y, d, this._angle, 0), n.sdf = m.sdf, n.pattern = !0, n.textureBinding = m.textureBinding;\n    } else this.tl = 0, this.br = 0, this.aux2 = 0, this.aux3 = 0, n.sdf = !1, n.pattern = !1, n.textureBinding = 0;\n\n    this._materialKey = n.data;\n  }\n\n}\n\nexport { y as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLDynamicFillTemplate.js"],"names":["isSome","t","pt2px","e","premultiplyAlphaRGBA","s","MIN_MAX_ZOOM_PRECISION_FACTOR","i","SPRITE_PADDING","r","radToByte","o","i1616to32","a","i8888to32","l","FillMaterialKey","n","isFunction","c","getMinMaxZoom","h","f","m","ok","p","_","y","constructor","_minMaxZoom","Math","round","color","_dynamicPropertyMap","set","fillColor","cim","placement","type","shiftOddRows","height","_height","offsetX","_offsetX","d","offsetY","_offsetY","u","scaleX","_scaleX","M","angle","_angle","effects","_effects","_cimFillLayer","_fillMaterialKey","load","materialKey","fromCIMFill","scaleInfo","bindFeature","readLegacyFeature","forEach","_materialCache","materialHash","get","spriteMosaicItem","rect","width","x","tl","br","aux2","aux3","sdf","pattern","textureBinding","_materialKey","data","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../../core/maybe.js\";import{pt2px as e}from\"../../../../../../core/screenUtils.js\";import{premultiplyAlphaRGBA as s}from\"../../color.js\";import{MIN_MAX_ZOOM_PRECISION_FACTOR as i,SPRITE_PADDING as r}from\"../../definitions.js\";import{radToByte as o}from\"../../GeometryUtils.js\";import{i1616to32 as a,i8888to32 as l}from\"../../number.js\";import{FillMaterialKey as n}from\"../../materialKey/MaterialKey.js\";import{isFunction as c,getMinMaxZoom as h}from\"./util.js\";import f from\"./WGLBaseFillTemplate.js\";import m from\"./WGLDynamicMeshTemplate.js\";import{ok as p}from\"../../util/Result.js\";const _=128;class y extends(f(m)){constructor(r,l,h){var f;if(super(r),this._minMaxZoom=a(Math.round(l*i),Math.round(h*i)),c(r.color)){const t=(t,e,i)=>{const o=r.color(t,e,i);return o&&s(o)||0};this._dynamicPropertyMap.set(\"fillColor\",t)}else{const t=r.color;this.fillColor=t&&s(t)||0}const m=\"CIMMarkerPlacementInsidePolygon\"===(null==(f=r.cim.placement)?void 0:f.type)&&r.cim.placement.shiftOddRows?2:1,p=r.height;if(c(p)){const t=(t,e,s)=>p(t,e,s)*m;this._dynamicPropertyMap.set(\"_height\",t)}else this._height=(p||0)*m;const y=r.offsetX;if(c(y)){const t=(t,s,i)=>{let r=e(y(t,s,i))+_;return r>255?r=255:r<0&&(r=0),r};this._dynamicPropertyMap.set(\"_offsetX\",t)}else{let t=e(y||0)+_;t>255?t=255:t<0&&(t=0),this._offsetX=t}const d=r.offsetY;if(c(d)){const t=(t,s,i)=>{let r=e(-d(t,s,i))+_;return r>255?r=255:r<0&&(r=0),r};this._dynamicPropertyMap.set(\"_offsetY\",t)}else{let t=e(-d||0)+_;t>255?t=255:t<0&&(t=0),this._offsetY=t}const u=r.scaleX;c(u)?this._dynamicPropertyMap.set(\"_scaleX\",u):this._scaleX=u||1;const M=r.angle;if(c(M)){const t=(t,e,s)=>o(M(t,e,s));this._dynamicPropertyMap.set(\"_angle\",t)}else this._angle=o(M)||0;if(t(r.effects)){const t=r.effects;c(t)?this._dynamicPropertyMap.set(\"_effects\",t):this._effects=t}this._cimFillLayer=r,this._fillMaterialKey=n.load(r.materialKey)}static fromCIMFill(t,e){const[s,i]=h(t.scaleInfo,e);return new y(t,s,i)}bindFeature(t,s,i){const o=t.readLegacyFeature();this._dynamicPropertyMap.forEach(((t,e)=>{this[e]=t(o,s,i)}));const n=this._fillMaterialKey,c=this._materialCache,h=(0,this._cimFillLayer.materialHash)(o,s,i),f=c.get(h);let m=null;if(f&&p(f.spriteMosaicItem)&&(m=f.spriteMosaicItem),m){const{rect:t,width:s,height:i}=m,o=t.x+r,c=t.y+r,h=o+s,f=c+i;let p=Math.round(e(this._height));p>255?p=255:p<=0&&(p=f-c);let _=Math.round(e(this._height/i*s||0));_>255?_=255:_<=0&&(_=h-o);const y=this._scaleX,d=1;this.tl=a(o,c),this.br=a(h,f),this.aux2=l(_,p,this._offsetX,this._offsetY),this.aux3=l(y,d,this._angle,0),n.sdf=m.sdf,n.pattern=!0,n.textureBinding=m.textureBinding}else this.tl=0,this.br=0,this.aux2=0,this.aux3=0,n.sdf=!1,n.pattern=!1,n.textureBinding=0;this._materialKey=n.data}}export{y as default};\n"]},"metadata":{},"sourceType":"module"}