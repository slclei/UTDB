{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { WGLGeometryType as e } from \"../../engine/webgl/enums.js\";\nimport { createMaterialKey as t } from \"../../engine/webgl/materialKey/MaterialKey.js\";\n\nfunction r(e) {\n  if (\"line-marker\" === e.type) {\n    var t;\n    return {\n      type: \"line-marker\",\n      color: null == (t = e.color) ? void 0 : t.toJSON(),\n      placement: e.placement,\n      style: e.style\n    };\n  }\n\n  return e.constructor.fromJSON(e.toJSON()).toJSON();\n}\n\nfunction a(e) {\n  return hydrateKey(e);\n}\n\nfunction l(e, t, a) {\n  if (!e) return null;\n\n  switch (e.type) {\n    case \"simple-fill\":\n    case \"picture-fill\":\n      return s(e, t, a);\n\n    case \"simple-marker\":\n    case \"picture-marker\":\n      return o(e, t, a);\n\n    case \"simple-line\":\n      return i(e, t, a);\n\n    case \"text\":\n      return u(e, t, a);\n\n    case \"label\":\n      return n(e, t, a);\n\n    case \"cim\":\n      return {\n        type: \"cim\",\n        rendererKey: t.vvFlags,\n        data: e.data,\n        maxVVSize: t.maxVVSize\n      };\n\n    case \"CIMSymbolReference\":\n      return {\n        type: \"cim\",\n        rendererKey: t.vvFlags,\n        data: e,\n        maxVVSize: t.maxVVSize\n      };\n\n    case \"web-style\":\n      return { ...r(e),\n        type: \"web-style\",\n        hash: e.hash(),\n        rendererKey: t.vvFlags,\n        maxVVSize: t.maxVVSize\n      };\n\n    default:\n      throw new Error(`symbol not supported ${e.type}`);\n  }\n}\n\nfunction n(r, l, n) {\n  const s = r.toJSON(),\n        i = t(e.LABEL, { ...l,\n    placement: s.labelPlacement\n  });\n  return {\n    materialKey: n ? a(i) : i,\n    hash: r.hash(),\n    ...s,\n    labelPlacement: s.labelPlacement\n  };\n}\n\nfunction s(l, n, s) {\n  const i = n.supportsOutlineFills,\n        o = t(e.FILL, { ...n,\n    isOutlinedFill: i\n  }),\n        u = s ? a(o) : o,\n        c = l.clone(),\n        h = c.outline;\n  n.supportsOutlineFills || (c.outline = null);\n  const m = {\n    materialKey: u,\n    hash: c.hash(),\n    isOutlinedFill: !!n.supportsOutlineFills,\n    ...r(c)\n  };\n  if (n.supportsOutlineFills) return m;\n  const p = [];\n\n  if (p.push(m), h) {\n    const l = t(e.LINE, { ...n,\n      isOutline: !0\n    }),\n          i = {\n      materialKey: s ? a(l) : l,\n      hash: h.hash(),\n      ...r(h)\n    };\n    p.push(i);\n  }\n\n  return {\n    type: \"composite-symbol\",\n    layers: p,\n    hash: p.reduce((e, t) => t.hash + e, \"\")\n  };\n}\n\nfunction i(l, n, s) {\n  const i = t(e.LINE, n),\n        o = s ? a(i) : i,\n        u = l.clone(),\n        c = u.marker;\n  u.marker = null;\n  const h = [];\n\n  if (h.push({\n    materialKey: o,\n    hash: u.hash(),\n    ...r(u)\n  }), c) {\n    var m;\n    const l = t(e.MARKER, n),\n          i = s ? a(l) : l;\n    c.color = null != (m = c.color) ? m : u.color, h.push({\n      materialKey: i,\n      hash: c.hash(),\n      lineWidth: u.width,\n      ...r(c)\n    });\n  }\n\n  return {\n    type: \"composite-symbol\",\n    layers: h,\n    hash: h.reduce((e, t) => t.hash + e, \"\")\n  };\n}\n\nfunction o(l, n, s) {\n  const i = t(e.MARKER, n),\n        o = s ? a(i) : i,\n        u = r(l);\n  return {\n    materialKey: o,\n    hash: l.hash(),\n    ...u,\n    angle: l.angle,\n    maxVVSize: n.maxVVSize\n  };\n}\n\nfunction u(l, n, s) {\n  const i = t(e.TEXT, n),\n        o = s ? a(i) : i,\n        u = r(l);\n  return {\n    materialKey: o,\n    hash: l.hash(),\n    ...u,\n    angle: l.angle,\n    maxVVSize: n.maxVVSize\n  };\n}\n\nexport { l as createSymbolSchema };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/layers/features/createSymbolSchema.js"],"names":["WGLGeometryType","e","createMaterialKey","t","r","type","color","toJSON","placement","style","constructor","fromJSON","a","hydrateKey","l","s","o","i","u","n","rendererKey","vvFlags","data","maxVVSize","hash","Error","LABEL","labelPlacement","materialKey","supportsOutlineFills","FILL","isOutlinedFill","c","clone","h","outline","m","p","push","LINE","isOutline","layers","reduce","marker","MARKER","lineWidth","width","angle","TEXT","createSymbolSchema"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{WGLGeometryType as e}from\"../../engine/webgl/enums.js\";import{createMaterialKey as t}from\"../../engine/webgl/materialKey/MaterialKey.js\";function r(e){if(\"line-marker\"===e.type){var t;return{type:\"line-marker\",color:null==(t=e.color)?void 0:t.toJSON(),placement:e.placement,style:e.style}}return e.constructor.fromJSON(e.toJSON()).toJSON()}function a(e){return hydrateKey(e)}function l(e,t,a){if(!e)return null;switch(e.type){case\"simple-fill\":case\"picture-fill\":return s(e,t,a);case\"simple-marker\":case\"picture-marker\":return o(e,t,a);case\"simple-line\":return i(e,t,a);case\"text\":return u(e,t,a);case\"label\":return n(e,t,a);case\"cim\":return{type:\"cim\",rendererKey:t.vvFlags,data:e.data,maxVVSize:t.maxVVSize};case\"CIMSymbolReference\":return{type:\"cim\",rendererKey:t.vvFlags,data:e,maxVVSize:t.maxVVSize};case\"web-style\":return{...r(e),type:\"web-style\",hash:e.hash(),rendererKey:t.vvFlags,maxVVSize:t.maxVVSize};default:throw new Error(`symbol not supported ${e.type}`)}}function n(r,l,n){const s=r.toJSON(),i=t(e.LABEL,{...l,placement:s.labelPlacement});return{materialKey:n?a(i):i,hash:r.hash(),...s,labelPlacement:s.labelPlacement}}function s(l,n,s){const i=n.supportsOutlineFills,o=t(e.FILL,{...n,isOutlinedFill:i}),u=s?a(o):o,c=l.clone(),h=c.outline;n.supportsOutlineFills||(c.outline=null);const m={materialKey:u,hash:c.hash(),isOutlinedFill:!!n.supportsOutlineFills,...r(c)};if(n.supportsOutlineFills)return m;const p=[];if(p.push(m),h){const l=t(e.LINE,{...n,isOutline:!0}),i={materialKey:s?a(l):l,hash:h.hash(),...r(h)};p.push(i)}return{type:\"composite-symbol\",layers:p,hash:p.reduce(((e,t)=>t.hash+e),\"\")}}function i(l,n,s){const i=t(e.LINE,n),o=s?a(i):i,u=l.clone(),c=u.marker;u.marker=null;const h=[];if(h.push({materialKey:o,hash:u.hash(),...r(u)}),c){var m;const l=t(e.MARKER,n),i=s?a(l):l;c.color=null!=(m=c.color)?m:u.color,h.push({materialKey:i,hash:c.hash(),lineWidth:u.width,...r(c)})}return{type:\"composite-symbol\",layers:h,hash:h.reduce(((e,t)=>t.hash+e),\"\")}}function o(l,n,s){const i=t(e.MARKER,n),o=s?a(i):i,u=r(l);return{materialKey:o,hash:l.hash(),...u,angle:l.angle,maxVVSize:n.maxVVSize}}function u(l,n,s){const i=t(e.TEXT,n),o=s?a(i):i,u=r(l);return{materialKey:o,hash:l.hash(),...u,angle:l.angle,maxVVSize:n.maxVVSize}}export{l as createSymbolSchema};\n"]},"metadata":{},"sourceType":"module"}