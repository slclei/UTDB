{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { OriginId as r } from \"../../core/accessorSupport/PropertyOrigin.js\";\n\nfunction e(r, e, n) {\n  const o = e.flatten(_ref => {\n    let {\n      sublayers: r\n    } = _ref;\n    return r;\n  }).length;\n  if (o !== r.length) return !0;\n  return !!r.some(r => r.originIdOf(\"minScale\") > n || r.originIdOf(\"maxScale\") > n || r.originIdOf(\"renderer\") > n || r.originIdOf(\"labelingInfo\") > n || r.originIdOf(\"opacity\") > n || r.originIdOf(\"labelsVisible\") > n || r.originIdOf(\"source\") > n) || !i(r, e);\n}\n\nfunction n(e, n, o) {\n  return !!e.some(e => {\n    const n = e.source;\n    return !(!n || \"map-layer\" === n.type && n.mapLayerId === e.id && (!n.gdbVersion || n.gdbVersion === o.gdbVersion)) || e.originIdOf(\"renderer\") > r.SERVICE || e.originIdOf(\"labelingInfo\") > r.SERVICE || e.originIdOf(\"opacity\") > r.SERVICE || e.originIdOf(\"labelsVisible\") > r.SERVICE;\n  }) || !i(e, n);\n}\n\nfunction i(r, e) {\n  if (!r || !r.length) return !0;\n  const n = e.slice().reverse().flatten(_ref2 => {\n    let {\n      sublayers: r\n    } = _ref2;\n    return r && r.toArray().reverse();\n  }).map(r => r.id).toArray();\n  if (r.length > n.length) return !1;\n  let i = 0;\n  const o = n.length;\n\n  for (const {\n    id: t\n  } of r) {\n    for (; i < o && n[i] !== t;) i++;\n\n    if (i >= o) return !1;\n  }\n\n  return !0;\n}\n\nfunction o(r) {\n  return !!r && r.some(r => null != r.minScale || r.layerDefinition && null != r.layerDefinition.minScale);\n}\n\nexport { n as isExportDynamic, o as isSublayerOverhaul, e as shouldWriteSublayerStructure };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/layers/support/sublayerUtils.js"],"names":["OriginId","r","e","n","o","flatten","sublayers","length","some","originIdOf","i","source","type","mapLayerId","id","gdbVersion","SERVICE","slice","reverse","toArray","map","t","minScale","layerDefinition","isExportDynamic","isSublayerOverhaul","shouldWriteSublayerStructure"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{OriginId as r}from\"../../core/accessorSupport/PropertyOrigin.js\";function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf(\"minScale\")>n||r.originIdOf(\"maxScale\")>n||r.originIdOf(\"renderer\")>n||r.originIdOf(\"labelingInfo\")>n||r.originIdOf(\"opacity\")>n||r.originIdOf(\"labelsVisible\")>n||r.originIdOf(\"source\")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(!n.gdbVersion||n.gdbVersion===o.gdbVersion))||e.originIdOf(\"renderer\")>r.SERVICE||e.originIdOf(\"labelingInfo\")>r.SERVICE||e.originIdOf(\"opacity\")>r.SERVICE||e.originIdOf(\"labelsVisible\")>r.SERVICE}))||!i(e,n)}function i(r,e){if(!r||!r.length)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||r.layerDefinition&&null!=r.layerDefinition.minScale))}export{n as isExportDynamic,o as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n"]},"metadata":{},"sourceType":"module"}