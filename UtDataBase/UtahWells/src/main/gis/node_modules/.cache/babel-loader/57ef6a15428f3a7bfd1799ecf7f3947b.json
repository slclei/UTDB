{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport r from \"../../../Error.js\";\nimport t from \"../../../Logger.js\";\nimport { setDeepValue as e } from \"../../../object.js\";\nimport { isCollection as n } from \"./type.js\";\nconst i = t.getLogger(\"esri.core.accessorSupport.extensions.serializableProperty.writer\");\n\nfunction o(r, t) {\n  var e;\n  if (!t.write || t.write.writer || !1 === t.write.enabled && !t.write.overridePolicy) return;\n  const i = null != (e = null == r ? void 0 : r.ndimArray) ? e : 0;\n  r && (1 === i || \"type\" in r && n(r.type)) ? t.write.writer = a : i > 1 ? t.write.writer = w(i) : t.types ? Array.isArray(t.types) ? t.write.writer = s(t.types[0]) : t.write.writer = u(t.types) : t.write.writer = l;\n}\n\nfunction u(r) {\n  return (t, e, n, i) => t ? f(t, r, i) ? l(t, e, n, i) : void 0 : l(t, e, n, i);\n}\n\nfunction f(t, e, n) {\n  for (const r in e.typeMap) if (t instanceof e.typeMap[r]) return !0;\n\n  if (null != n && n.messages) {\n    var o, u;\n    const f = null != (o = e.errorContext) ? o : \"type\",\n          s = `Values of type '${null != (u = \"function\" != typeof e.key ? t[e.key] : t.declaredClass) ? u : \"Unknown\"}' cannot be written`;\n    n && n.messages && t && n.messages.push(new r(`${f}:unsupported`, s, {\n      definition: t,\n      context: n\n    })), i.error(s);\n  }\n\n  return !1;\n}\n\nfunction s(r) {\n  return (t, e, n, i) => {\n    if (!t || !Array.isArray(t)) return l(t, e, n, i);\n    return l(t.filter(t => f(t, r, i)), e, n, i);\n  };\n}\n\nfunction l(r, t, n, i) {\n  e(n, p(r, i), t);\n}\n\nfunction p(r, t) {\n  return r && \"function\" == typeof r.write ? r.write({}, t) : r && \"function\" == typeof r.toJSON ? r.toJSON() : \"number\" == typeof r ? y(r) : r;\n}\n\nfunction y(r) {\n  return r === -1 / 0 ? -Number.MAX_VALUE : r === 1 / 0 ? Number.MAX_VALUE : isNaN(r) ? null : r;\n}\n\nfunction a(r, t, n, i) {\n  let o;\n  null === r ? o = null : r && \"function\" == typeof r.map ? (o = r.map(r => p(r, i)), \"function\" == typeof o.toArray && (o = o.toArray())) : o = [p(r, i)], e(n, o, t);\n}\n\nfunction c(r, t, e) {\n  return 0 !== e && Array.isArray(r) ? r.map(r => c(r, t, e - 1)) : p(r, t);\n}\n\nfunction w(r) {\n  return function (t, n, i, o) {\n    let u;\n    if (null === t) u = null;else {\n      u = c(t, o, r);\n      let e = r,\n          n = u;\n\n      for (; e > 0 && Array.isArray(n);) e--, n = n[0];\n\n      if (void 0 !== n) for (let r = 0; r < e; r++) u = [u];\n    }\n    e(i, u, n);\n  };\n}\n\nexport { o as create, y as numberToJSON };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writer.js"],"names":["r","t","setDeepValue","e","isCollection","n","i","getLogger","o","write","writer","enabled","overridePolicy","ndimArray","type","a","w","types","Array","isArray","s","u","l","f","typeMap","messages","errorContext","key","declaredClass","push","definition","context","error","filter","p","toJSON","y","Number","MAX_VALUE","isNaN","map","toArray","c","create","numberToJSON"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport r from\"../../../Error.js\";import t from\"../../../Logger.js\";import{setDeepValue as e}from\"../../../object.js\";import{isCollection as n}from\"./type.js\";const i=t.getLogger(\"esri.core.accessorSupport.extensions.serializableProperty.writer\");function o(r,t){var e;if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const i=null!=(e=null==r?void 0:r.ndimArray)?e:0;r&&(1===i||\"type\"in r&&n(r.type))?t.write.writer=a:i>1?t.write.writer=w(i):t.types?Array.isArray(t.types)?t.write.writer=s(t.types[0]):t.write.writer=u(t.types):t.write.writer=l}function u(r){return(t,e,n,i)=>t?f(t,r,i)?l(t,e,n,i):void 0:l(t,e,n,i)}function f(t,e,n){for(const r in e.typeMap)if(t instanceof e.typeMap[r])return!0;if(null!=n&&n.messages){var o,u;const f=null!=(o=e.errorContext)?o:\"type\",s=`Values of type '${null!=(u=\"function\"!=typeof e.key?t[e.key]:t.declaredClass)?u:\"Unknown\"}' cannot be written`;n&&n.messages&&t&&n.messages.push(new r(`${f}:unsupported`,s,{definition:t,context:n})),i.error(s)}return!1}function s(r){return(t,e,n,i)=>{if(!t||!Array.isArray(t))return l(t,e,n,i);return l(t.filter((t=>f(t,r,i))),e,n,i)}}function l(r,t,n,i){e(n,p(r,i),t)}function p(r,t){return r&&\"function\"==typeof r.write?r.write({},t):r&&\"function\"==typeof r.toJSON?r.toJSON():\"number\"==typeof r?y(r):r}function y(r){return r===-1/0?-Number.MAX_VALUE:r===1/0?Number.MAX_VALUE:isNaN(r)?null:r}function a(r,t,n,i){let o;null===r?o=null:r&&\"function\"==typeof r.map?(o=r.map((r=>p(r,i))),\"function\"==typeof o.toArray&&(o=o.toArray())):o=[p(r,i)],e(n,o,t)}function c(r,t,e){return 0!==e&&Array.isArray(r)?r.map((r=>c(r,t,e-1))):p(r,t)}function w(r){return function(t,n,i,o){let u;if(null===t)u=null;else{u=c(t,o,r);let e=r,n=u;for(;e>0&&Array.isArray(n);)e--,n=n[0];if(void 0!==n)for(let r=0;r<e;r++)u=[u]}e(i,u,n)}}export{o as create,y as numberToJSON};\n"]},"metadata":{},"sourceType":"module"}