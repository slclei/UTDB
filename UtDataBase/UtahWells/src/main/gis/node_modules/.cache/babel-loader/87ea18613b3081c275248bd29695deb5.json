{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../core/maybe.js\";\nimport { getInfo as r } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport o from \"./TileKey.js\";\n\nfunction i(t, r) {\n  return [t, r];\n}\n\nfunction e(t, r, o) {\n  return t[0] = r, t[1] = o, t;\n}\n\nfunction s(t, r, o, i, e) {\n  return t[0] = r, t[1] = o, t[2] = i, t[3] = e, t;\n}\n\nconst n = new o(\"0/0/0/0\");\n\nclass l {\n  constructor(t, r, o, i, e, s, n, l, h, a, u, m) {\n    this.level = t, this.resolution = r, this.scale = o, this.origin = i, this.first = e, this.last = s, this.size = n, this.norm = l, this.worldStart = h, this.worldEnd = a, this.worldSize = u, this.wrap = m;\n  }\n\n  static create(o, s) {\n    let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    const h = r(o.spatialReference),\n          a = s.origin || i(o.origin.x, o.origin.y),\n          u = i(o.size[0] * s.resolution, o.size[1] * s.resolution),\n          m = i(-1 / 0, -1 / 0),\n          g = i(1 / 0, 1 / 0),\n          w = i(1 / 0, 1 / 0);\n    t(n) && (e(m, Math.max(0, Math.floor((n.xmin - a[0]) / u[0])), Math.max(0, Math.floor((a[1] - n.ymax) / u[1]))), e(g, Math.max(0, Math.floor((n.xmax - a[0]) / u[0])), Math.max(0, Math.floor((a[1] - n.ymin) / u[1]))), e(w, g[0] - m[0] + 1, g[1] - m[1] + 1));\n    const {\n      cols: c,\n      rows: d\n    } = s;\n    let f, F, z, p;\n    return !n && c && d && (e(m, c[0], d[0]), e(g, c[1], d[1]), e(w, c[1] - c[0] + 1, d[1] - d[0] + 1)), o.isWrappable ? (f = i(Math.ceil(Math.round((h.valid[1] - h.valid[0]) / s.resolution) / o.size[0]), w[1]), F = i(Math.floor((h.origin[0] - a[0]) / u[0]), m[1]), z = i(f[0] + F[0] - 1, g[1]), p = !0) : (F = m, z = g, f = w, p = !1), new l(s.level, s.resolution, s.scale, a, m, g, w, u, F, z, f, p);\n  }\n\n  normalizeCol(t) {\n    if (!this.wrap) return t;\n    const r = this.worldSize[0];\n    return t < 0 ? r - 1 - Math.abs((t + 1) % r) : t % r;\n  }\n\n  denormalizeCol(t, r) {\n    return this.wrap ? this.worldSize[0] * r + t : t;\n  }\n\n  getWorldForColumn(t) {\n    return this.wrap ? Math.floor(t / this.worldSize[0]) : 0;\n  }\n\n  getFirstColumnForWorld(t) {\n    return t * this.worldSize[0] + this.first[0];\n  }\n\n  getLastColumnForWorld(t) {\n    return t * this.worldSize[0] + this.first[0] + this.size[0] - 1;\n  }\n\n  getColumnForX(t) {\n    return (t - this.origin[0]) / this.norm[0];\n  }\n\n  getXForColumn(t) {\n    return this.origin[0] + t * this.norm[0];\n  }\n\n  getRowForY(t) {\n    return (this.origin[1] - t) / this.norm[1];\n  }\n\n  getYForRow(t) {\n    return this.origin[1] - t * this.norm[1];\n  }\n\n  getTileBounds(t, r) {\n    let o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    n.set(r);\n    const i = o ? n.col : this.denormalizeCol(n.col, n.world),\n          e = n.row;\n    return s(t, this.getXForColumn(i), this.getYForRow(e + 1), this.getXForColumn(i + 1), this.getYForRow(e)), t;\n  }\n\n  getTileCoords(t, r) {\n    let o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    n.set(r);\n    const i = o ? n.col : this.denormalizeCol(n.col, n.world);\n    return Array.isArray(t) ? e(t, this.getXForColumn(i), this.getYForRow(n.row)) : (t.x = this.getXForColumn(i), t.y = this.getYForRow(n.row)), t;\n  }\n\n}\n\nexport { l as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/tiling/LODInfo.js"],"names":["isSome","t","getInfo","r","o","i","e","s","n","l","constructor","h","a","u","m","level","resolution","scale","origin","first","last","size","norm","worldStart","worldEnd","worldSize","wrap","create","spatialReference","x","y","g","w","Math","max","floor","xmin","ymax","xmax","ymin","cols","c","rows","d","f","F","z","p","isWrappable","ceil","round","valid","normalizeCol","abs","denormalizeCol","getWorldForColumn","getFirstColumnForWorld","getLastColumnForWorld","getColumnForX","getXForColumn","getRowForY","getYForRow","getTileBounds","set","col","world","row","getTileCoords","Array","isArray","default"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,MAAM,IAAIC,CAAjB,QAAuB,wBAAvB;AAAgD,SAAOC,OAAO,IAAIC,CAAlB,QAAwB,oDAAxB;AAA6E,OAAOC,CAAP,MAAa,cAAb;;AAA4B,SAASC,CAAT,CAAWJ,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAM,CAACF,CAAD,EAAGE,CAAH,CAAN;AAAY;;AAAA,SAASG,CAAT,CAAWL,CAAX,EAAaE,CAAb,EAAeC,CAAf,EAAiB;AAAC,SAAOH,CAAC,CAAC,CAAD,CAAD,GAAKE,CAAL,EAAOF,CAAC,CAAC,CAAD,CAAD,GAAKG,CAAZ,EAAcH,CAArB;AAAuB;;AAAA,SAASM,CAAT,CAAWN,CAAX,EAAaE,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmBC,CAAnB,EAAqB;AAAC,SAAOL,CAAC,CAAC,CAAD,CAAD,GAAKE,CAAL,EAAOF,CAAC,CAAC,CAAD,CAAD,GAAKG,CAAZ,EAAcH,CAAC,CAAC,CAAD,CAAD,GAAKI,CAAnB,EAAqBJ,CAAC,CAAC,CAAD,CAAD,GAAKK,CAA1B,EAA4BL,CAAnC;AAAqC;;AAAA,MAAMO,CAAC,GAAC,IAAIJ,CAAJ,CAAM,SAAN,CAAR;;AAAyB,MAAMK,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACT,CAAD,EAAGE,CAAH,EAAKC,CAAL,EAAOC,CAAP,EAASC,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiBE,CAAjB,EAAmBC,CAAnB,EAAqBC,CAArB,EAAuBC,CAAvB,EAAyB;AAAC,SAAKC,KAAL,GAAWd,CAAX,EAAa,KAAKe,UAAL,GAAgBb,CAA7B,EAA+B,KAAKc,KAAL,GAAWb,CAA1C,EAA4C,KAAKc,MAAL,GAAYb,CAAxD,EAA0D,KAAKc,KAAL,GAAWb,CAArE,EAAuE,KAAKc,IAAL,GAAUb,CAAjF,EAAmF,KAAKc,IAAL,GAAUb,CAA7F,EAA+F,KAAKc,IAAL,GAAUb,CAAzG,EAA2G,KAAKc,UAAL,GAAgBZ,CAA3H,EAA6H,KAAKa,QAAL,GAAcZ,CAA3I,EAA6I,KAAKa,SAAL,GAAeZ,CAA5J,EAA8J,KAAKa,IAAL,GAAUZ,CAAxK;AAA0K;;AAAa,SAANa,MAAM,CAACvB,CAAD,EAAGG,CAAH,EAAY;AAAA,QAAPC,CAAO,uEAAL,IAAK;AAAC,UAAMG,CAAC,GAACR,CAAC,CAACC,CAAC,CAACwB,gBAAH,CAAT;AAAA,UAA8BhB,CAAC,GAACL,CAAC,CAACW,MAAF,IAAUb,CAAC,CAACD,CAAC,CAACc,MAAF,CAASW,CAAV,EAAYzB,CAAC,CAACc,MAAF,CAASY,CAArB,CAA3C;AAAA,UAAmEjB,CAAC,GAACR,CAAC,CAACD,CAAC,CAACiB,IAAF,CAAO,CAAP,IAAUd,CAAC,CAACS,UAAb,EAAwBZ,CAAC,CAACiB,IAAF,CAAO,CAAP,IAAUd,CAAC,CAACS,UAApC,CAAtE;AAAA,UAAsHF,CAAC,GAACT,CAAC,CAAC,CAAC,CAAD,GAAG,CAAJ,EAAM,CAAC,CAAD,GAAG,CAAT,CAAzH;AAAA,UAAqI0B,CAAC,GAAC1B,CAAC,CAAC,IAAE,CAAH,EAAK,IAAE,CAAP,CAAxI;AAAA,UAAkJ2B,CAAC,GAAC3B,CAAC,CAAC,IAAE,CAAH,EAAK,IAAE,CAAP,CAArJ;AAA+JJ,IAAAA,CAAC,CAACO,CAAD,CAAD,KAAOF,CAAC,CAACQ,CAAD,EAAGmB,IAAI,CAACC,GAAL,CAAS,CAAT,EAAWD,IAAI,CAACE,KAAL,CAAW,CAAC3B,CAAC,CAAC4B,IAAF,GAAOxB,CAAC,CAAC,CAAD,CAAT,IAAcC,CAAC,CAAC,CAAD,CAA1B,CAAX,CAAH,EAA8CoB,IAAI,CAACC,GAAL,CAAS,CAAT,EAAWD,IAAI,CAACE,KAAL,CAAW,CAACvB,CAAC,CAAC,CAAD,CAAD,GAAKJ,CAAC,CAAC6B,IAAR,IAAcxB,CAAC,CAAC,CAAD,CAA1B,CAAX,CAA9C,CAAD,EAA2FP,CAAC,CAACyB,CAAD,EAAGE,IAAI,CAACC,GAAL,CAAS,CAAT,EAAWD,IAAI,CAACE,KAAL,CAAW,CAAC3B,CAAC,CAAC8B,IAAF,GAAO1B,CAAC,CAAC,CAAD,CAAT,IAAcC,CAAC,CAAC,CAAD,CAA1B,CAAX,CAAH,EAA8CoB,IAAI,CAACC,GAAL,CAAS,CAAT,EAAWD,IAAI,CAACE,KAAL,CAAW,CAACvB,CAAC,CAAC,CAAD,CAAD,GAAKJ,CAAC,CAAC+B,IAAR,IAAc1B,CAAC,CAAC,CAAD,CAA1B,CAAX,CAA9C,CAA5F,EAAsLP,CAAC,CAAC0B,CAAD,EAAGD,CAAC,CAAC,CAAD,CAAD,GAAKjB,CAAC,CAAC,CAAD,CAAN,GAAU,CAAb,EAAeiB,CAAC,CAAC,CAAD,CAAD,GAAKjB,CAAC,CAAC,CAAD,CAAN,GAAU,CAAzB,CAA9L;AAA2N,UAAK;AAAC0B,MAAAA,IAAI,EAACC,CAAN;AAAQC,MAAAA,IAAI,EAACC;AAAb,QAAgBpC,CAArB;AAAuB,QAAIqC,CAAJ,EAAMC,CAAN,EAAQC,CAAR,EAAUC,CAAV;AAAY,WAAM,CAACvC,CAAD,IAAIiC,CAAJ,IAAOE,CAAP,KAAWrC,CAAC,CAACQ,CAAD,EAAG2B,CAAC,CAAC,CAAD,CAAJ,EAAQE,CAAC,CAAC,CAAD,CAAT,CAAD,EAAerC,CAAC,CAACyB,CAAD,EAAGU,CAAC,CAAC,CAAD,CAAJ,EAAQE,CAAC,CAAC,CAAD,CAAT,CAAhB,EAA8BrC,CAAC,CAAC0B,CAAD,EAAGS,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAN,GAAU,CAAb,EAAeE,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAN,GAAU,CAAzB,CAA1C,GAAuEvC,CAAC,CAAC4C,WAAF,IAAeJ,CAAC,GAACvC,CAAC,CAAC4B,IAAI,CAACgB,IAAL,CAAUhB,IAAI,CAACiB,KAAL,CAAW,CAACvC,CAAC,CAACwC,KAAF,CAAQ,CAAR,IAAWxC,CAAC,CAACwC,KAAF,CAAQ,CAAR,CAAZ,IAAwB5C,CAAC,CAACS,UAArC,IAAiDZ,CAAC,CAACiB,IAAF,CAAO,CAAP,CAA3D,CAAD,EAAuEW,CAAC,CAAC,CAAD,CAAxE,CAAH,EAAgFa,CAAC,GAACxC,CAAC,CAAC4B,IAAI,CAACE,KAAL,CAAW,CAACxB,CAAC,CAACO,MAAF,CAAS,CAAT,IAAYN,CAAC,CAAC,CAAD,CAAd,IAAmBC,CAAC,CAAC,CAAD,CAA/B,CAAD,EAAqCC,CAAC,CAAC,CAAD,CAAtC,CAAnF,EAA8HgC,CAAC,GAACzC,CAAC,CAACuC,CAAC,CAAC,CAAD,CAAD,GAAKC,CAAC,CAAC,CAAD,CAAN,GAAU,CAAX,EAAad,CAAC,CAAC,CAAD,CAAd,CAAjI,EAAoJgB,CAAC,GAAC,CAAC,CAAtK,KAA0KF,CAAC,GAAC/B,CAAF,EAAIgC,CAAC,GAACf,CAAN,EAAQa,CAAC,GAACZ,CAAV,EAAYe,CAAC,GAAC,CAAC,CAAzL,CAAvE,EAAmQ,IAAItC,CAAJ,CAAMF,CAAC,CAACQ,KAAR,EAAcR,CAAC,CAACS,UAAhB,EAA2BT,CAAC,CAACU,KAA7B,EAAmCL,CAAnC,EAAqCE,CAArC,EAAuCiB,CAAvC,EAAyCC,CAAzC,EAA2CnB,CAA3C,EAA6CgC,CAA7C,EAA+CC,CAA/C,EAAiDF,CAAjD,EAAmDG,CAAnD,CAAzQ;AAA+T;;AAAAK,EAAAA,YAAY,CAACnD,CAAD,EAAG;AAAC,QAAG,CAAC,KAAKyB,IAAT,EAAc,OAAOzB,CAAP;AAAS,UAAME,CAAC,GAAC,KAAKsB,SAAL,CAAe,CAAf,CAAR;AAA0B,WAAOxB,CAAC,GAAC,CAAF,GAAIE,CAAC,GAAC,CAAF,GAAI8B,IAAI,CAACoB,GAAL,CAAS,CAACpD,CAAC,GAAC,CAAH,IAAME,CAAf,CAAR,GAA0BF,CAAC,GAACE,CAAnC;AAAqC;;AAAAmD,EAAAA,cAAc,CAACrD,CAAD,EAAGE,CAAH,EAAK;AAAC,WAAO,KAAKuB,IAAL,GAAU,KAAKD,SAAL,CAAe,CAAf,IAAkBtB,CAAlB,GAAoBF,CAA9B,GAAgCA,CAAvC;AAAyC;;AAAAsD,EAAAA,iBAAiB,CAACtD,CAAD,EAAG;AAAC,WAAO,KAAKyB,IAAL,GAAUO,IAAI,CAACE,KAAL,CAAWlC,CAAC,GAAC,KAAKwB,SAAL,CAAe,CAAf,CAAb,CAAV,GAA0C,CAAjD;AAAmD;;AAAA+B,EAAAA,sBAAsB,CAACvD,CAAD,EAAG;AAAC,WAAOA,CAAC,GAAC,KAAKwB,SAAL,CAAe,CAAf,CAAF,GAAoB,KAAKN,KAAL,CAAW,CAAX,CAA3B;AAAyC;;AAAAsC,EAAAA,qBAAqB,CAACxD,CAAD,EAAG;AAAC,WAAOA,CAAC,GAAC,KAAKwB,SAAL,CAAe,CAAf,CAAF,GAAoB,KAAKN,KAAL,CAAW,CAAX,CAApB,GAAkC,KAAKE,IAAL,CAAU,CAAV,CAAlC,GAA+C,CAAtD;AAAwD;;AAAAqC,EAAAA,aAAa,CAACzD,CAAD,EAAG;AAAC,WAAM,CAACA,CAAC,GAAC,KAAKiB,MAAL,CAAY,CAAZ,CAAH,IAAmB,KAAKI,IAAL,CAAU,CAAV,CAAzB;AAAsC;;AAAAqC,EAAAA,aAAa,CAAC1D,CAAD,EAAG;AAAC,WAAO,KAAKiB,MAAL,CAAY,CAAZ,IAAejB,CAAC,GAAC,KAAKqB,IAAL,CAAU,CAAV,CAAxB;AAAqC;;AAAAsC,EAAAA,UAAU,CAAC3D,CAAD,EAAG;AAAC,WAAM,CAAC,KAAKiB,MAAL,CAAY,CAAZ,IAAejB,CAAhB,IAAmB,KAAKqB,IAAL,CAAU,CAAV,CAAzB;AAAsC;;AAAAuC,EAAAA,UAAU,CAAC5D,CAAD,EAAG;AAAC,WAAO,KAAKiB,MAAL,CAAY,CAAZ,IAAejB,CAAC,GAAC,KAAKqB,IAAL,CAAU,CAAV,CAAxB;AAAqC;;AAAAwC,EAAAA,aAAa,CAAC7D,CAAD,EAAGE,CAAH,EAAU;AAAA,QAALC,CAAK,uEAAH,CAAC,CAAE;AAACI,IAAAA,CAAC,CAACuD,GAAF,CAAM5D,CAAN;AAAS,UAAME,CAAC,GAACD,CAAC,GAACI,CAAC,CAACwD,GAAH,GAAO,KAAKV,cAAL,CAAoB9C,CAAC,CAACwD,GAAtB,EAA0BxD,CAAC,CAACyD,KAA5B,CAAhB;AAAA,UAAmD3D,CAAC,GAACE,CAAC,CAAC0D,GAAvD;AAA2D,WAAO3D,CAAC,CAACN,CAAD,EAAG,KAAK0D,aAAL,CAAmBtD,CAAnB,CAAH,EAAyB,KAAKwD,UAAL,CAAgBvD,CAAC,GAAC,CAAlB,CAAzB,EAA8C,KAAKqD,aAAL,CAAmBtD,CAAC,GAAC,CAArB,CAA9C,EAAsE,KAAKwD,UAAL,CAAgBvD,CAAhB,CAAtE,CAAD,EAA2FL,CAAlG;AAAoG;;AAAAkE,EAAAA,aAAa,CAAClE,CAAD,EAAGE,CAAH,EAAU;AAAA,QAALC,CAAK,uEAAH,CAAC,CAAE;AAACI,IAAAA,CAAC,CAACuD,GAAF,CAAM5D,CAAN;AAAS,UAAME,CAAC,GAACD,CAAC,GAACI,CAAC,CAACwD,GAAH,GAAO,KAAKV,cAAL,CAAoB9C,CAAC,CAACwD,GAAtB,EAA0BxD,CAAC,CAACyD,KAA5B,CAAhB;AAAmD,WAAOG,KAAK,CAACC,OAAN,CAAcpE,CAAd,IAAiBK,CAAC,CAACL,CAAD,EAAG,KAAK0D,aAAL,CAAmBtD,CAAnB,CAAH,EAAyB,KAAKwD,UAAL,CAAgBrD,CAAC,CAAC0D,GAAlB,CAAzB,CAAlB,IAAoEjE,CAAC,CAAC4B,CAAF,GAAI,KAAK8B,aAAL,CAAmBtD,CAAnB,CAAJ,EAA0BJ,CAAC,CAAC6B,CAAF,GAAI,KAAK+B,UAAL,CAAgBrD,CAAC,CAAC0D,GAAlB,CAAlG,GAA0HjE,CAAjI;AAAmI;;AAAh7D;;AAAi7D,SAAOQ,CAAC,IAAI6D,OAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{getInfo as r}from\"../../../geometry/support/spatialReferenceUtils.js\";import o from\"./TileKey.js\";function i(t,r){return[t,r]}function e(t,r,o){return t[0]=r,t[1]=o,t}function s(t,r,o,i,e){return t[0]=r,t[1]=o,t[2]=i,t[3]=e,t}const n=new o(\"0/0/0/0\");class l{constructor(t,r,o,i,e,s,n,l,h,a,u,m){this.level=t,this.resolution=r,this.scale=o,this.origin=i,this.first=e,this.last=s,this.size=n,this.norm=l,this.worldStart=h,this.worldEnd=a,this.worldSize=u,this.wrap=m}static create(o,s,n=null){const h=r(o.spatialReference),a=s.origin||i(o.origin.x,o.origin.y),u=i(o.size[0]*s.resolution,o.size[1]*s.resolution),m=i(-1/0,-1/0),g=i(1/0,1/0),w=i(1/0,1/0);t(n)&&(e(m,Math.max(0,Math.floor((n.xmin-a[0])/u[0])),Math.max(0,Math.floor((a[1]-n.ymax)/u[1]))),e(g,Math.max(0,Math.floor((n.xmax-a[0])/u[0])),Math.max(0,Math.floor((a[1]-n.ymin)/u[1]))),e(w,g[0]-m[0]+1,g[1]-m[1]+1));const{cols:c,rows:d}=s;let f,F,z,p;return!n&&c&&d&&(e(m,c[0],d[0]),e(g,c[1],d[1]),e(w,c[1]-c[0]+1,d[1]-d[0]+1)),o.isWrappable?(f=i(Math.ceil(Math.round((h.valid[1]-h.valid[0])/s.resolution)/o.size[0]),w[1]),F=i(Math.floor((h.origin[0]-a[0])/u[0]),m[1]),z=i(f[0]+F[0]-1,g[1]),p=!0):(F=m,z=g,f=w,p=!1),new l(s.level,s.resolution,s.scale,a,m,g,w,u,F,z,f,p)}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,o=!1){n.set(r);const i=o?n.col:this.denormalizeCol(n.col,n.world),e=n.row;return s(t,this.getXForColumn(i),this.getYForRow(e+1),this.getXForColumn(i+1),this.getYForRow(e)),t}getTileCoords(t,r,o=!1){n.set(r);const i=o?n.col:this.denormalizeCol(n.col,n.world);return Array.isArray(t)?e(t,this.getXForColumn(i),this.getYForRow(n.row)):(t.x=this.getXForColumn(i),t.y=this.getYForRow(n.row)),t}}export{l as default};\n"]},"metadata":{},"sourceType":"module"}