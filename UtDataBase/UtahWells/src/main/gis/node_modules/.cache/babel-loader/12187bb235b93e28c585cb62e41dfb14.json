{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { p as t } from \"../../../../../chunks/mat4.js\";\nimport { BufferViewVec4f as e, BufferViewVec4u8 as f, BufferViewVec2f as o, BufferViewVec3f as r } from \"../../../../../geometry/support/buffer/BufferView.js\";\nimport { assert as s } from \"../../lib/Util.js\";\nimport { VertexAttribute as n } from \"../../lib/VertexAttribute.js\";\n\nfunction i(t, e, f, o) {\n  let r = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  const s = f.typedBuffer,\n        n = f.typedBufferStride,\n        i = t.length;\n  if (o *= n, 1 === r) for (let c = 0; c < i; ++c) s[o] = e[t[c]], o += n;else for (let c = 0; c < i; ++c) {\n    const f = e[t[c]];\n\n    for (let t = 0; t < r; t++) s[o] = f, o += n;\n  }\n}\n\nfunction c(t, e, f, o) {\n  const r = f.typedBuffer,\n        s = f.typedBufferStride,\n        n = t.length;\n  o *= s;\n\n  for (let i = 0; i < n; ++i) {\n    const f = 2 * t[i];\n    r[o] = e[f], r[o + 1] = e[f + 1], o += s;\n  }\n}\n\nfunction l(t, e, f, o, r) {\n  const s = f.typedBuffer,\n        n = f.typedBufferStride,\n        i = t.length;\n  if (o *= n, null == r || 1 === r) for (let c = 0; c < i; ++c) {\n    const f = 3 * t[c];\n    s[o] = e[f], s[o + 1] = e[f + 1], s[o + 2] = e[f + 2], o += n;\n  } else for (let c = 0; c < i; ++c) {\n    const f = 3 * t[c];\n\n    for (let t = 0; t < r; ++t) s[o] = e[f], s[o + 1] = e[f + 1], s[o + 2] = e[f + 2], o += n;\n  }\n}\n\nfunction d(t, e, f, o) {\n  let r = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  const s = f.typedBuffer,\n        n = f.typedBufferStride,\n        i = t.length;\n  if (o *= n, 1 === r) for (let c = 0; c < i; ++c) {\n    const f = 4 * t[c];\n    s[o] = e[f], s[o + 1] = e[f + 1], s[o + 2] = e[f + 2], s[o + 3] = e[f + 3], o += n;\n  } else for (let c = 0; c < i; ++c) {\n    const f = 4 * t[c];\n\n    for (let t = 0; t < r; ++t) s[o] = e[f], s[o + 1] = e[f + 1], s[o + 2] = e[f + 2], s[o + 3] = e[f + 3], o += n;\n  }\n}\n\nfunction u(t, e, f, o) {\n  const r = f.typedBuffer,\n        s = f.typedBufferStride,\n        n = t.length;\n  o *= s;\n\n  for (let i = 0; i < n; ++i) {\n    const f = 9 * t[i];\n\n    for (let t = 0; t < 9; ++t) r[o + t] = e[f + t];\n\n    o += s;\n  }\n}\n\nfunction a(t, e, f, o) {\n  const r = f.typedBuffer,\n        s = f.typedBufferStride,\n        n = t.length;\n  o *= s;\n\n  for (let i = 0; i < n; ++i) {\n    const f = 16 * t[i];\n\n    for (let t = 0; t < 16; ++t) r[o + t] = e[f + t];\n\n    o += s;\n  }\n}\n\nfunction p(t, e, f, o, r) {\n  let s = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n  if (!f) return void l(t, e, o, r, s);\n  const n = o.typedBuffer,\n        i = o.typedBufferStride,\n        c = t.length,\n        d = f[0],\n        u = f[1],\n        a = f[2],\n        p = f[4],\n        B = f[5],\n        y = f[6],\n        g = f[8],\n        h = f[9],\n        S = f[10],\n        b = f[12],\n        m = f[13],\n        z = f[14];\n  if (r *= i, 1 === s) for (let l = 0; l < c; ++l) {\n    const f = 3 * t[l],\n          o = e[f],\n          s = e[f + 1],\n          c = e[f + 2];\n    n[r] = d * o + p * s + g * c + b, n[r + 1] = u * o + B * s + h * c + m, n[r + 2] = a * o + y * s + S * c + z, r += i;\n  } else for (let l = 0; l < c; ++l) {\n    const f = 3 * t[l],\n          o = e[f],\n          c = e[f + 1],\n          O = e[f + 2],\n          k = d * o + p * c + g * O + b,\n          F = u * o + B * c + h * O + m,\n          M = a * o + y * c + S * O + z;\n\n    for (let t = 0; t < s; ++t) n[r] = k, n[r + 1] = F, n[r + 2] = M, r += i;\n  }\n}\n\nfunction B(e, f, o, r, s) {\n  let n = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n  if (!o) return void l(e, f, r, s, n);\n  const i = o,\n        c = r.typedBuffer,\n        d = r.typedBufferStride,\n        u = e.length,\n        a = i[0],\n        p = i[1],\n        B = i[2],\n        y = i[4],\n        g = i[5],\n        h = i[6],\n        S = i[8],\n        b = i[9],\n        m = i[10],\n        z = !t(i),\n        O = 1e-6,\n        k = 1 - O;\n  if (s *= d, 1 === n) for (let t = 0; t < u; ++t) {\n    const o = 3 * e[t],\n          r = f[o],\n          n = f[o + 1],\n          i = f[o + 2];\n    let l = a * r + y * n + S * i,\n        u = p * r + g * n + b * i,\n        F = B * r + h * n + m * i;\n\n    if (z) {\n      const t = l * l + u * u + F * F;\n\n      if (t < k && t > O) {\n        const e = 1 / Math.sqrt(t);\n        l *= e, u *= e, F *= e;\n      }\n    }\n\n    c[s + 0] = l, c[s + 1] = u, c[s + 2] = F, s += d;\n  } else for (let t = 0; t < u; ++t) {\n    const o = 3 * e[t],\n          r = f[o],\n          i = f[o + 1],\n          l = f[o + 2];\n    let u = a * r + y * i + S * l,\n        F = p * r + g * i + b * l,\n        M = B * r + h * i + m * l;\n\n    if (z) {\n      const t = u * u + F * F + M * M;\n\n      if (t < k && t > O) {\n        const e = 1 / Math.sqrt(t);\n        u *= e, F *= e, M *= e;\n      }\n    }\n\n    for (let t = 0; t < n; ++t) c[s + 0] = u, c[s + 1] = F, c[s + 2] = M, s += d;\n  }\n}\n\nfunction y(e, f, o, r, s) {\n  let n = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n  if (!o) return void d(e, f, r, s, n);\n  const i = o,\n        c = r.typedBuffer,\n        l = r.typedBufferStride,\n        u = e.length,\n        a = i[0],\n        p = i[1],\n        B = i[2],\n        y = i[4],\n        g = i[5],\n        h = i[6],\n        S = i[8],\n        b = i[9],\n        m = i[10],\n        z = !t(i),\n        O = 1e-6,\n        k = 1 - O;\n  if (s *= l, 1 === n) for (let t = 0; t < u; ++t) {\n    const o = 4 * e[t],\n          r = f[o],\n          n = f[o + 1],\n          i = f[o + 2],\n          d = f[o + 3];\n    let u = a * r + y * n + S * i,\n        F = p * r + g * n + b * i,\n        M = B * r + h * n + m * i;\n\n    if (z) {\n      const t = u * u + F * F + M * M;\n\n      if (t < k && t > O) {\n        const e = 1 / Math.sqrt(t);\n        u *= e, F *= e, M *= e;\n      }\n    }\n\n    c[s + 0] = u, c[s + 1] = F, c[s + 2] = M, c[s + 3] = d, s += l;\n  } else for (let t = 0; t < u; ++t) {\n    const o = 4 * e[t],\n          r = f[o],\n          i = f[o + 1],\n          d = f[o + 2],\n          u = f[o + 3];\n    let F = a * r + y * i + S * d,\n        M = p * r + g * i + b * d,\n        N = B * r + h * i + m * d;\n\n    if (z) {\n      const t = F * F + M * M + N * N;\n\n      if (t < k && t > O) {\n        const e = 1 / Math.sqrt(t);\n        F *= e, M *= e, N *= e;\n      }\n    }\n\n    for (let t = 0; t < n; ++t) c[s + 0] = F, c[s + 1] = M, c[s + 2] = N, c[s + 3] = u, s += l;\n  }\n}\n\nfunction g(t, e, f, o, r) {\n  let s = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\n  const n = o.typedBuffer,\n        i = o.typedBufferStride,\n        c = t.length;\n\n  if (r *= i, 1 === s) {\n    if (4 === f) for (let l = 0; l < c; ++l) {\n      const f = 4 * t[l];\n      n[r] = e[f], n[r + 1] = e[f + 1], n[r + 2] = e[f + 2], n[r + 3] = e[f + 3], r += i;\n    } else if (3 === f) for (let l = 0; l < c; ++l) {\n      const f = 3 * t[l];\n      n[r] = e[f], n[r + 1] = e[f + 1], n[r + 2] = e[f + 2], n[r + 3] = 255, r += i;\n    }\n  } else if (4 === f) for (let l = 0; l < c; ++l) {\n    const f = 4 * t[l];\n\n    for (let t = 0; t < s; ++t) n[r] = e[f], n[r + 1] = e[f + 1], n[r + 2] = e[f + 2], n[r + 3] = e[f + 3], r += i;\n  } else if (3 === f) for (let l = 0; l < c; ++l) {\n    const f = 3 * t[l];\n\n    for (let t = 0; t < s; ++t) n[r] = e[f], n[r + 1] = e[f + 1], n[r + 2] = e[f + 2], n[r + 3] = 255, r += i;\n  }\n}\n\nfunction h(t, i, l, d, u, a) {\n  for (const h of i.fieldNames) {\n    const i = t.vertexAttributes.get(h),\n          S = t.indices.get(h);\n    if (i && S) switch (h) {\n      case n.POSITION:\n        {\n          s(3 === i.size);\n          const t = u.getField(h, r);\n          t && p(S, i.data, l, t, a);\n          break;\n        }\n\n      case n.NORMAL:\n        {\n          s(3 === i.size);\n          const t = u.getField(h, r);\n          t && B(S, i.data, d, t, a);\n          break;\n        }\n\n      case n.UV0:\n        {\n          s(2 === i.size);\n          const t = u.getField(h, o);\n          t && c(S, i.data, t, a);\n          break;\n        }\n\n      case n.COLOR:\n        {\n          s(3 === i.size || 4 === i.size);\n          const t = u.getField(h, f);\n          t && g(S, i.data, i.size, t, a);\n          break;\n        }\n\n      case n.SYMBOLCOLOR:\n        {\n          s(3 === i.size || 4 === i.size);\n          const t = u.getField(h, f);\n          t && g(S, i.data, i.size, t, a);\n          break;\n        }\n\n      case n.TANGENT:\n        {\n          s(4 === i.size);\n          const t = u.getField(h, e);\n          t && y(S, i.data, d, t, a);\n          break;\n        }\n    }\n  }\n}\n\nexport { i as writeBufferFloat, u as writeBufferMat3f, a as writeBufferMat4f, c as writeBufferVec2, l as writeBufferVec3, d as writeBufferVec4, g as writeColor, h as writeDefaultAttributes, B as writeNormal, p as writePosition, y as writeTangent };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js"],"names":["p","t","BufferViewVec4f","e","BufferViewVec4u8","f","BufferViewVec2f","o","BufferViewVec3f","r","assert","s","VertexAttribute","n","i","typedBuffer","typedBufferStride","length","c","l","d","u","a","B","y","g","h","S","b","m","z","O","k","F","M","Math","sqrt","N","fieldNames","vertexAttributes","get","indices","POSITION","size","getField","data","NORMAL","UV0","COLOR","SYMBOLCOLOR","TANGENT","writeBufferFloat","writeBufferMat3f","writeBufferMat4f","writeBufferVec2","writeBufferVec3","writeBufferVec4","writeColor","writeDefaultAttributes","writeNormal","writePosition","writeTangent"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{p as t}from\"../../../../../chunks/mat4.js\";import{BufferViewVec4f as e,BufferViewVec4u8 as f,BufferViewVec2f as o,BufferViewVec3f as r}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as s}from\"../../lib/Util.js\";import{VertexAttribute as n}from\"../../lib/VertexAttribute.js\";function i(t,e,f,o,r=1){const s=f.typedBuffer,n=f.typedBufferStride,i=t.length;if(o*=n,1===r)for(let c=0;c<i;++c)s[o]=e[t[c]],o+=n;else for(let c=0;c<i;++c){const f=e[t[c]];for(let t=0;t<r;t++)s[o]=f,o+=n}}function c(t,e,f,o){const r=f.typedBuffer,s=f.typedBufferStride,n=t.length;o*=s;for(let i=0;i<n;++i){const f=2*t[i];r[o]=e[f],r[o+1]=e[f+1],o+=s}}function l(t,e,f,o,r){const s=f.typedBuffer,n=f.typedBufferStride,i=t.length;if(o*=n,null==r||1===r)for(let c=0;c<i;++c){const f=3*t[c];s[o]=e[f],s[o+1]=e[f+1],s[o+2]=e[f+2],o+=n}else for(let c=0;c<i;++c){const f=3*t[c];for(let t=0;t<r;++t)s[o]=e[f],s[o+1]=e[f+1],s[o+2]=e[f+2],o+=n}}function d(t,e,f,o,r=1){const s=f.typedBuffer,n=f.typedBufferStride,i=t.length;if(o*=n,1===r)for(let c=0;c<i;++c){const f=4*t[c];s[o]=e[f],s[o+1]=e[f+1],s[o+2]=e[f+2],s[o+3]=e[f+3],o+=n}else for(let c=0;c<i;++c){const f=4*t[c];for(let t=0;t<r;++t)s[o]=e[f],s[o+1]=e[f+1],s[o+2]=e[f+2],s[o+3]=e[f+3],o+=n}}function u(t,e,f,o){const r=f.typedBuffer,s=f.typedBufferStride,n=t.length;o*=s;for(let i=0;i<n;++i){const f=9*t[i];for(let t=0;t<9;++t)r[o+t]=e[f+t];o+=s}}function a(t,e,f,o){const r=f.typedBuffer,s=f.typedBufferStride,n=t.length;o*=s;for(let i=0;i<n;++i){const f=16*t[i];for(let t=0;t<16;++t)r[o+t]=e[f+t];o+=s}}function p(t,e,f,o,r,s=1){if(!f)return void l(t,e,o,r,s);const n=o.typedBuffer,i=o.typedBufferStride,c=t.length,d=f[0],u=f[1],a=f[2],p=f[4],B=f[5],y=f[6],g=f[8],h=f[9],S=f[10],b=f[12],m=f[13],z=f[14];if(r*=i,1===s)for(let l=0;l<c;++l){const f=3*t[l],o=e[f],s=e[f+1],c=e[f+2];n[r]=d*o+p*s+g*c+b,n[r+1]=u*o+B*s+h*c+m,n[r+2]=a*o+y*s+S*c+z,r+=i}else for(let l=0;l<c;++l){const f=3*t[l],o=e[f],c=e[f+1],O=e[f+2],k=d*o+p*c+g*O+b,F=u*o+B*c+h*O+m,M=a*o+y*c+S*O+z;for(let t=0;t<s;++t)n[r]=k,n[r+1]=F,n[r+2]=M,r+=i}}function B(e,f,o,r,s,n=1){if(!o)return void l(e,f,r,s,n);const i=o,c=r.typedBuffer,d=r.typedBufferStride,u=e.length,a=i[0],p=i[1],B=i[2],y=i[4],g=i[5],h=i[6],S=i[8],b=i[9],m=i[10],z=!t(i),O=1e-6,k=1-O;if(s*=d,1===n)for(let t=0;t<u;++t){const o=3*e[t],r=f[o],n=f[o+1],i=f[o+2];let l=a*r+y*n+S*i,u=p*r+g*n+b*i,F=B*r+h*n+m*i;if(z){const t=l*l+u*u+F*F;if(t<k&&t>O){const e=1/Math.sqrt(t);l*=e,u*=e,F*=e}}c[s+0]=l,c[s+1]=u,c[s+2]=F,s+=d}else for(let t=0;t<u;++t){const o=3*e[t],r=f[o],i=f[o+1],l=f[o+2];let u=a*r+y*i+S*l,F=p*r+g*i+b*l,M=B*r+h*i+m*l;if(z){const t=u*u+F*F+M*M;if(t<k&&t>O){const e=1/Math.sqrt(t);u*=e,F*=e,M*=e}}for(let t=0;t<n;++t)c[s+0]=u,c[s+1]=F,c[s+2]=M,s+=d}}function y(e,f,o,r,s,n=1){if(!o)return void d(e,f,r,s,n);const i=o,c=r.typedBuffer,l=r.typedBufferStride,u=e.length,a=i[0],p=i[1],B=i[2],y=i[4],g=i[5],h=i[6],S=i[8],b=i[9],m=i[10],z=!t(i),O=1e-6,k=1-O;if(s*=l,1===n)for(let t=0;t<u;++t){const o=4*e[t],r=f[o],n=f[o+1],i=f[o+2],d=f[o+3];let u=a*r+y*n+S*i,F=p*r+g*n+b*i,M=B*r+h*n+m*i;if(z){const t=u*u+F*F+M*M;if(t<k&&t>O){const e=1/Math.sqrt(t);u*=e,F*=e,M*=e}}c[s+0]=u,c[s+1]=F,c[s+2]=M,c[s+3]=d,s+=l}else for(let t=0;t<u;++t){const o=4*e[t],r=f[o],i=f[o+1],d=f[o+2],u=f[o+3];let F=a*r+y*i+S*d,M=p*r+g*i+b*d,N=B*r+h*i+m*d;if(z){const t=F*F+M*M+N*N;if(t<k&&t>O){const e=1/Math.sqrt(t);F*=e,M*=e,N*=e}}for(let t=0;t<n;++t)c[s+0]=F,c[s+1]=M,c[s+2]=N,c[s+3]=u,s+=l}}function g(t,e,f,o,r,s=1){const n=o.typedBuffer,i=o.typedBufferStride,c=t.length;if(r*=i,1===s){if(4===f)for(let l=0;l<c;++l){const f=4*t[l];n[r]=e[f],n[r+1]=e[f+1],n[r+2]=e[f+2],n[r+3]=e[f+3],r+=i}else if(3===f)for(let l=0;l<c;++l){const f=3*t[l];n[r]=e[f],n[r+1]=e[f+1],n[r+2]=e[f+2],n[r+3]=255,r+=i}}else if(4===f)for(let l=0;l<c;++l){const f=4*t[l];for(let t=0;t<s;++t)n[r]=e[f],n[r+1]=e[f+1],n[r+2]=e[f+2],n[r+3]=e[f+3],r+=i}else if(3===f)for(let l=0;l<c;++l){const f=3*t[l];for(let t=0;t<s;++t)n[r]=e[f],n[r+1]=e[f+1],n[r+2]=e[f+2],n[r+3]=255,r+=i}}function h(t,i,l,d,u,a){for(const h of i.fieldNames){const i=t.vertexAttributes.get(h),S=t.indices.get(h);if(i&&S)switch(h){case n.POSITION:{s(3===i.size);const t=u.getField(h,r);t&&p(S,i.data,l,t,a);break}case n.NORMAL:{s(3===i.size);const t=u.getField(h,r);t&&B(S,i.data,d,t,a);break}case n.UV0:{s(2===i.size);const t=u.getField(h,o);t&&c(S,i.data,t,a);break}case n.COLOR:{s(3===i.size||4===i.size);const t=u.getField(h,f);t&&g(S,i.data,i.size,t,a);break}case n.SYMBOLCOLOR:{s(3===i.size||4===i.size);const t=u.getField(h,f);t&&g(S,i.data,i.size,t,a);break}case n.TANGENT:{s(4===i.size);const t=u.getField(h,e);t&&y(S,i.data,d,t,a);break}}}}export{i as writeBufferFloat,u as writeBufferMat3f,a as writeBufferMat4f,c as writeBufferVec2,l as writeBufferVec3,d as writeBufferVec4,g as writeColor,h as writeDefaultAttributes,B as writeNormal,p as writePosition,y as writeTangent};\n"]},"metadata":{},"sourceType":"module"}