{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"../request.js\";\nimport t from \"../core/Error.js\";\nimport { isSome as n } from \"../core/maybe.js\";\nimport { normalizeMessageBundleLocale as r } from \"./messages.js\";\n\nasync function o(e, n, o, i) {\n  const a = n.exec(o);\n  if (!a) throw new t(\"esri-intl:invalid-bundle\", `Bundle id \"${o}\" is not compatible with the pattern \"${n}\"`);\n  const c = a[1] ? `${a[1]}/` : \"\",\n        l = a[2],\n        w = r(i),\n        h = `${c}${l}.json`,\n        u = w ? `${c}${l}_${w}.json` : h;\n  let f;\n\n  try {\n    f = await s(e(u));\n  } catch (d) {\n    if (u === h) throw new t(\"intl:unknown-bundle\", `Bundle \"${o}\" cannot be loaded`, {\n      error: d\n    });\n\n    try {\n      f = await s(e(h));\n    } catch (d) {\n      throw new t(\"intl:unknown-bundle\", `Bundle \"${o}\" cannot be loaded`, {\n        error: d\n      });\n    }\n  }\n\n  return f;\n}\n\nasync function s(t) {\n  if (n(c.fetchBundleAsset)) return c.fetchBundleAsset(t);\n  const r = await e(t, {\n    responseType: \"text\"\n  });\n  return JSON.parse(r.data);\n}\n\nclass i {\n  constructor(_ref) {\n    let {\n      base: e = \"\",\n      pattern: t,\n      location: n = new URL(window.location.href)\n    } = _ref;\n    let r;\n    r = \"string\" == typeof n ? e => new URL(e, new URL(n, window.location.href)).href : n instanceof URL ? e => new URL(e, n).href : n, this.pattern = \"string\" == typeof t ? new RegExp(`^${t}`) : t, this.getAssetUrl = r, e = e ? e.endsWith(\"/\") ? e : e + \"/\" : \"\", this.matcher = new RegExp(`^${e}(?:(.*)/)?(.*)$`);\n  }\n\n  fetchMessageBundle(e, t) {\n    return o(this.getAssetUrl, this.matcher, e, t);\n  }\n\n}\n\nfunction a(e) {\n  return new i(e);\n}\n\nconst c = {};\nexport { i as JSONLoader, a as createJSONLoader, c as test };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/intl/t9n.js"],"names":["e","t","isSome","n","normalizeMessageBundleLocale","r","o","i","a","exec","c","l","w","h","u","f","s","d","error","fetchBundleAsset","responseType","JSON","parse","data","constructor","base","pattern","location","URL","window","href","RegExp","getAssetUrl","endsWith","matcher","fetchMessageBundle","JSONLoader","createJSONLoader","test"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";import t from\"../core/Error.js\";import{isSome as n}from\"../core/maybe.js\";import{normalizeMessageBundleLocale as r}from\"./messages.js\";async function o(e,n,o,i){const a=n.exec(o);if(!a)throw new t(\"esri-intl:invalid-bundle\",`Bundle id \"${o}\" is not compatible with the pattern \"${n}\"`);const c=a[1]?`${a[1]}/`:\"\",l=a[2],w=r(i),h=`${c}${l}.json`,u=w?`${c}${l}_${w}.json`:h;let f;try{f=await s(e(u))}catch(d){if(u===h)throw new t(\"intl:unknown-bundle\",`Bundle \"${o}\" cannot be loaded`,{error:d});try{f=await s(e(h))}catch(d){throw new t(\"intl:unknown-bundle\",`Bundle \"${o}\" cannot be loaded`,{error:d})}}return f}async function s(t){if(n(c.fetchBundleAsset))return c.fetchBundleAsset(t);const r=await e(t,{responseType:\"text\"});return JSON.parse(r.data)}class i{constructor({base:e=\"\",pattern:t,location:n=new URL(window.location.href)}){let r;r=\"string\"==typeof n?e=>new URL(e,new URL(n,window.location.href)).href:n instanceof URL?e=>new URL(e,n).href:n,this.pattern=\"string\"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=r,e=e?e.endsWith(\"/\")?e:e+\"/\":\"\",this.matcher=new RegExp(`^${e}(?:(.*)/)?(.*)$`)}fetchMessageBundle(e,t){return o(this.getAssetUrl,this.matcher,e,t)}}function a(e){return new i(e)}const c={};export{i as JSONLoader,a as createJSONLoader,c as test};\n"]},"metadata":{},"sourceType":"module"}