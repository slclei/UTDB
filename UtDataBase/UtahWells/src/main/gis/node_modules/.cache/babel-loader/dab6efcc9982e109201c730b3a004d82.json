{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { OriginId as t } from \"./PropertyOrigin.js\";\nimport { trackAccess as s, runTracked as e, trackExplicitDependencies as i, runUntracked as r } from \"./tracking.js\";\nimport { Flags as n } from \"./tracking/Flags.js\";\nimport { ObservationHandle as l } from \"./tracking/ObservationHandle.js\";\n\nclass o {\n  constructor(t, s, e) {\n    this.properties = t, this.propertyName = s, this.metadata = e, this._observers = null, this._accessed = null, this._handles = null, this.flags = n.Dirty | (e.nonNullable ? n.NonNullable : 0) | (e.hasOwnProperty(\"value\") ? n.HasDefaultValue : 0) | (void 0 === e.get ? n.DepTrackingInitialized : 0) | (void 0 === e.dependsOn ? n.AutoTracked : 0);\n  }\n\n  destroy() {\n    this._accessed = null, this._observers = null, this._clearObservationHandles();\n  }\n\n  getComputed() {\n    s(this);\n    const l = this.properties.store,\n          o = this.propertyName,\n          a = this.flags,\n          h = l.get(o);\n    if (a & n.Computing) return h;\n    if (~a & n.Dirty && l.has(o)) return h;\n    this.flags |= n.Computing;\n    const d = this.properties.host;\n    let c;\n    a & n.AutoTracked ? c = e(this, this.metadata.get, d) : (i(d, this), c = this.metadata.get.call(d)), l.set(o, c, t.COMPUTED);\n    const u = l.get(o);\n    return u === h ? this.flags &= ~n.Dirty : r(this.commit, this), this.flags &= ~n.Computing, u;\n  }\n\n  onObservableAccessed(t) {\n    t !== this && (null === this._accessed && (this._accessed = []), this._accessed.includes(t) || this._accessed.push(t));\n  }\n\n  onTrackingEnd() {\n    this._clearObservationHandles(), this.flags |= n.DepTrackingInitialized;\n    const t = this._accessed;\n    if (null === t) return;\n    let s = this._handles;\n    null === s && (s = this._handles = []);\n\n    for (let e = 0; e < t.length; ++e) s.push(t[e].observe(this));\n\n    t.length = 0;\n  }\n\n  observe(t) {\n    return null === this._observers && (this._observers = []), this._observers.includes(t) || this._observers.push(t), new l(this._observers, t);\n  }\n\n  notifyChange() {\n    this.onInvalidated(), this.onCommitted();\n  }\n\n  invalidate() {\n    this.onInvalidated();\n  }\n\n  onInvalidated() {\n    ~this.flags & n.Overriden && (this.flags |= n.Dirty);\n    const t = this._observers;\n    if (null !== t) for (let s = 0; s < t.length; ++s) t[s].onInvalidated();\n  }\n\n  commit() {\n    this.flags &= ~n.Dirty, this.onCommitted();\n  }\n\n  onCommitted() {\n    if (null === this._observers) return;\n\n    const t = this._observers.slice();\n\n    for (let s = 0; s < t.length; ++s) t[s].onCommitted();\n  }\n\n  _clearObservationHandles() {\n    const t = this._handles;\n\n    if (null !== t) {\n      for (let s = 0; s < t.length; ++s) t[s].remove();\n\n      t.length = 0;\n    }\n  }\n\n}\n\nexport { o as Property };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/core/accessorSupport/Property.js"],"names":["OriginId","t","trackAccess","s","runTracked","e","trackExplicitDependencies","i","runUntracked","r","Flags","n","ObservationHandle","l","o","constructor","properties","propertyName","metadata","_observers","_accessed","_handles","flags","Dirty","nonNullable","NonNullable","hasOwnProperty","HasDefaultValue","get","DepTrackingInitialized","dependsOn","AutoTracked","destroy","_clearObservationHandles","getComputed","store","a","h","Computing","has","d","host","c","call","set","COMPUTED","u","commit","onObservableAccessed","includes","push","onTrackingEnd","length","observe","notifyChange","onInvalidated","onCommitted","invalidate","Overriden","slice","remove","Property"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{OriginId as t}from\"./PropertyOrigin.js\";import{trackAccess as s,runTracked as e,trackExplicitDependencies as i,runUntracked as r}from\"./tracking.js\";import{Flags as n}from\"./tracking/Flags.js\";import{ObservationHandle as l}from\"./tracking/ObservationHandle.js\";class o{constructor(t,s,e){this.properties=t,this.propertyName=s,this.metadata=e,this._observers=null,this._accessed=null,this._handles=null,this.flags=n.Dirty|(e.nonNullable?n.NonNullable:0)|(e.hasOwnProperty(\"value\")?n.HasDefaultValue:0)|(void 0===e.get?n.DepTrackingInitialized:0)|(void 0===e.dependsOn?n.AutoTracked:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){s(this);const l=this.properties.store,o=this.propertyName,a=this.flags,h=l.get(o);if(a&n.Computing)return h;if(~a&n.Dirty&&l.has(o))return h;this.flags|=n.Computing;const d=this.properties.host;let c;a&n.AutoTracked?c=e(this,this.metadata.get,d):(i(d,this),c=this.metadata.get.call(d)),l.set(o,c,t.COMPUTED);const u=l.get(o);return u===h?this.flags&=~n.Dirty:r(this.commit,this),this.flags&=~n.Computing,u}onObservableAccessed(t){t!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=n.DepTrackingInitialized;const t=this._accessed;if(null===t)return;let s=this._handles;null===s&&(s=this._handles=[]);for(let e=0;e<t.length;++e)s.push(t[e].observe(this));t.length=0}observe(t){return null===this._observers&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new l(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&n.Overriden&&(this.flags|=n.Dirty);const t=this._observers;if(null!==t)for(let s=0;s<t.length;++s)t[s].onInvalidated()}commit(){this.flags&=~n.Dirty,this.onCommitted()}onCommitted(){if(null===this._observers)return;const t=this._observers.slice();for(let s=0;s<t.length;++s)t[s].onCommitted()}_clearObservationHandles(){const t=this._handles;if(null!==t){for(let s=0;s<t.length;++s)t[s].remove();t.length=0}}}export{o as Property};\n"]},"metadata":{},"sourceType":"module"}