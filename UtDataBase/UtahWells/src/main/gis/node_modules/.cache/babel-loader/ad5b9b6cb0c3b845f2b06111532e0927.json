{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { compileScript as e, extend as t, enableAsyncSupport as r } from \"../arcade/arcadeCompiler.js\";\nimport { extend as n, executeScript as s, referencesMember as i, referencesFunction as c } from \"../arcade/arcadeRuntime.js\";\nimport { parseScript as u, validateScript as a, scriptCheck as o, extractFieldLiterals as f, extractExpectedFieldLiterals as p } from \"../arcade/parser.js\";\nimport { findScriptDependencies as l, findFunctionCalls as d } from \"../arcade/treeAnalysis.js\";\nimport m from \"../core/has.js\";\nimport { all as y, create as S } from \"../core/promiseUtils.js\";\nconst h = [\"feature\", \"angle\", \"bearing\", \"centroid\", \"envelopeintersects\", \"extent\", \"geometry\", \"isselfintersecting\", \"ringisclockwise\"];\n\nfunction x() {\n  return !0;\n}\n\nconst b = x();\nlet A = !1,\n    g = !1,\n    j = null,\n    E = [];\n\nfunction F(t, r) {\n  if (!0 === r.useAsync || !0 === t.isAsync) return v(t, r);\n\n  if (m(\"esri-csp-restrictions\")) {\n    return function (e) {\n      return s(t, e);\n    };\n  }\n\n  return e(t, r);\n}\n\nfunction v(t, r) {\n  if (null === j) throw new Error(\"Async Arcade must be enabled for this script\");\n\n  if (m(\"esri-csp-restrictions\") || !1 === b) {\n    return function (e) {\n      return j.executeScript(t, e);\n    };\n  }\n\n  return e(t, r, !0);\n}\n\nfunction G(e) {\n  n(e), t(e, \"sync\"), null === j ? E.push(e) : (t(e, \"async\"), j.extend(e));\n}\n\nfunction w(e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return u(e, t);\n}\n\nfunction k(e, t) {\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n  return a(e, t, r);\n}\n\nfunction U(e, t, r) {\n  let n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n  return o(e, t, r, n);\n}\n\nfunction L(e, t) {\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  return _(u(e, r), t);\n}\n\nfunction _(e, t) {\n  if (!0 === t.useAsync || !0 === e.isAsync) {\n    if (null === j) throw new Error(\"Async Arcade must be enabled for this script\");\n    return j.executeScript(e, t);\n  }\n\n  return s(e, t);\n}\n\nfunction C(e, t) {\n  return i(e, t);\n}\n\nfunction M(e, t) {\n  return c(e, t);\n}\n\nfunction O(e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n  return f(e);\n}\n\nfunction R(e) {\n  return p(e);\n}\n\nfunction q(e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return void 0 === e.usesGeometry && l(e, t), !0 === e.usesGeometry;\n}\n\nlet z = null;\n\nfunction D() {\n  return z || (z = y([import(\"../geometry/geometryEngine.js\"), import(\"../arcade/functions/geomsync.js\")]).then(_ref => {\n    let [e, t] = _ref;\n    return g = !0, t.setGeometryEngine(e), !0;\n  }), z);\n}\n\nlet I = null;\n\nfunction T() {\n  return null !== I || (I = r().then(() => import(\"../arcade/arcadeAsyncRuntime.js\")).then(e => {\n    j = e;\n\n    for (const r of E) j.extend(r), t(r, \"async\");\n\n    return E = null, !0;\n  })), I;\n}\n\nfunction B() {\n  return A;\n}\n\nfunction H() {\n  return !!j;\n}\n\nfunction J() {\n  return g;\n}\n\nlet K = null;\n\nfunction N() {\n  return K || (K = T().then(() => y([import(\"../arcade/featureSetUtils.js\"), import(\"../arcade/functions/featuresetbase.js\"), import(\"../arcade/functions/featuresetgeom.js\"), import(\"../arcade/functions/featuresetstats.js\"), import(\"../arcade/functions/featuresetstring.js\")]).then(_ref2 => {\n    let [e, r, n, s, i] = _ref2;\n    return Y = e, j.extend([r, n, s, i]), t([r, n, s, i], \"async\"), A = !0, !0;\n  })), K);\n}\n\nfunction P(e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return void 0 === e.usesFeatureSet && l(e, t), !0 === e.usesFeatureSet;\n}\n\nfunction Q(e) {\n  let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return void 0 === e.isAsync && l(e, t), !0 === e.isAsync;\n}\n\nfunction V(e, t) {\n  if (t) {\n    for (const r of t) if (C(e, r)) return !0;\n\n    return !1;\n  }\n\n  return !1;\n}\n\nfunction W(e, t) {\n  let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  let n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n  return S((s, i) => {\n    const c = \"string\" == typeof e ? w(e) : e,\n          u = [];\n    c && (!1 === J() && (q(c) || n) && u.push(D()), !1 === H() && (!0 === c.isAsync || t) && u.push(T()), !1 === B() && (P(c) || V(c, r)) && u.push(N())), u.length ? y(u).then(() => {\n      s(!0);\n    }, i) : s(!0);\n  });\n}\n\nfunction X(e) {\n  if (q(e)) return !0;\n  const t = d(e);\n  let r = !1;\n\n  for (let n = 0; n < t.length; n++) if (h.indexOf(t[n]) > -1) {\n    r = !0;\n    break;\n  }\n\n  return r;\n}\n\nlet Y = null;\n\nfunction Z() {\n  return Y;\n}\n\nconst $ = Object.freeze({\n  __proto__: null,\n  compileScript: F,\n  extend: G,\n  parseScript: w,\n  validateScript: k,\n  scriptCheck: U,\n  parseAndExecuteScript: L,\n  executeScript: _,\n  referencesMember: C,\n  referencesFunction: M,\n  extractFieldLiterals: O,\n  extractExpectedFieldLiterals: R,\n  scriptUsesGeometryEngine: q,\n  enableGeometrySupport: D,\n  enableAsyncSupport: T,\n  isFeatureSetSupportEnabled: B,\n  isAsyncEnabled: H,\n  isGeometryEnabled: J,\n  enableFeatureSetSupport: N,\n  scriptUsesFeatureSet: P,\n  scriptIsAsync: Q,\n  loadScriptDependencies: W,\n  scriptTouchesGeometry: X,\n  featureSetUtils: Z\n});\nexport { R as a, D as b, F as c, N as d, _ as e, Z as f, q as g, $ as h, G as i, U as j, L as k, W as l, M as m, O as n, T as o, w as p, B as q, C as r, X as s, H as t, J as u, k as v, P as w, Q as x };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/chunks/arcade.js"],"names":["compileScript","e","extend","t","enableAsyncSupport","r","n","executeScript","s","referencesMember","i","referencesFunction","c","parseScript","u","validateScript","a","scriptCheck","o","extractFieldLiterals","f","extractExpectedFieldLiterals","p","findScriptDependencies","l","findFunctionCalls","d","m","all","y","create","S","h","x","b","A","g","j","E","F","useAsync","isAsync","v","Error","G","push","w","k","U","L","_","C","M","O","R","q","usesGeometry","z","D","then","setGeometryEngine","I","T","B","H","J","K","N","Y","P","usesFeatureSet","Q","V","W","length","X","indexOf","Z","$","Object","freeze","__proto__","parseAndExecuteScript","scriptUsesGeometryEngine","enableGeometrySupport","isFeatureSetSupportEnabled","isAsyncEnabled","isGeometryEnabled","enableFeatureSetSupport","scriptUsesFeatureSet","scriptIsAsync","loadScriptDependencies","scriptTouchesGeometry","featureSetUtils"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,aAAa,IAAIC,CAAxB,EAA0BC,MAAM,IAAIC,CAApC,EAAsCC,kBAAkB,IAAIC,CAA5D,QAAkE,6BAAlE;AAAgG,SAAOH,MAAM,IAAII,CAAjB,EAAmBC,aAAa,IAAIC,CAApC,EAAsCC,gBAAgB,IAAIC,CAA1D,EAA4DC,kBAAkB,IAAIC,CAAlF,QAAwF,4BAAxF;AAAqH,SAAOC,WAAW,IAAIC,CAAtB,EAAwBC,cAAc,IAAIC,CAA1C,EAA4CC,WAAW,IAAIC,CAA3D,EAA6DC,oBAAoB,IAAIC,CAArF,EAAuFC,4BAA4B,IAAIC,CAAvH,QAA6H,qBAA7H;AAAmJ,SAAOC,sBAAsB,IAAIC,CAAjC,EAAmCC,iBAAiB,IAAIC,CAAxD,QAA8D,2BAA9D;AAA0F,OAAOC,CAAP,MAAa,gBAAb;AAA8B,SAAOC,GAAG,IAAIC,CAAd,EAAgBC,MAAM,IAAIC,CAA1B,QAAgC,yBAAhC;AAA0D,MAAMC,CAAC,GAAC,CAAC,SAAD,EAAW,OAAX,EAAmB,SAAnB,EAA6B,UAA7B,EAAwC,oBAAxC,EAA6D,QAA7D,EAAsE,UAAtE,EAAiF,oBAAjF,EAAsG,iBAAtG,CAAR;;AAAiI,SAASC,CAAT,GAAY;AAAC,SAAM,CAAC,CAAP;AAAS;;AAAA,MAAMC,CAAC,GAACD,CAAC,EAAT;AAAY,IAAIE,CAAC,GAAC,CAAC,CAAP;AAAA,IAASC,CAAC,GAAC,CAAC,CAAZ;AAAA,IAAcC,CAAC,GAAC,IAAhB;AAAA,IAAqBC,CAAC,GAAC,EAAvB;;AAA0B,SAASC,CAAT,CAAWpC,CAAX,EAAaE,CAAb,EAAe;AAAC,MAAG,CAAC,CAAD,KAAKA,CAAC,CAACmC,QAAP,IAAiB,CAAC,CAAD,KAAKrC,CAAC,CAACsC,OAA3B,EAAmC,OAAOC,CAAC,CAACvC,CAAD,EAAGE,CAAH,CAAR;;AAAc,MAAGsB,CAAC,CAAC,uBAAD,CAAJ,EAA8B;AAAC,WAAO,UAAS1B,CAAT,EAAW;AAAC,aAAOO,CAAC,CAACL,CAAD,EAAGF,CAAH,CAAR;AAAc,KAAjC;AAAkC;;AAAA,SAAOA,CAAC,CAACE,CAAD,EAAGE,CAAH,CAAR;AAAc;;AAAA,SAASqC,CAAT,CAAWvC,CAAX,EAAaE,CAAb,EAAe;AAAC,MAAG,SAAOgC,CAAV,EAAY,MAAM,IAAIM,KAAJ,CAAU,8CAAV,CAAN;;AAAgE,MAAGhB,CAAC,CAAC,uBAAD,CAAD,IAA4B,CAAC,CAAD,KAAKO,CAApC,EAAsC;AAAC,WAAO,UAASjC,CAAT,EAAW;AAAC,aAAOoC,CAAC,CAAC9B,aAAF,CAAgBJ,CAAhB,EAAkBF,CAAlB,CAAP;AAA4B,KAA/C;AAAgD;;AAAA,SAAOA,CAAC,CAACE,CAAD,EAAGE,CAAH,EAAK,CAAC,CAAN,CAAR;AAAiB;;AAAA,SAASuC,CAAT,CAAW3C,CAAX,EAAa;AAACK,EAAAA,CAAC,CAACL,CAAD,CAAD,EAAKE,CAAC,CAACF,CAAD,EAAG,MAAH,CAAN,EAAiB,SAAOoC,CAAP,GAASC,CAAC,CAACO,IAAF,CAAO5C,CAAP,CAAT,IAAoBE,CAAC,CAACF,CAAD,EAAG,OAAH,CAAD,EAAaoC,CAAC,CAACnC,MAAF,CAASD,CAAT,CAAjC,CAAjB;AAA+D;;AAAA,SAAS6C,CAAT,CAAW7C,CAAX,EAAkB;AAAA,MAALE,CAAK,uEAAH,EAAG;AAAC,SAAOW,CAAC,CAACb,CAAD,EAAGE,CAAH,CAAR;AAAc;;AAAA,SAAS4C,CAAT,CAAW9C,CAAX,EAAaE,CAAb,EAAoB;AAAA,MAALE,CAAK,uEAAH,EAAG;AAAC,SAAOW,CAAC,CAACf,CAAD,EAAGE,CAAH,EAAKE,CAAL,CAAR;AAAgB;;AAAA,SAAS2C,CAAT,CAAW/C,CAAX,EAAaE,CAAb,EAAeE,CAAf,EAAsB;AAAA,MAALC,CAAK,uEAAH,EAAG;AAAC,SAAOY,CAAC,CAACjB,CAAD,EAAGE,CAAH,EAAKE,CAAL,EAAOC,CAAP,CAAR;AAAkB;;AAAA,SAAS2C,CAAT,CAAWhD,CAAX,EAAaE,CAAb,EAAoB;AAAA,MAALE,CAAK,uEAAH,EAAG;AAAC,SAAO6C,CAAC,CAACpC,CAAC,CAACb,CAAD,EAAGI,CAAH,CAAF,EAAQF,CAAR,CAAR;AAAmB;;AAAA,SAAS+C,CAAT,CAAWjD,CAAX,EAAaE,CAAb,EAAe;AAAC,MAAG,CAAC,CAAD,KAAKA,CAAC,CAACqC,QAAP,IAAiB,CAAC,CAAD,KAAKvC,CAAC,CAACwC,OAA3B,EAAmC;AAAC,QAAG,SAAOJ,CAAV,EAAY,MAAM,IAAIM,KAAJ,CAAU,8CAAV,CAAN;AAAgE,WAAON,CAAC,CAAC9B,aAAF,CAAgBN,CAAhB,EAAkBE,CAAlB,CAAP;AAA4B;;AAAA,SAAOK,CAAC,CAACP,CAAD,EAAGE,CAAH,CAAR;AAAc;;AAAA,SAASgD,CAAT,CAAWlD,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOO,CAAC,CAACT,CAAD,EAAGE,CAAH,CAAR;AAAc;;AAAA,SAASiD,CAAT,CAAWnD,CAAX,EAAaE,CAAb,EAAe;AAAC,SAAOS,CAAC,CAACX,CAAD,EAAGE,CAAH,CAAR;AAAc;;AAAA,SAASkD,CAAT,CAAWpD,CAAX,EAAkB;AAAA,MAALE,CAAK,uEAAH,CAAC,CAAE;AAAC,SAAOiB,CAAC,CAACnB,CAAD,CAAR;AAAY;;AAAA,SAASqD,CAAT,CAAWrD,CAAX,EAAa;AAAC,SAAOqB,CAAC,CAACrB,CAAD,CAAR;AAAY;;AAAA,SAASsD,CAAT,CAAWtD,CAAX,EAAkB;AAAA,MAALE,CAAK,uEAAH,EAAG;AAAC,SAAO,KAAK,CAAL,KAASF,CAAC,CAACuD,YAAX,IAAyBhC,CAAC,CAACvB,CAAD,EAAGE,CAAH,CAA1B,EAAgC,CAAC,CAAD,KAAKF,CAAC,CAACuD,YAA9C;AAA2D;;AAAA,IAAIC,CAAC,GAAC,IAAN;;AAAW,SAASC,CAAT,GAAY;AAAC,SAAOD,CAAC,KAAGA,CAAC,GAAC5B,CAAC,CAAC,CAAC,OAAO,+BAAP,CAAD,EAAyC,OAAO,iCAAP,CAAzC,CAAD,CAAD,CAAuF8B,IAAvF,CAA6F;AAAA,QAAC,CAAC1D,CAAD,EAAGE,CAAH,CAAD;AAAA,WAAUiC,CAAC,GAAC,CAAC,CAAH,EAAKjC,CAAC,CAACyD,iBAAF,CAAoB3D,CAApB,CAAL,EAA4B,CAAC,CAAvC;AAAA,GAA7F,CAAF,EAA2IwD,CAA9I,CAAR;AAAyJ;;AAAA,IAAII,CAAC,GAAC,IAAN;;AAAW,SAASC,CAAT,GAAY;AAAC,SAAO,SAAOD,CAAP,KAAWA,CAAC,GAACxD,CAAC,GAAGsD,IAAJ,CAAU,MAAI,OAAO,iCAAP,CAAd,EAA0DA,IAA1D,CAAgE1D,CAAC,IAAE;AAACoC,IAAAA,CAAC,GAACpC,CAAF;;AAAI,SAAI,MAAMI,CAAV,IAAeiC,CAAf,EAAiBD,CAAC,CAACnC,MAAF,CAASG,CAAT,GAAYF,CAAC,CAACE,CAAD,EAAG,OAAH,CAAb;;AAAyB,WAAOiC,CAAC,GAAC,IAAF,EAAO,CAAC,CAAf;AAAiB,GAAnI,CAAb,GAAoJuB,CAA3J;AAA6J;;AAAA,SAASE,CAAT,GAAY;AAAC,SAAO5B,CAAP;AAAS;;AAAA,SAAS6B,CAAT,GAAY;AAAC,SAAM,CAAC,CAAC3B,CAAR;AAAU;;AAAA,SAAS4B,CAAT,GAAY;AAAC,SAAO7B,CAAP;AAAS;;AAAA,IAAI8B,CAAC,GAAC,IAAN;;AAAW,SAASC,CAAT,GAAY;AAAC,SAAOD,CAAC,KAAGA,CAAC,GAACJ,CAAC,GAAGH,IAAJ,CAAU,MAAI9B,CAAC,CAAC,CAAC,OAAO,8BAAP,CAAD,EAAwC,OAAO,uCAAP,CAAxC,EAAwF,OAAO,uCAAP,CAAxF,EAAwI,OAAO,wCAAP,CAAxI,EAAyL,OAAO,yCAAP,CAAzL,CAAD,CAAD,CAA+O8B,IAA/O,CAAqP;AAAA,QAAC,CAAC1D,CAAD,EAAGI,CAAH,EAAKC,CAAL,EAAOE,CAAP,EAASE,CAAT,CAAD;AAAA,WAAgB0D,CAAC,GAACnE,CAAF,EAAIoC,CAAC,CAACnC,MAAF,CAAS,CAACG,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,CAAT,CAAJ,EAAwBP,CAAC,CAAC,CAACE,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAOE,CAAP,CAAD,EAAW,OAAX,CAAzB,EAA6CyB,CAAC,GAAC,CAAC,CAAhD,EAAkD,CAAC,CAAnE;AAAA,GAArP,CAAd,CAAF,EAA+U+B,CAAlV,CAAR;AAA6V;;AAAA,SAASG,CAAT,CAAWpE,CAAX,EAAkB;AAAA,MAALE,CAAK,uEAAH,EAAG;AAAC,SAAO,KAAK,CAAL,KAASF,CAAC,CAACqE,cAAX,IAA2B9C,CAAC,CAACvB,CAAD,EAAGE,CAAH,CAA5B,EAAkC,CAAC,CAAD,KAAKF,CAAC,CAACqE,cAAhD;AAA+D;;AAAA,SAASC,CAAT,CAAWtE,CAAX,EAAkB;AAAA,MAALE,CAAK,uEAAH,EAAG;AAAC,SAAO,KAAK,CAAL,KAASF,CAAC,CAACwC,OAAX,IAAoBjB,CAAC,CAACvB,CAAD,EAAGE,CAAH,CAArB,EAA2B,CAAC,CAAD,KAAKF,CAAC,CAACwC,OAAzC;AAAiD;;AAAA,SAAS+B,CAAT,CAAWvE,CAAX,EAAaE,CAAb,EAAe;AAAC,MAAGA,CAAH,EAAK;AAAC,SAAI,MAAME,CAAV,IAAeF,CAAf,EAAiB,IAAGgD,CAAC,CAAClD,CAAD,EAAGI,CAAH,CAAJ,EAAU,OAAM,CAAC,CAAP;;AAAS,WAAM,CAAC,CAAP;AAAS;;AAAA,SAAM,CAAC,CAAP;AAAS;;AAAA,SAASoE,CAAT,CAAWxE,CAAX,EAAaE,CAAb,EAAyB;AAAA,MAAVE,CAAU,uEAAR,EAAQ;AAAA,MAALC,CAAK,uEAAH,CAAC,CAAE;AAAC,SAAOyB,CAAC,CAAE,CAACvB,CAAD,EAAGE,CAAH,KAAO;AAAC,UAAME,CAAC,GAAC,YAAU,OAAOX,CAAjB,GAAmB6C,CAAC,CAAC7C,CAAD,CAApB,GAAwBA,CAAhC;AAAA,UAAkCa,CAAC,GAAC,EAApC;AAAuCF,IAAAA,CAAC,KAAG,CAAC,CAAD,KAAKqD,CAAC,EAAN,KAAWV,CAAC,CAAC3C,CAAD,CAAD,IAAMN,CAAjB,KAAqBQ,CAAC,CAAC+B,IAAF,CAAOa,CAAC,EAAR,CAArB,EAAiC,CAAC,CAAD,KAAKM,CAAC,EAAN,KAAW,CAAC,CAAD,KAAKpD,CAAC,CAAC6B,OAAP,IAAgBtC,CAA3B,KAA+BW,CAAC,CAAC+B,IAAF,CAAOiB,CAAC,EAAR,CAAhE,EAA4E,CAAC,CAAD,KAAKC,CAAC,EAAN,KAAWM,CAAC,CAACzD,CAAD,CAAD,IAAM4D,CAAC,CAAC5D,CAAD,EAAGP,CAAH,CAAlB,KAA0BS,CAAC,CAAC+B,IAAF,CAAOsB,CAAC,EAAR,CAAzG,CAAD,EAAuHrD,CAAC,CAAC4D,MAAF,GAAS7C,CAAC,CAACf,CAAD,CAAD,CAAK6C,IAAL,CAAW,MAAI;AAACnD,MAAAA,CAAC,CAAC,CAAC,CAAF,CAAD;AAAM,KAAtB,EAAwBE,CAAxB,CAAT,GAAoCF,CAAC,CAAC,CAAC,CAAF,CAA5J;AAAiK,GAAlN,CAAR;AAA6N;;AAAA,SAASmE,CAAT,CAAW1E,CAAX,EAAa;AAAC,MAAGsD,CAAC,CAACtD,CAAD,CAAJ,EAAQ,OAAM,CAAC,CAAP;AAAS,QAAME,CAAC,GAACuB,CAAC,CAACzB,CAAD,CAAT;AAAa,MAAII,CAAC,GAAC,CAAC,CAAP;;AAAS,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,CAAC,CAACuE,MAAhB,EAAuBpE,CAAC,EAAxB,EAA2B,IAAG0B,CAAC,CAAC4C,OAAF,CAAUzE,CAAC,CAACG,CAAD,CAAX,IAAgB,CAAC,CAApB,EAAsB;AAACD,IAAAA,CAAC,GAAC,CAAC,CAAH;AAAK;AAAM;;AAAA,SAAOA,CAAP;AAAS;;AAAA,IAAI+D,CAAC,GAAC,IAAN;;AAAW,SAASS,CAAT,GAAY;AAAC,SAAOT,CAAP;AAAS;;AAAA,MAAMU,CAAC,GAACC,MAAM,CAACC,MAAP,CAAc;AAACC,EAAAA,SAAS,EAAC,IAAX;AAAgBjF,EAAAA,aAAa,EAACuC,CAA9B;AAAgCrC,EAAAA,MAAM,EAAC0C,CAAvC;AAAyC/B,EAAAA,WAAW,EAACiC,CAArD;AAAuD/B,EAAAA,cAAc,EAACgC,CAAtE;AAAwE9B,EAAAA,WAAW,EAAC+B,CAApF;AAAsFkC,EAAAA,qBAAqB,EAACjC,CAA5G;AAA8G1C,EAAAA,aAAa,EAAC2C,CAA5H;AAA8HzC,EAAAA,gBAAgB,EAAC0C,CAA/I;AAAiJxC,EAAAA,kBAAkB,EAACyC,CAApK;AAAsKjC,EAAAA,oBAAoB,EAACkC,CAA3L;AAA6LhC,EAAAA,4BAA4B,EAACiC,CAA1N;AAA4N6B,EAAAA,wBAAwB,EAAC5B,CAArP;AAAuP6B,EAAAA,qBAAqB,EAAC1B,CAA7Q;AAA+QtD,EAAAA,kBAAkB,EAAC0D,CAAlS;AAAoSuB,EAAAA,0BAA0B,EAACtB,CAA/T;AAAiUuB,EAAAA,cAAc,EAACtB,CAAhV;AAAkVuB,EAAAA,iBAAiB,EAACtB,CAApW;AAAsWuB,EAAAA,uBAAuB,EAACrB,CAA9X;AAAgYsB,EAAAA,oBAAoB,EAACpB,CAArZ;AAAuZqB,EAAAA,aAAa,EAACnB,CAAra;AAAuaoB,EAAAA,sBAAsB,EAAClB,CAA9b;AAAgcmB,EAAAA,qBAAqB,EAACjB,CAAtd;AAAwdkB,EAAAA,eAAe,EAAChB;AAAxe,CAAd,CAAR;AAAkgB,SAAOvB,CAAC,IAAItC,CAAZ,EAAc0C,CAAC,IAAIxB,CAAnB,EAAqBK,CAAC,IAAI3B,CAA1B,EAA4BuD,CAAC,IAAIzC,CAAjC,EAAmCwB,CAAC,IAAIjD,CAAxC,EAA0C4E,CAAC,IAAIzD,CAA/C,EAAiDmC,CAAC,IAAInB,CAAtD,EAAwD0C,CAAC,IAAI9C,CAA7D,EAA+DY,CAAC,IAAIlC,CAApE,EAAsEsC,CAAC,IAAIX,CAA3E,EAA6EY,CAAC,IAAIF,CAAlF,EAAoF0B,CAAC,IAAIjD,CAAzF,EAA2F4B,CAAC,IAAIzB,CAAhG,EAAkG0B,CAAC,IAAI/C,CAAvG,EAAyGwD,CAAC,IAAI5C,CAA9G,EAAgH4B,CAAC,IAAIxB,CAArH,EAAuHyC,CAAC,IAAIR,CAA5H,EAA8HJ,CAAC,IAAI9C,CAAnI,EAAqIsE,CAAC,IAAInE,CAA1I,EAA4IwD,CAAC,IAAI7D,CAAjJ,EAAmJ8D,CAAC,IAAInD,CAAxJ,EAA0JiC,CAAC,IAAIL,CAA/J,EAAiK2B,CAAC,IAAIvB,CAAtK,EAAwKyB,CAAC,IAAItC,CAA7K","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{compileScript as e,extend as t,enableAsyncSupport as r}from\"../arcade/arcadeCompiler.js\";import{extend as n,executeScript as s,referencesMember as i,referencesFunction as c}from\"../arcade/arcadeRuntime.js\";import{parseScript as u,validateScript as a,scriptCheck as o,extractFieldLiterals as f,extractExpectedFieldLiterals as p}from\"../arcade/parser.js\";import{findScriptDependencies as l,findFunctionCalls as d}from\"../arcade/treeAnalysis.js\";import m from\"../core/has.js\";import{all as y,create as S}from\"../core/promiseUtils.js\";const h=[\"feature\",\"angle\",\"bearing\",\"centroid\",\"envelopeintersects\",\"extent\",\"geometry\",\"isselfintersecting\",\"ringisclockwise\"];function x(){return!0}const b=x();let A=!1,g=!1,j=null,E=[];function F(t,r){if(!0===r.useAsync||!0===t.isAsync)return v(t,r);if(m(\"esri-csp-restrictions\")){return function(e){return s(t,e)}}return e(t,r)}function v(t,r){if(null===j)throw new Error(\"Async Arcade must be enabled for this script\");if(m(\"esri-csp-restrictions\")||!1===b){return function(e){return j.executeScript(t,e)}}return e(t,r,!0)}function G(e){n(e),t(e,\"sync\"),null===j?E.push(e):(t(e,\"async\"),j.extend(e))}function w(e,t=[]){return u(e,t)}function k(e,t,r=\"\"){return a(e,t,r)}function U(e,t,r,n=\"\"){return o(e,t,r,n)}function L(e,t,r=[]){return _(u(e,r),t)}function _(e,t){if(!0===t.useAsync||!0===e.isAsync){if(null===j)throw new Error(\"Async Arcade must be enabled for this script\");return j.executeScript(e,t)}return s(e,t)}function C(e,t){return i(e,t)}function M(e,t){return c(e,t)}function O(e,t=!1){return f(e)}function R(e){return p(e)}function q(e,t=[]){return void 0===e.usesGeometry&&l(e,t),!0===e.usesGeometry}let z=null;function D(){return z||(z=y([import(\"../geometry/geometryEngine.js\"),import(\"../arcade/functions/geomsync.js\")]).then((([e,t])=>(g=!0,t.setGeometryEngine(e),!0))),z)}let I=null;function T(){return null!==I||(I=r().then((()=>import(\"../arcade/arcadeAsyncRuntime.js\"))).then((e=>{j=e;for(const r of E)j.extend(r),t(r,\"async\");return E=null,!0}))),I}function B(){return A}function H(){return!!j}function J(){return g}let K=null;function N(){return K||(K=T().then((()=>y([import(\"../arcade/featureSetUtils.js\"),import(\"../arcade/functions/featuresetbase.js\"),import(\"../arcade/functions/featuresetgeom.js\"),import(\"../arcade/functions/featuresetstats.js\"),import(\"../arcade/functions/featuresetstring.js\")]).then((([e,r,n,s,i])=>(Y=e,j.extend([r,n,s,i]),t([r,n,s,i],\"async\"),A=!0,!0))))),K)}function P(e,t=[]){return void 0===e.usesFeatureSet&&l(e,t),!0===e.usesFeatureSet}function Q(e,t=[]){return void 0===e.isAsync&&l(e,t),!0===e.isAsync}function V(e,t){if(t){for(const r of t)if(C(e,r))return!0;return!1}return!1}function W(e,t,r=[],n=!1){return S(((s,i)=>{const c=\"string\"==typeof e?w(e):e,u=[];c&&(!1===J()&&(q(c)||n)&&u.push(D()),!1===H()&&(!0===c.isAsync||t)&&u.push(T()),!1===B()&&(P(c)||V(c,r))&&u.push(N())),u.length?y(u).then((()=>{s(!0)}),i):s(!0)}))}function X(e){if(q(e))return!0;const t=d(e);let r=!1;for(let n=0;n<t.length;n++)if(h.indexOf(t[n])>-1){r=!0;break}return r}let Y=null;function Z(){return Y}const $=Object.freeze({__proto__:null,compileScript:F,extend:G,parseScript:w,validateScript:k,scriptCheck:U,parseAndExecuteScript:L,executeScript:_,referencesMember:C,referencesFunction:M,extractFieldLiterals:O,extractExpectedFieldLiterals:R,scriptUsesGeometryEngine:q,enableGeometrySupport:D,enableAsyncSupport:T,isFeatureSetSupportEnabled:B,isAsyncEnabled:H,isGeometryEnabled:J,enableFeatureSetSupport:N,scriptUsesFeatureSet:P,scriptIsAsync:Q,loadScriptDependencies:W,scriptTouchesGeometry:X,featureSetUtils:Z});export{R as a,D as b,F as c,N as d,_ as e,Z as f,q as g,$ as h,G as i,U as j,L as k,W as l,M as m,O as n,T as o,w as p,B as q,C as r,X as s,H as t,J as u,k as v,P as w,Q as x};\n"]},"metadata":{},"sourceType":"module"}