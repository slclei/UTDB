{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { _ as t } from \"../chunks/tslib.es6.js\";\nimport { equals as r } from \"../core/arrayUtils.js\";\nimport { clone as e } from \"../core/lang.js\";\nimport { isNone as s, isSome as i } from \"../core/maybe.js\";\nimport { property as n } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport { subclass as o } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as a } from \"../core/accessorSupport/decorators/writer.js\";\nimport l from \"./Extent.js\";\nimport h from \"./Geometry.js\";\nimport p from \"./Point.js\";\nimport c from \"./SpatialReference.js\";\nimport { polygonCentroid as u } from \"./support/centroid.js\";\nimport { polygonContainsPoint as f } from \"./support/contains.js\";\nimport { isClockwise as m } from \"./support/coordsUtils.js\";\nimport { getPolygonExtent as g } from \"./support/extentUtils.js\";\nimport { isSelfIntersecting as y } from \"./support/intersectsBase.js\";\nimport { project as d } from \"./support/webMercatorUtils.js\";\nimport { updateSupportFromPoint as R } from \"./support/zmUtils.js\";\nvar x;\n\nfunction j(t) {\n  return !Array.isArray(t[0]);\n}\n\nlet w = x = class extends h {\n  constructor() {\n    super(...arguments), this.rings = [], this.type = \"polygon\";\n  }\n\n  static fromExtent(t) {\n    const r = t.clone().normalize(),\n          e = t.spatialReference;\n    let s = !1,\n        i = !1;\n\n    for (const o of r) o.hasZ && (s = !0), o.hasM && (i = !0);\n\n    const n = {\n      rings: r.map(function (t) {\n        const r = [[t.xmin, t.ymin], [t.xmin, t.ymax], [t.xmax, t.ymax], [t.xmax, t.ymin], [t.xmin, t.ymin]];\n\n        if (s && t.hasZ) {\n          const e = t.zmin + .5 * (t.zmax - t.zmin);\n\n          for (let t = 0; t < r.length; t++) r[t].push(e);\n        }\n\n        if (i && t.hasM) {\n          const e = t.mmin + .5 * (t.mmax - t.mmin);\n\n          for (let t = 0; t < r.length; t++) r[t].push(e);\n        }\n\n        return r;\n      }),\n      spatialReference: e\n    };\n    return s && (n.hasZ = !0), i && (n.hasM = !0), new x(n);\n  }\n\n  normalizeCtorArgs(t, r) {\n    let e,\n        s,\n        i = null,\n        n = null;\n    return t && !Array.isArray(t) ? (i = t.rings ? t.rings : null, r || (t.spatialReference ? r = t.spatialReference : t.rings || (r = t)), e = t.hasZ, s = t.hasM) : i = t, i = i || [], r = r || c.WGS84, i.length && i[0] && null != i[0][0] && \"number\" == typeof i[0][0] && (i = [i]), n = i[0] && i[0][0], n && (void 0 === e && void 0 === s ? (e = n.length > 2, s = n.length > 3) : void 0 === e ? e = s ? n.length > 3 : n.length > 2 : void 0 === s && (s = e ? n.length > 3 : n.length > 2)), {\n      rings: i,\n      spatialReference: r,\n      hasZ: e,\n      hasM: s\n    };\n  }\n\n  get cache() {\n    return this.commitProperty(\"rings\"), this.commitProperty(\"hasZ\"), this.commitProperty(\"hasM\"), this.commitProperty(\"spatialReference\"), {};\n  }\n\n  get centroid() {\n    const t = u(this);\n    if (!t || isNaN(t[0]) || isNaN(t[1]) || this.hasZ && isNaN(t[2])) return null;\n    const r = new p();\n    return r.x = t[0], r.y = t[1], r.spatialReference = this.spatialReference, this.hasZ && (r.z = t[2]), r;\n  }\n\n  get extent() {\n    const {\n      spatialReference: t\n    } = this,\n          r = g(this);\n    if (!r) return null;\n    const e = new l(r);\n    return e.spatialReference = t, e;\n  }\n\n  get isSelfIntersecting() {\n    return y(this.rings);\n  }\n\n  writeRings(t, r) {\n    r.rings = e(this.rings);\n  }\n\n  addRing(t) {\n    if (!t) return;\n    const r = this.rings,\n          e = r.length;\n\n    if (j(t)) {\n      const s = [];\n\n      for (let r = 0, e = t.length; r < e; r++) s[r] = t[r].toArray();\n\n      r[e] = s;\n    } else r[e] = t.concat();\n\n    return this.notifyChange(\"rings\"), this;\n  }\n\n  clone() {\n    const t = new x();\n    return t.spatialReference = this.spatialReference, t.rings = e(this.rings), t.hasZ = this.hasZ, t.hasM = this.hasM, t;\n  }\n\n  equals(t) {\n    if (this === t) return !0;\n    if (s(t)) return !1;\n    const e = this.spatialReference,\n          n = t.spatialReference;\n    if (i(e) !== i(n)) return !1;\n    if (i(e) && i(n) && !e.equals(n)) return !1;\n    if (this.rings.length !== t.rings.length) return !1;\n\n    const o = (_ref, _ref2) => {\n      let [t, r, e, s] = _ref;\n      let [i, n, o, a] = _ref2;\n      return t === i && r === n && (null == e && null == o || e === o) && (null == s && null == a || s === a);\n    };\n\n    for (let s = 0; s < this.rings.length; s++) {\n      const e = this.rings[s],\n            i = t.rings[s];\n      if (!r(e, i, o)) return !1;\n    }\n\n    return !0;\n  }\n\n  contains(t) {\n    if (!t) return !1;\n    const r = d(t, this.spatialReference);\n    return f(this, i(r) ? r : t);\n  }\n\n  isClockwise(t) {\n    let r;\n    return r = j(t) ? t.map(t => this.hasZ ? this.hasM ? [t.x, t.y, t.z, t.m] : [t.x, t.y, t.z] : [t.x, t.y]) : t, m(r, this.hasM, this.hasZ);\n  }\n\n  getPoint(t, r) {\n    if (!this._validateInputs(t, r)) return null;\n    const e = this.rings[t][r],\n          s = this.hasZ,\n          i = this.hasM;\n    return s && !i ? new p(e[0], e[1], e[2], void 0, this.spatialReference) : i && !s ? new p(e[0], e[1], void 0, e[2], this.spatialReference) : s && i ? new p(e[0], e[1], e[2], e[3], this.spatialReference) : new p(e[0], e[1], this.spatialReference);\n  }\n\n  insertPoint(t, r, e) {\n    return this._validateInputs(t, r, !0) ? (R(this, e), Array.isArray(e) || (e = e.toArray()), this.rings[t].splice(r, 0, e), this.notifyChange(\"rings\"), this) : this;\n  }\n\n  removePoint(t, r) {\n    if (!this._validateInputs(t, r)) return null;\n    const e = new p(this.rings[t].splice(r, 1)[0], this.spatialReference);\n    return this.notifyChange(\"rings\"), e;\n  }\n\n  removeRing(t) {\n    if (!this._validateInputs(t, null)) return null;\n    const r = this.rings.splice(t, 1)[0],\n          e = this.spatialReference,\n          s = r.map(t => new p(t, e));\n    return this.notifyChange(\"rings\"), s;\n  }\n\n  setPoint(t, r, e) {\n    return this._validateInputs(t, r) ? (R(this, e), Array.isArray(e) || (e = e.toArray()), this.rings[t][r] = e, this.notifyChange(\"rings\"), this) : this;\n  }\n\n  _validateInputs(t, r) {\n    let e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    if (null == t || t < 0 || t >= this.rings.length) return !1;\n\n    if (null != r) {\n      const s = this.rings[t];\n      if (e && (r < 0 || r > s.length)) return !1;\n      if (!e && (r < 0 || r >= s.length)) return !1;\n    }\n\n    return !0;\n  }\n\n  toJSON(t) {\n    return this.write({}, t);\n  }\n\n};\nt([n({\n  readOnly: !0\n})], w.prototype, \"cache\", null), t([n({\n  readOnly: !0\n})], w.prototype, \"centroid\", null), t([n({\n  readOnly: !0\n})], w.prototype, \"extent\", null), t([n({\n  readOnly: !0\n})], w.prototype, \"isSelfIntersecting\", null), t([n({\n  type: [[[Number]]],\n  json: {\n    write: {\n      isRequired: !0\n    }\n  }\n})], w.prototype, \"rings\", void 0), t([a(\"rings\")], w.prototype, \"writeRings\", null), w = x = t([o(\"esri.geometry.Polygon\")], w), w.prototype.toJSON.isDefaultToJSON = !0;\nconst v = w;\nexport { v as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/geometry/Polygon.js"],"names":["_","t","equals","r","clone","e","isNone","s","isSome","i","property","n","subclass","o","writer","a","l","h","p","c","polygonCentroid","u","polygonContainsPoint","f","isClockwise","m","getPolygonExtent","g","isSelfIntersecting","y","project","d","updateSupportFromPoint","R","x","j","Array","isArray","w","constructor","rings","type","fromExtent","normalize","spatialReference","hasZ","hasM","map","xmin","ymin","ymax","xmax","zmin","zmax","length","push","mmin","mmax","normalizeCtorArgs","WGS84","cache","commitProperty","centroid","isNaN","z","extent","writeRings","addRing","toArray","concat","notifyChange","contains","getPoint","_validateInputs","insertPoint","splice","removePoint","removeRing","setPoint","toJSON","write","readOnly","prototype","Number","json","isRequired","isDefaultToJSON","v","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{equals as r}from\"../core/arrayUtils.js\";import{clone as e}from\"../core/lang.js\";import{isNone as s,isSome as i}from\"../core/maybe.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import l from\"./Extent.js\";import h from\"./Geometry.js\";import p from\"./Point.js\";import c from\"./SpatialReference.js\";import{polygonCentroid as u}from\"./support/centroid.js\";import{polygonContainsPoint as f}from\"./support/contains.js\";import{isClockwise as m}from\"./support/coordsUtils.js\";import{getPolygonExtent as g}from\"./support/extentUtils.js\";import{isSelfIntersecting as y}from\"./support/intersectsBase.js\";import{project as d}from\"./support/webMercatorUtils.js\";import{updateSupportFromPoint as R}from\"./support/zmUtils.js\";var x;function j(t){return!Array.isArray(t[0])}let w=x=class extends h{constructor(...t){super(...t),this.rings=[],this.type=\"polygon\"}static fromExtent(t){const r=t.clone().normalize(),e=t.spatialReference;let s=!1,i=!1;for(const o of r)o.hasZ&&(s=!0),o.hasM&&(i=!0);const n={rings:r.map((function(t){const r=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(s&&t.hasZ){const e=t.zmin+.5*(t.zmax-t.zmin);for(let t=0;t<r.length;t++)r[t].push(e)}if(i&&t.hasM){const e=t.mmin+.5*(t.mmax-t.mmin);for(let t=0;t<r.length;t++)r[t].push(e)}return r})),spatialReference:e};return s&&(n.hasZ=!0),i&&(n.hasM=!0),new x(n)}normalizeCtorArgs(t,r){let e,s,i=null,n=null;return t&&!Array.isArray(t)?(i=t.rings?t.rings:null,r||(t.spatialReference?r=t.spatialReference:t.rings||(r=t)),e=t.hasZ,s=t.hasM):i=t,i=i||[],r=r||c.WGS84,i.length&&i[0]&&null!=i[0][0]&&\"number\"==typeof i[0][0]&&(i=[i]),n=i[0]&&i[0][0],n&&(void 0===e&&void 0===s?(e=n.length>2,s=n.length>3):void 0===e?e=s?n.length>3:n.length>2:void 0===s&&(s=e?n.length>3:n.length>2)),{rings:i,spatialReference:r,hasZ:e,hasM:s}}get cache(){return this.commitProperty(\"rings\"),this.commitProperty(\"hasZ\"),this.commitProperty(\"hasM\"),this.commitProperty(\"spatialReference\"),{}}get centroid(){const t=u(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const r=new p;return r.x=t[0],r.y=t[1],r.spatialReference=this.spatialReference,this.hasZ&&(r.z=t[2]),r}get extent(){const{spatialReference:t}=this,r=g(this);if(!r)return null;const e=new l(r);return e.spatialReference=t,e}get isSelfIntersecting(){return y(this.rings)}writeRings(t,r){r.rings=e(this.rings)}addRing(t){if(!t)return;const r=this.rings,e=r.length;if(j(t)){const s=[];for(let r=0,e=t.length;r<e;r++)s[r]=t[r].toArray();r[e]=s}else r[e]=t.concat();return this.notifyChange(\"rings\"),this}clone(){const t=new x;return t.spatialReference=this.spatialReference,t.rings=e(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(s(t))return!1;const e=this.spatialReference,n=t.spatialReference;if(i(e)!==i(n))return!1;if(i(e)&&i(n)&&!e.equals(n))return!1;if(this.rings.length!==t.rings.length)return!1;const o=([t,r,e,s],[i,n,o,a])=>t===i&&r===n&&(null==e&&null==o||e===o)&&(null==s&&null==a||s===a);for(let s=0;s<this.rings.length;s++){const e=this.rings[s],i=t.rings[s];if(!r(e,i,o))return!1}return!0}contains(t){if(!t)return!1;const r=d(t,this.spatialReference);return f(this,i(r)?r:t)}isClockwise(t){let r;return r=j(t)?t.map((t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])):t,m(r,this.hasM,this.hasZ)}getPoint(t,r){if(!this._validateInputs(t,r))return null;const e=this.rings[t][r],s=this.hasZ,i=this.hasM;return s&&!i?new p(e[0],e[1],e[2],void 0,this.spatialReference):i&&!s?new p(e[0],e[1],void 0,e[2],this.spatialReference):s&&i?new p(e[0],e[1],e[2],e[3],this.spatialReference):new p(e[0],e[1],this.spatialReference)}insertPoint(t,r,e){return this._validateInputs(t,r,!0)?(R(this,e),Array.isArray(e)||(e=e.toArray()),this.rings[t].splice(r,0,e),this.notifyChange(\"rings\"),this):this}removePoint(t,r){if(!this._validateInputs(t,r))return null;const e=new p(this.rings[t].splice(r,1)[0],this.spatialReference);return this.notifyChange(\"rings\"),e}removeRing(t){if(!this._validateInputs(t,null))return null;const r=this.rings.splice(t,1)[0],e=this.spatialReference,s=r.map((t=>new p(t,e)));return this.notifyChange(\"rings\"),s}setPoint(t,r,e){return this._validateInputs(t,r)?(R(this,e),Array.isArray(e)||(e=e.toArray()),this.rings[t][r]=e,this.notifyChange(\"rings\"),this):this}_validateInputs(t,r,e=!1){if(null==t||t<0||t>=this.rings.length)return!1;if(null!=r){const s=this.rings[t];if(e&&(r<0||r>s.length))return!1;if(!e&&(r<0||r>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};t([n({readOnly:!0})],w.prototype,\"cache\",null),t([n({readOnly:!0})],w.prototype,\"centroid\",null),t([n({readOnly:!0})],w.prototype,\"extent\",null),t([n({readOnly:!0})],w.prototype,\"isSelfIntersecting\",null),t([n({type:[[[Number]]],json:{write:{isRequired:!0}}})],w.prototype,\"rings\",void 0),t([a(\"rings\")],w.prototype,\"writeRings\",null),w=x=t([o(\"esri.geometry.Polygon\")],w),w.prototype.toJSON.isDefaultToJSON=!0;const v=w;export{v as default};\n"]},"metadata":{},"sourceType":"module"}