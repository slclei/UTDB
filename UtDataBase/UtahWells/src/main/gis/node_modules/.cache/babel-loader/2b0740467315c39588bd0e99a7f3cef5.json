{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"../../../../request.js\";\nimport { isAbortError as t } from \"../../../../core/promiseUtils.js\";\nimport i from \"../../tiling/TileKey.js\";\n\nclass r {\n  constructor(e, t) {\n    this._tilemap = e, this._tileIndexUrl = t;\n  }\n\n  async fetchTileIndex(t) {\n    return this._tileIndexPromise || (this._tileIndexPromise = e(this._tileIndexUrl, {\n      query: { ...(null == t ? void 0 : t.query)\n      }\n    }).then(e => e.data.index)), this._tileIndexPromise;\n  }\n\n  dataKey(e, r) {\n    const {\n      level: l,\n      row: s,\n      col: o\n    } = e,\n          n = new i(e);\n    return this._tilemap.fetchAvailabilityUpsample(l, s, o, n, r).then(() => (n.world = e.world, n)).catch(e => {\n      if (t(e)) throw e;\n      return null;\n    });\n  }\n\n}\n\nexport { r as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/vectorTiles/TilemapRequest.js"],"names":["e","isAbortError","t","i","r","constructor","_tilemap","_tileIndexUrl","fetchTileIndex","_tileIndexPromise","query","then","data","index","dataKey","level","l","row","s","col","o","n","fetchAvailabilityUpsample","world","catch","default"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAa,wBAAb;AAAsC,SAAOC,YAAY,IAAIC,CAAvB,QAA6B,kCAA7B;AAAgE,OAAOC,CAAP,MAAa,yBAAb;;AAAuC,MAAMC,CAAN,CAAO;AAACC,EAAAA,WAAW,CAACL,CAAD,EAAGE,CAAH,EAAK;AAAC,SAAKI,QAAL,GAAcN,CAAd,EAAgB,KAAKO,aAAL,GAAmBL,CAAnC;AAAqC;;AAAoB,QAAdM,cAAc,CAACN,CAAD,EAAG;AAAC,WAAO,KAAKO,iBAAL,KAAyB,KAAKA,iBAAL,GAAuBT,CAAC,CAAC,KAAKO,aAAN,EAAoB;AAACG,MAAAA,KAAK,EAAC,EAAC,IAAG,QAAMR,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACQ,KAApB;AAAD;AAAP,KAApB,CAAD,CAA0DC,IAA1D,CAAgEX,CAAC,IAAEA,CAAC,CAACY,IAAF,CAAOC,KAA1E,CAAhD,GAAmI,KAAKJ,iBAA/I;AAAiK;;AAAAK,EAAAA,OAAO,CAACd,CAAD,EAAGI,CAAH,EAAK;AAAC,UAAK;AAACW,MAAAA,KAAK,EAACC,CAAP;AAASC,MAAAA,GAAG,EAACC,CAAb;AAAeC,MAAAA,GAAG,EAACC;AAAnB,QAAsBpB,CAA3B;AAAA,UAA6BqB,CAAC,GAAC,IAAIlB,CAAJ,CAAMH,CAAN,CAA/B;AAAwC,WAAO,KAAKM,QAAL,CAAcgB,yBAAd,CAAwCN,CAAxC,EAA0CE,CAA1C,EAA4CE,CAA5C,EAA8CC,CAA9C,EAAgDjB,CAAhD,EAAmDO,IAAnD,CAAyD,OAAKU,CAAC,CAACE,KAAF,GAAQvB,CAAC,CAACuB,KAAV,EAAgBF,CAArB,CAAzD,EAAmFG,KAAnF,CAA0FxB,CAAC,IAAE;AAAC,UAAGE,CAAC,CAACF,CAAD,CAAJ,EAAQ,MAAMA,CAAN;AAAQ,aAAO,IAAP;AAAY,KAA1H,CAAP;AAAoI;;AAAza;;AAA0a,SAAOI,CAAC,IAAIqB,OAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{isAbortError as t}from\"../../../../core/promiseUtils.js\";import i from\"../../tiling/TileKey.js\";class r{constructor(e,t){this._tilemap=e,this._tileIndexUrl=t}async fetchTileIndex(t){return this._tileIndexPromise||(this._tileIndexPromise=e(this._tileIndexUrl,{query:{...null==t?void 0:t.query}}).then((e=>e.data.index))),this._tileIndexPromise}dataKey(e,r){const{level:l,row:s,col:o}=e,n=new i(e);return this._tilemap.fetchAvailabilityUpsample(l,s,o,n,r).then((()=>(n.world=e.world,n))).catch((e=>{if(t(e))throw e;return null}))}}export{r as default};\n"]},"metadata":{},"sourceType":"module"}