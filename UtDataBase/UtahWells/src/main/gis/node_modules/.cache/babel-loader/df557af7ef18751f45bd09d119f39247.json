{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"./WGLContainer.js\";\nimport { TextureSamplingMode as t } from \"../../../webgl/enums.js\";\n\nclass r extends e {\n  constructor() {\n    super(...arguments), this.requiresDedicatedFBO = !1;\n  }\n\n  dispose() {}\n\n  doRender(e) {\n    const r = this.createRenderParams(e),\n          {\n      context: s,\n      painter: o,\n      profiler: n\n    } = r;\n    this._prevFBO = s.getBoundFramebufferObject(), n.recordContainerStart(this.name);\n\n    const i = this._getFbo(r),\n          a = o.getRenderTarget();\n\n    s.bindFramebuffer(i), o.setRenderTarget(i), s.setDepthWriteEnabled(!0), s.setColorMask(!0, !0, !0, !0), s.setClearColor(0, 0, 0, 0), s.setClearDepth(1), s.clear(s.gl.COLOR_BUFFER_BIT | s.gl.DEPTH_BUFFER_BIT), s.setDepthWriteEnabled(!1);\n\n    for (const t of this.children) t.beforeRender(e);\n\n    for (const t of this.children) t.processRender(r);\n\n    for (const t of this.children) t.afterRender(e);\n\n    o.setRenderTarget(a), o.releaseFbo(i), s.bindFramebuffer(this._prevFBO), o.beforeRenderLayer(r, this._clippingInfos ? 255 : 0, this.computedOpacity), s.setStencilTestEnabled(!1), s.setStencilWriteMask(0), o.blitTexture(s, i.colorTexture, t.NEAREST), o.compositeLayer(r, this.computedOpacity), n.recordContainerEnd();\n  }\n\n  createRenderParams(e) {\n    return { ...super.createRenderParams(e),\n      blendMode: this.blendMode,\n      effects: this.computedEffects,\n      globalOpacity: 1\n    };\n  }\n\n  _getFbo(e) {\n    const {\n      context: t,\n      painter: r\n    } = e,\n          {\n      width: s,\n      height: o\n    } = t.getViewport();\n    return r.acquireFbo(s, o);\n  }\n\n}\n\nexport { r as GroupContainer };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/webgl/GroupContainer.js"],"names":["e","TextureSamplingMode","t","r","constructor","arguments","requiresDedicatedFBO","dispose","doRender","createRenderParams","context","s","painter","o","profiler","n","_prevFBO","getBoundFramebufferObject","recordContainerStart","name","i","_getFbo","a","getRenderTarget","bindFramebuffer","setRenderTarget","setDepthWriteEnabled","setColorMask","setClearColor","setClearDepth","clear","gl","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","children","beforeRender","processRender","afterRender","releaseFbo","beforeRenderLayer","_clippingInfos","computedOpacity","setStencilTestEnabled","setStencilWriteMask","blitTexture","colorTexture","NEAREST","compositeLayer","recordContainerEnd","blendMode","effects","computedEffects","globalOpacity","width","height","getViewport","acquireFbo","GroupContainer"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"./WGLContainer.js\";import{TextureSamplingMode as t}from\"../../../webgl/enums.js\";class r extends e{constructor(){super(...arguments),this.requiresDedicatedFBO=!1}dispose(){}doRender(e){const r=this.createRenderParams(e),{context:s,painter:o,profiler:n}=r;this._prevFBO=s.getBoundFramebufferObject(),n.recordContainerStart(this.name);const i=this._getFbo(r),a=o.getRenderTarget();s.bindFramebuffer(i),o.setRenderTarget(i),s.setDepthWriteEnabled(!0),s.setColorMask(!0,!0,!0,!0),s.setClearColor(0,0,0,0),s.setClearDepth(1),s.clear(s.gl.COLOR_BUFFER_BIT|s.gl.DEPTH_BUFFER_BIT),s.setDepthWriteEnabled(!1);for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(r);for(const t of this.children)t.afterRender(e);o.setRenderTarget(a),o.releaseFbo(i),s.bindFramebuffer(this._prevFBO),o.beforeRenderLayer(r,this._clippingInfos?255:0,this.computedOpacity),s.setStencilTestEnabled(!1),s.setStencilWriteMask(0),o.blitTexture(s,i.colorTexture,t.NEAREST),o.compositeLayer(r,this.computedOpacity),n.recordContainerEnd()}createRenderParams(e){return{...super.createRenderParams(e),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}}_getFbo(e){const{context:t,painter:r}=e,{width:s,height:o}=t.getViewport();return r.acquireFbo(s,o)}}export{r as GroupContainer};\n"]},"metadata":{},"sourceType":"module"}