{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from \"../../Color.js\";\nimport e from \"../../core/has.js\";\nimport { c as i } from \"../../chunks/mat2df32.js\";\nimport { m as r, t as o, c as n, s, r as l } from \"../../chunks/mat2d.js\";\nimport \"../../widgets/support/widgetUtils.js\";\nimport \"../../core/Logger.js\";\nimport { tsx as a } from \"../../widgets/support/jsxFactory.js\";\nconst h = \"http://www.w3.org/2000/svg\";\nlet c = 0,\n    f = 0;\nconst d = e(\"android\"),\n      u = e(\"chrome\") || d && d >= 4 ? \"auto\" : \"optimizeLegibility\",\n      y = {\n  m: 2,\n  l: 2,\n  h: 1,\n  v: 1,\n  c: 6,\n  s: 4,\n  q: 4,\n  t: 2,\n  a: 7,\n  z: 0\n},\n      p = /([A-DF-Za-df-z])|([-+]?\\d*[.]?\\d+(?:[eE][-+]?\\d+)?)/g;\nlet g = {},\n    x = {};\nconst m = {\n  solid: \"none\",\n  shortdash: [4, 1],\n  shortdot: [1, 1],\n  shortdashdot: [4, 1, 1, 1],\n  shortdashdotdot: [4, 1, 1, 1, 1, 1],\n  dot: [1, 3],\n  dash: [4, 3],\n  longdash: [8, 3],\n  dashdot: [4, 3, 1, 3],\n  longdashdot: [8, 3, 1, 3],\n  longdashdotdot: [8, 3, 1, 3, 1, 3]\n},\n      w = Math.PI;\nlet k = 1;\n\nfunction b(t, e) {\n  const i = t * (w / 180);\n  return Math.abs(e * Math.sin(i)) + Math.abs(e * Math.cos(i));\n}\n\nfunction v(t) {\n  return t.map(t => `${t.command} ${t.values.join(\" \")}`).join(\" \").trim();\n}\n\nfunction j(t, e, i, r) {\n  if (t) {\n    if (\"circle\" === t.type) return a(\"circle\", {\n      fill: e,\n      \"fill-rule\": \"evenodd\",\n      stroke: i.color,\n      \"stroke-width\": i.width,\n      \"stroke-linecap\": i.cap,\n      \"stroke-linejoin\": i.join,\n      \"stroke-dasharray\": i.dashArray,\n      \"stroke-miterlimit\": \"4\",\n      cx: t.cx,\n      cy: t.cy,\n      r: t.r\n    });\n    if (\"ellipse\" === t.type) return a(\"ellipse\", {\n      fill: e,\n      \"fill-rule\": \"evenodd\",\n      stroke: i.color,\n      \"stroke-width\": i.width,\n      \"stroke-linecap\": i.cap,\n      \"stroke-linejoin\": i.join,\n      \"stroke-dasharray\": i.dashArray,\n      \"stroke-miterlimit\": \"4\",\n      cx: t.cx,\n      cy: t.cy,\n      rx: t.rx,\n      ry: t.ry\n    });\n    if (\"rect\" === t.type) return a(\"rect\", {\n      fill: e,\n      \"fill-rule\": \"evenodd\",\n      stroke: i.color,\n      \"stroke-width\": i.width,\n      \"stroke-linecap\": i.cap,\n      \"stroke-linejoin\": i.join,\n      \"stroke-dasharray\": i.dashArray,\n      \"stroke-miterlimit\": \"4\",\n      x: t.x,\n      y: t.y,\n      width: t.width,\n      height: t.height\n    });\n    if (\"image\" === t.type) return a(\"image\", {\n      href: t.src,\n      x: t.x,\n      y: t.y,\n      width: t.width,\n      height: t.height,\n      preserveAspectRatio: \"none\"\n    });\n\n    if (\"path\" === t.type) {\n      const r = \"string\" != typeof t.path ? v(t.path) : t.path;\n      return a(\"path\", {\n        fill: e,\n        \"fill-rule\": \"evenodd\",\n        stroke: i.color,\n        \"stroke-width\": i.width,\n        \"stroke-linecap\": i.cap,\n        \"stroke-linejoin\": i.join,\n        \"stroke-dasharray\": i.dashArray,\n        \"stroke-miterlimit\": \"4\",\n        d: r\n      });\n    }\n\n    if (\"text\" === t.type) return a(\"text\", {\n      fill: e,\n      \"fill-rule\": \"evenodd\",\n      stroke: i.color,\n      \"stroke-width\": i.width,\n      \"stroke-linecap\": i.cap,\n      \"stroke-linejoin\": i.join,\n      \"stroke-dasharray\": i.dashArray,\n      \"stroke-miterlimit\": \"4\",\n      \"text-anchor\": r.align,\n      \"text-decoration\": r.decoration,\n      kerning: r.kerning,\n      rotate: r.rotate,\n      \"text-rendering\": u,\n      \"font-style\": r.font.style,\n      \"font-variant\": r.font.variant,\n      \"font-weight\": r.font.weight,\n      \"font-size\": r.font.size,\n      \"font-family\": r.font.family,\n      x: t.x,\n      y: t.y\n    }, t.text);\n  }\n\n  return null;\n}\n\nfunction M(e) {\n  const i = {\n    fill: \"none\",\n    pattern: null,\n    linearGradient: null\n  };\n  if (e) if (\"type\" in e && \"pattern\" === e.type) {\n    const t = \"patternId-\" + ++c;\n    i.fill = `url(#${t})`, i.pattern = {\n      id: t,\n      x: e.x,\n      y: e.y,\n      width: e.width,\n      height: e.height,\n      image: {\n        x: 0,\n        y: 0,\n        width: e.width,\n        height: e.height,\n        href: e.src\n      }\n    };\n  } else if (\"type\" in e && \"linear\" === e.type) {\n    const r = \"linearGradientId-\" + ++f;\n    i.fill = `url(#${r})`, i.linearGradient = {\n      id: r,\n      x1: e.x1,\n      y1: e.y1,\n      x2: e.x2,\n      y2: e.y2,\n      stops: e.colors.map(e => ({\n        offset: e.offset,\n        color: e.color && new t(e.color).toString()\n      }))\n    };\n  } else if (e) {\n    const r = new t(e);\n    i.fill = r.toString();\n  }\n  return i;\n}\n\nfunction A(e) {\n  const i = {\n    color: \"none\",\n    width: 1,\n    cap: \"butt\",\n    join: \"4\",\n    dashArray: \"none\"\n  };\n\n  if (e && (null != e.width && (i.width = e.width), e.cap && (i.cap = e.cap), e.join && (i.join = e.join.toString()), e.color && (i.color = new t(e.color).toString()), e.style)) {\n    let t = null;\n\n    if (e.style in m && (t = m[e.style]), Array.isArray(t)) {\n      t = t.slice(0);\n\n      for (let i = 0; i < t.length; ++i) t[i] *= e.width;\n\n      if (\"butt\" !== e.cap) {\n        for (let i = 0; i < t.length; i += 2) t[i] -= e.width, t[i] < 1 && (t[i] = 1);\n\n        for (let i = 1; i < t.length; i += 2) t[i] += e.width;\n      }\n\n      t = t.join(\",\");\n    }\n\n    i.dashArray = t;\n  }\n\n  return i;\n}\n\nfunction N(t, e) {\n  const i = {\n    align: null,\n    decoration: null,\n    kerning: null,\n    rotate: null,\n    font: {\n      style: null,\n      variant: null,\n      weight: null,\n      size: null,\n      family: null\n    }\n  };\n  return t && (i.align = t.align, i.decoration = t.decoration, i.kerning = t.kerning ? \"auto\" : \"0\", i.rotate = t.rotated ? \"90\" : \"0\", i.font.style = e.style || \"normal\", i.font.variant = e.variant || \"normal\", i.font.weight = e.weight || \"normal\", i.font.size = e.size && e.size.toString() || \"10pt\", i.font.family = e.family || \"serif\"), i;\n}\n\nfunction G(t) {\n  const {\n    pattern: e,\n    linearGradient: i\n  } = t;\n  if (e) return a(\"pattern\", {\n    id: e.id,\n    patternUnits: \"userSpaceOnUse\",\n    x: e.x,\n    y: e.y,\n    width: e.width,\n    height: e.height\n  }, a(\"image\", {\n    x: e.image.x,\n    y: e.image.y,\n    width: e.image.width,\n    height: e.image.height,\n    href: e.image.href\n  }));\n\n  if (i) {\n    const t = i.stops.map((t, e) => a(\"stop\", {\n      key: `${e}-stop`,\n      offset: t.offset,\n      \"stop-color\": t.color\n    }));\n    return a(\"linearGradient\", {\n      id: i.id,\n      gradientUnits: \"userSpaceOnUse\",\n      x1: i.x1,\n      y1: i.y1,\n      x2: i.x2,\n      y2: i.y2\n    }, t);\n  }\n\n  return null;\n}\n\nfunction S(t, e, i) {\n  return o(t, n(t), [e, i]);\n}\n\nfunction $(t, e, i, r, o) {\n  return s(t, n(t), [e, i]), t[4] = t[4] * e - r * e + r, t[5] = t[5] * i - o * i + o, t;\n}\n\nfunction I(t, e, i, r) {\n  const o = e % 360 * Math.PI / 180;\n  l(t, n(t), o);\n  const s = Math.cos(o),\n        a = Math.sin(o),\n        h = t[4],\n        c = t[5];\n  return t[4] = h * s - c * a + r * a - i * s + i, t[5] = c * s + h * a - i * a - r * s + r, t;\n}\n\nfunction z(t, e) {\n  g && \"left\" in g ? (g.left > t && (g.left = t), g.right < t && (g.right = t), g.top > e && (g.top = e), g.bottom < e && (g.bottom = e)) : g = {\n    left: t,\n    bottom: e,\n    right: t,\n    top: e\n  };\n}\n\nfunction B(t) {\n  const e = t.args,\n        i = e.length;\n  let r;\n\n  switch (t.action) {\n    case \"M\":\n    case \"L\":\n    case \"C\":\n    case \"S\":\n    case \"Q\":\n    case \"T\":\n      for (r = 0; r < i; r += 2) z(e[r], e[r + 1]);\n\n      x.x = e[i - 2], x.y = e[i - 1];\n      break;\n\n    case \"H\":\n      for (r = 0; r < i; ++r) z(e[r], x.y);\n\n      x.x = e[i - 1];\n      break;\n\n    case \"V\":\n      for (r = 0; r < i; ++r) z(x.x, e[r]);\n\n      x.y = e[i - 1];\n      break;\n\n    case \"m\":\n      {\n        let t = 0;\n        \"x\" in x || (z(x.x = e[0], x.y = e[1]), t = 2);\n\n        for (r = t; r < i; r += 2) z(x.x += e[r], x.y += e[r + 1]);\n\n        break;\n      }\n\n    case \"l\":\n    case \"t\":\n      for (r = 0; r < i; r += 2) z(x.x += e[r], x.y += e[r + 1]);\n\n      break;\n\n    case \"h\":\n      for (r = 0; r < i; ++r) z(x.x += e[r], x.y);\n\n      break;\n\n    case \"v\":\n      for (r = 0; r < i; ++r) z(x.x, x.y += e[r]);\n\n      break;\n\n    case \"c\":\n      for (r = 0; r < i; r += 6) z(x.x + e[r], x.y + e[r + 1]), z(x.x + e[r + 2], x.y + e[r + 3]), z(x.x += e[r + 4], x.y += e[r + 5]);\n\n      break;\n\n    case \"s\":\n    case \"q\":\n      for (r = 0; r < i; r += 4) z(x.x + e[r], x.y + e[r + 1]), z(x.x += e[r + 2], x.y += e[r + 3]);\n\n      break;\n\n    case \"A\":\n      for (r = 0; r < i; r += 7) z(e[r + 5], e[r + 6]);\n\n      x.x = e[i - 2], x.y = e[i - 1];\n      break;\n\n    case \"a\":\n      for (r = 0; r < i; r += 7) z(x.x += e[r + 5], x.y += e[r + 6]);\n\n  }\n}\n\nfunction F(t, e, i) {\n  const r = y[t.toLowerCase()];\n  let o;\n  \"number\" == typeof r && (r ? e.length >= r && (o = {\n    action: t,\n    args: e.slice(0, e.length - e.length % r)\n  }, i.push(o), B(o)) : (o = {\n    action: t,\n    args: []\n  }, i.push(o), B(o)));\n}\n\nfunction U(t) {\n  const e = (\"string\" != typeof t.path ? v(t.path) : t.path).match(p),\n        i = [];\n  if (g = {}, x = {}, !e) return null;\n  let r = \"\",\n      o = [];\n  const n = e.length;\n\n  for (let l = 0; l < n; ++l) {\n    const t = e[l],\n          n = parseFloat(t);\n    isNaN(n) ? (r && F(r, o, i), o = [], r = t) : o.push(n);\n  }\n\n  F(r, o, i);\n  const s = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  return g && \"left\" in g && (s.x = g.left, s.y = g.top, s.width = g.right - g.left, s.height = g.bottom - g.top), s;\n}\n\nfunction T(t) {\n  const e = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  if (\"circle\" === t.type) e.x = t.cx - t.r, e.y = t.cy - t.r, e.width = 2 * t.r, e.height = 2 * t.r;else if (\"ellipse\" === t.type) e.x = t.cx - t.rx, e.y = t.cy - t.ry, e.width = 2 * t.rx, e.height = 2 * t.ry;else if (\"image\" === t.type || \"rect\" === t.type) e.x = t.x, e.y = t.y, e.width = t.width, e.height = t.height;else if (\"path\" === t.type) {\n    const i = U(t);\n    e.x = i.x, e.y = i.y, e.width = i.width, e.height = i.height;\n  }\n  return e;\n}\n\nfunction E(t) {\n  const e = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  let i = null,\n      r = Number.NEGATIVE_INFINITY,\n      o = Number.NEGATIVE_INFINITY;\n\n  for (const n of t) i ? (i.x = Math.min(i.x, n.x), i.y = Math.min(i.y, n.y), r = Math.max(r, n.x + n.width), o = Math.max(o, n.y + n.height)) : (i = e, i.x = n.x, i.y = n.y, r = n.x + n.width, o = n.y + n.height);\n\n  return i && (i.width = r - i.x, i.height = o - i.y), i;\n}\n\nfunction V(t, e, o, n, s, l, a, h, c) {\n  let f = (a && l ? b(l, e) : e) / 2,\n      d = (a && l ? b(l, o) : o) / 2;\n\n  if (c) {\n    const t = c[0],\n          e = c[1];\n    f = (a && l ? b(l, t) : t) / 2, d = (a && l ? b(l, e) : e) / 2;\n  }\n\n  const u = t.width + n,\n        y = t.height + n,\n        p = i(),\n        g = i();\n  let x = !1;\n\n  if (s && 0 !== u && 0 !== y) {\n    const t = e !== o ? e / o : u / y,\n          i = e > o ? e : o;\n    let n = 1,\n        s = 1;\n    isNaN(i) || (t > 1 ? (n = i / u, s = i / t / y) : (s = i / y, n = i * t / u)), r(g, g, $(p, n, s, f, d)), x = !0;\n  }\n\n  const m = t.x + (u - n) / 2,\n        w = t.y + (y - n) / 2;\n\n  if (r(g, g, S(p, f - m, d - w)), !x && (u > e || y > o)) {\n    const t = u / e > y / o,\n          i = (t ? e : o) / (t ? u : y);\n    r(g, g, $(p, i, i, m, w));\n  }\n\n  return l && r(g, g, I(p, l, m, w)), h && r(g, g, S(p, h[0], h[1])), `matrix(${g[0]},${g[1]},${g[2]},${g[3]},${g[4]},${g[5]})`;\n}\n\nfunction C(t, e, i) {\n  const r = null == t ? void 0 : t.effects.find(t => \"bloom\" === t.type);\n  if (!r) return null;\n  const {\n    strength: o,\n    radius: n\n  } = r,\n        s = o > 0 ? n : 0,\n        l = (o + s) * e,\n        h = 4 * o + 1;\n  return a(\"filter\", {\n    id: `bloom${i}`,\n    x: \"-100%\",\n    y: \"-100%\",\n    width: \"300%\",\n    height: \"300%\",\n    filterUnits: \"userSpaceOnUse\"\n  }, a(\"feMorphology\", {\n    operator: \"dilate\",\n    radius: (o + .5 * s) * (5 ** (e / 100) * (.4 + e / 100)),\n    in: \"SourceGraphic\",\n    result: \"dilate\"\n  }), a(\"feGaussianBlur\", {\n    in: \"dilate\",\n    stdDeviation: l / 25,\n    result: \"blur\"\n  }), a(\"feGaussianBlur\", {\n    in: \"blur\",\n    stdDeviation: l / 50,\n    result: \"intensityBlur\"\n  }), a(\"feComponentTransfer\", {\n    in: \"SourceGraphic\",\n    result: \"intensityBrightness\"\n  }, a(\"feFuncR\", {\n    type: \"linear\",\n    slope: h\n  }), a(\"feFuncG\", {\n    type: \"linear\",\n    slope: h\n  }), a(\"feFuncB\", {\n    type: \"linear\",\n    slope: h\n  })), a(\"feMerge\", null, a(\"feMergeNode\", {\n    in: \"intensityBlur\"\n  }), a(\"feMergeNode\", {\n    in: \"intensityBrightness\"\n  }), a(\"feGaussianBlur\", {\n    stdDeviation: o / 10\n  })));\n}\n\nfunction D(t, e, i, r) {\n  const o = [],\n        n = [],\n        s = ++k,\n        l = C(null == r ? void 0 : r.effectView, e, s);\n  let c = null;\n\n  if (l) {\n    var f;\n    const t = null == r || null == (f = r.effectView) ? void 0 : f.effects.find(t => \"bloom\" === t.type),\n          o = (t.strength ? t.strength + t.radius / 2 : 0) / 3,\n          n = e + e * o,\n          s = i + i * o;\n    c = [Math.max(n, 10), Math.max(s, 10)];\n  }\n\n  for (const h of t) {\n    const t = [],\n          s = [];\n    let l = 0,\n        f = 0,\n        d = 0;\n\n    for (const e of h) {\n      const {\n        shape: i,\n        fill: r,\n        stroke: n,\n        font: a,\n        offset: h\n      } = e;\n      l += n && n.width || 0;\n      const c = M(r),\n            u = A(n),\n            y = \"text\" === i.type ? N(i, a) : null;\n      o.push(G(c)), t.push(j(i, c.fill, u, y)), s.push(T(i)), h && (f += h[0], d += h[1]);\n    }\n\n    const u = V(E(s), e, i, l, null == r ? void 0 : r.scale, null == r ? void 0 : r.rotation, null == r ? void 0 : r.useRotationSize, [f, d], c);\n    n.push(a(\"g\", {\n      transform: u\n    }, t));\n  }\n\n  null != r && r.useRotationSize && null != r && r.rotation && (e = b(null == r ? void 0 : r.rotation, e), i = b(null == r ? void 0 : r.rotation, i)), l && (e = c[0], i = c[1]);\n  return a(\"svg\", {\n    xmlns: h,\n    width: e,\n    height: i,\n    style: \"display: block;\"\n  }, l, a(\"defs\", null, o), l ? a(\"g\", {\n    filter: `url(#bloom${s})`\n  }, n) : n);\n}\n\nexport { E as computeBBox, M as generateFillAttributes, A as generateStrokeAttributes, N as generateTextAttributes, T as getBoundingBox, V as getTransformMatrix, G as renderDef, D as renderSVG, j as renderShape };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/symbols/support/svgUtils.js"],"names":["t","e","c","i","m","r","o","n","s","l","tsx","a","h","f","d","u","y","v","q","z","p","g","x","solid","shortdash","shortdot","shortdashdot","shortdashdotdot","dot","dash","longdash","dashdot","longdashdot","longdashdotdot","w","Math","PI","k","b","abs","sin","cos","map","command","values","join","trim","j","type","fill","stroke","color","width","cap","dashArray","cx","cy","rx","ry","height","href","src","preserveAspectRatio","path","align","decoration","kerning","rotate","font","style","variant","weight","size","family","text","M","pattern","linearGradient","id","image","x1","y1","x2","y2","stops","colors","offset","toString","A","Array","isArray","slice","length","N","rotated","G","patternUnits","key","gradientUnits","S","$","I","left","right","top","bottom","B","args","action","F","toLowerCase","push","U","match","parseFloat","isNaN","T","E","Number","NEGATIVE_INFINITY","min","max","V","C","effects","find","strength","radius","filterUnits","operator","in","result","stdDeviation","slope","D","effectView","shape","scale","rotation","useRotationSize","transform","xmlns","filter","computeBBox","generateFillAttributes","generateStrokeAttributes","generateTextAttributes","getBoundingBox","getTransformMatrix","renderDef","renderSVG","renderShape"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import e from\"../../core/has.js\";import{c as i}from\"../../chunks/mat2df32.js\";import{m as r,t as o,c as n,s,r as l}from\"../../chunks/mat2d.js\";import\"../../widgets/support/widgetUtils.js\";import\"../../core/Logger.js\";import{tsx as a}from\"../../widgets/support/jsxFactory.js\";const h=\"http://www.w3.org/2000/svg\";let c=0,f=0;const d=e(\"android\"),u=e(\"chrome\")||d&&d>=4?\"auto\":\"optimizeLegibility\",y={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},p=/([A-DF-Za-df-z])|([-+]?\\d*[.]?\\d+(?:[eE][-+]?\\d+)?)/g;let g={},x={};const m={solid:\"none\",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},w=Math.PI;let k=1;function b(t,e){const i=t*(w/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function v(t){return t.map((t=>`${t.command} ${t.values.join(\" \")}`)).join(\" \").trim()}function j(t,e,i,r){if(t){if(\"circle\"===t.type)return a(\"circle\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",cx:t.cx,cy:t.cy,r:t.r});if(\"ellipse\"===t.type)return a(\"ellipse\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry});if(\"rect\"===t.type)return a(\"rect\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",x:t.x,y:t.y,width:t.width,height:t.height});if(\"image\"===t.type)return a(\"image\",{href:t.src,x:t.x,y:t.y,width:t.width,height:t.height,preserveAspectRatio:\"none\"});if(\"path\"===t.type){const r=\"string\"!=typeof t.path?v(t.path):t.path;return a(\"path\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",d:r})}if(\"text\"===t.type)return a(\"text\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",\"text-anchor\":r.align,\"text-decoration\":r.decoration,kerning:r.kerning,rotate:r.rotate,\"text-rendering\":u,\"font-style\":r.font.style,\"font-variant\":r.font.variant,\"font-weight\":r.font.weight,\"font-size\":r.font.size,\"font-family\":r.font.family,x:t.x,y:t.y},t.text)}return null}function M(e){const i={fill:\"none\",pattern:null,linearGradient:null};if(e)if(\"type\"in e&&\"pattern\"===e.type){const t=\"patternId-\"+ ++c;i.fill=`url(#${t})`,i.pattern={id:t,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if(\"type\"in e&&\"linear\"===e.type){const r=\"linearGradientId-\"+ ++f;i.fill=`url(#${r})`,i.linearGradient={id:r,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map((e=>({offset:e.offset,color:e.color&&new t(e.color).toString()})))}}else if(e){const r=new t(e);i.fill=r.toString()}return i}function A(e){const i={color:\"none\",width:1,cap:\"butt\",join:\"4\",dashArray:\"none\"};if(e&&(null!=e.width&&(i.width=e.width),e.cap&&(i.cap=e.cap),e.join&&(i.join=e.join.toString()),e.color&&(i.color=new t(e.color).toString()),e.style)){let t=null;if(e.style in m&&(t=m[e.style]),Array.isArray(t)){t=t.slice(0);for(let i=0;i<t.length;++i)t[i]*=e.width;if(\"butt\"!==e.cap){for(let i=0;i<t.length;i+=2)t[i]-=e.width,t[i]<1&&(t[i]=1);for(let i=1;i<t.length;i+=2)t[i]+=e.width}t=t.join(\",\")}i.dashArray=t}return i}function N(t,e){const i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return t&&(i.align=t.align,i.decoration=t.decoration,i.kerning=t.kerning?\"auto\":\"0\",i.rotate=t.rotated?\"90\":\"0\",i.font.style=e.style||\"normal\",i.font.variant=e.variant||\"normal\",i.font.weight=e.weight||\"normal\",i.font.size=e.size&&e.size.toString()||\"10pt\",i.font.family=e.family||\"serif\"),i}function G(t){const{pattern:e,linearGradient:i}=t;if(e)return a(\"pattern\",{id:e.id,patternUnits:\"userSpaceOnUse\",x:e.x,y:e.y,width:e.width,height:e.height},a(\"image\",{x:e.image.x,y:e.image.y,width:e.image.width,height:e.image.height,href:e.image.href}));if(i){const t=i.stops.map(((t,e)=>a(\"stop\",{key:`${e}-stop`,offset:t.offset,\"stop-color\":t.color})));return a(\"linearGradient\",{id:i.id,gradientUnits:\"userSpaceOnUse\",x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},t)}return null}function S(t,e,i){return o(t,n(t),[e,i])}function $(t,e,i,r,o){return s(t,n(t),[e,i]),t[4]=t[4]*e-r*e+r,t[5]=t[5]*i-o*i+o,t}function I(t,e,i,r){const o=e%360*Math.PI/180;l(t,n(t),o);const s=Math.cos(o),a=Math.sin(o),h=t[4],c=t[5];return t[4]=h*s-c*a+r*a-i*s+i,t[5]=c*s+h*a-i*a-r*s+r,t}function z(t,e){g&&\"left\"in g?(g.left>t&&(g.left=t),g.right<t&&(g.right=t),g.top>e&&(g.top=e),g.bottom<e&&(g.bottom=e)):g={left:t,bottom:e,right:t,top:e}}function B(t){const e=t.args,i=e.length;let r;switch(t.action){case\"M\":case\"L\":case\"C\":case\"S\":case\"Q\":case\"T\":for(r=0;r<i;r+=2)z(e[r],e[r+1]);x.x=e[i-2],x.y=e[i-1];break;case\"H\":for(r=0;r<i;++r)z(e[r],x.y);x.x=e[i-1];break;case\"V\":for(r=0;r<i;++r)z(x.x,e[r]);x.y=e[i-1];break;case\"m\":{let t=0;\"x\"in x||(z(x.x=e[0],x.y=e[1]),t=2);for(r=t;r<i;r+=2)z(x.x+=e[r],x.y+=e[r+1]);break}case\"l\":case\"t\":for(r=0;r<i;r+=2)z(x.x+=e[r],x.y+=e[r+1]);break;case\"h\":for(r=0;r<i;++r)z(x.x+=e[r],x.y);break;case\"v\":for(r=0;r<i;++r)z(x.x,x.y+=e[r]);break;case\"c\":for(r=0;r<i;r+=6)z(x.x+e[r],x.y+e[r+1]),z(x.x+e[r+2],x.y+e[r+3]),z(x.x+=e[r+4],x.y+=e[r+5]);break;case\"s\":case\"q\":for(r=0;r<i;r+=4)z(x.x+e[r],x.y+e[r+1]),z(x.x+=e[r+2],x.y+=e[r+3]);break;case\"A\":for(r=0;r<i;r+=7)z(e[r+5],e[r+6]);x.x=e[i-2],x.y=e[i-1];break;case\"a\":for(r=0;r<i;r+=7)z(x.x+=e[r+5],x.y+=e[r+6])}}function F(t,e,i){const r=y[t.toLowerCase()];let o;\"number\"==typeof r&&(r?e.length>=r&&(o={action:t,args:e.slice(0,e.length-e.length%r)},i.push(o),B(o)):(o={action:t,args:[]},i.push(o),B(o)))}function U(t){const e=(\"string\"!=typeof t.path?v(t.path):t.path).match(p),i=[];if(g={},x={},!e)return null;let r=\"\",o=[];const n=e.length;for(let l=0;l<n;++l){const t=e[l],n=parseFloat(t);isNaN(n)?(r&&F(r,o,i),o=[],r=t):o.push(n)}F(r,o,i);const s={x:0,y:0,width:0,height:0};return g&&\"left\"in g&&(s.x=g.left,s.y=g.top,s.width=g.right-g.left,s.height=g.bottom-g.top),s}function T(t){const e={x:0,y:0,width:0,height:0};if(\"circle\"===t.type)e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if(\"ellipse\"===t.type)e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if(\"image\"===t.type||\"rect\"===t.type)e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if(\"path\"===t.type){const i=U(t);e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height}return e}function E(t){const e={x:0,y:0,width:0,height:0};let i=null,r=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(const n of t)i?(i.x=Math.min(i.x,n.x),i.y=Math.min(i.y,n.y),r=Math.max(r,n.x+n.width),o=Math.max(o,n.y+n.height)):(i=e,i.x=n.x,i.y=n.y,r=n.x+n.width,o=n.y+n.height);return i&&(i.width=r-i.x,i.height=o-i.y),i}function V(t,e,o,n,s,l,a,h,c){let f=(a&&l?b(l,e):e)/2,d=(a&&l?b(l,o):o)/2;if(c){const t=c[0],e=c[1];f=(a&&l?b(l,t):t)/2,d=(a&&l?b(l,e):e)/2}const u=t.width+n,y=t.height+n,p=i(),g=i();let x=!1;if(s&&0!==u&&0!==y){const t=e!==o?e/o:u/y,i=e>o?e:o;let n=1,s=1;isNaN(i)||(t>1?(n=i/u,s=i/t/y):(s=i/y,n=i*t/u)),r(g,g,$(p,n,s,f,d)),x=!0}const m=t.x+(u-n)/2,w=t.y+(y-n)/2;if(r(g,g,S(p,f-m,d-w)),!x&&(u>e||y>o)){const t=u/e>y/o,i=(t?e:o)/(t?u:y);r(g,g,$(p,i,i,m,w))}return l&&r(g,g,I(p,l,m,w)),h&&r(g,g,S(p,h[0],h[1])),`matrix(${g[0]},${g[1]},${g[2]},${g[3]},${g[4]},${g[5]})`}function C(t,e,i){const r=null==t?void 0:t.effects.find((t=>\"bloom\"===t.type));if(!r)return null;const{strength:o,radius:n}=r,s=o>0?n:0,l=(o+s)*e,h=4*o+1;return a(\"filter\",{id:`bloom${i}`,x:\"-100%\",y:\"-100%\",width:\"300%\",height:\"300%\",filterUnits:\"userSpaceOnUse\"},a(\"feMorphology\",{operator:\"dilate\",radius:(o+.5*s)*(5**(e/100)*(.4+e/100)),in:\"SourceGraphic\",result:\"dilate\"}),a(\"feGaussianBlur\",{in:\"dilate\",stdDeviation:l/25,result:\"blur\"}),a(\"feGaussianBlur\",{in:\"blur\",stdDeviation:l/50,result:\"intensityBlur\"}),a(\"feComponentTransfer\",{in:\"SourceGraphic\",result:\"intensityBrightness\"},a(\"feFuncR\",{type:\"linear\",slope:h}),a(\"feFuncG\",{type:\"linear\",slope:h}),a(\"feFuncB\",{type:\"linear\",slope:h})),a(\"feMerge\",null,a(\"feMergeNode\",{in:\"intensityBlur\"}),a(\"feMergeNode\",{in:\"intensityBrightness\"}),a(\"feGaussianBlur\",{stdDeviation:o/10})))}function D(t,e,i,r){const o=[],n=[],s=++k,l=C(null==r?void 0:r.effectView,e,s);let c=null;if(l){var f;const t=null==r||null==(f=r.effectView)?void 0:f.effects.find((t=>\"bloom\"===t.type)),o=(t.strength?t.strength+t.radius/2:0)/3,n=e+e*o,s=i+i*o;c=[Math.max(n,10),Math.max(s,10)]}for(const h of t){const t=[],s=[];let l=0,f=0,d=0;for(const e of h){const{shape:i,fill:r,stroke:n,font:a,offset:h}=e;l+=n&&n.width||0;const c=M(r),u=A(n),y=\"text\"===i.type?N(i,a):null;o.push(G(c)),t.push(j(i,c.fill,u,y)),s.push(T(i)),h&&(f+=h[0],d+=h[1])}const u=V(E(s),e,i,l,null==r?void 0:r.scale,null==r?void 0:r.rotation,null==r?void 0:r.useRotationSize,[f,d],c);n.push(a(\"g\",{transform:u},t))}null!=r&&r.useRotationSize&&null!=r&&r.rotation&&(e=b(null==r?void 0:r.rotation,e),i=b(null==r?void 0:r.rotation,i)),l&&(e=c[0],i=c[1]);return a(\"svg\",{xmlns:h,width:e,height:i,style:\"display: block;\"},l,a(\"defs\",null,o),l?a(\"g\",{filter:`url(#bloom${s})`},n):n)}export{E as computeBBox,M as generateFillAttributes,A as generateStrokeAttributes,N as generateTextAttributes,T as getBoundingBox,V as getTransformMatrix,G as renderDef,D as renderSVG,j as renderShape};\n"]},"metadata":{},"sourceType":"module"}