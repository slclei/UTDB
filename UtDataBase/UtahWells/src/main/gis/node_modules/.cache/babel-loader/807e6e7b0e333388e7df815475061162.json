{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { c as r } from \"../../../../../../chunks/mat3f64.js\";\nimport { c as o } from \"../../../../../../chunks/mat4f64.js\";\nimport { c as e } from \"../../../../../../chunks/vec3f64.js\";\nimport { PositionAttribute as t } from \"./PositionAttribute.glsl.js\";\nimport { DoublePrecision as m } from \"../util/DoublePrecision.glsl.js\";\nimport { glsl as i } from \"../../shaderModules/interfaces.js\";\n\nfunction a(r, o) {\n  r.include(t), r.vertex.include(m, o), r.varyings.add(\"vPositionWorldCameraRelative\", \"vec3\"), r.varyings.add(\"vPosition_view\", \"vec3\"), r.vertex.uniforms.add(\"transformWorldFromModelRS\", \"mat3\"), r.vertex.uniforms.add(\"transformWorldFromModelTH\", \"vec3\"), r.vertex.uniforms.add(\"transformWorldFromModelTL\", \"vec3\"), r.vertex.uniforms.add(\"transformWorldFromViewTH\", \"vec3\"), r.vertex.uniforms.add(\"transformWorldFromViewTL\", \"vec3\"), r.vertex.uniforms.add(\"transformViewFromCameraRelativeRS\", \"mat3\"), r.vertex.uniforms.add(\"transformProjFromView\", \"mat4\"), r.vertex.code.add(i`vec3 positionWorldCameraRelative() {\nvec3 rotatedModelPosition = transformWorldFromModelRS * positionModel();\nvec3 transform_CameraRelativeFromModel = dpAdd(\ntransformWorldFromModelTL,\ntransformWorldFromModelTH,\n-transformWorldFromViewTL,\n-transformWorldFromViewTH\n);\nreturn transform_CameraRelativeFromModel + rotatedModelPosition;\n}\nvec3 position_view() {\nreturn transformViewFromCameraRelativeRS * positionWorldCameraRelative();\n}\nvoid forwardPosition() {\nvPositionWorldCameraRelative = positionWorldCameraRelative();\nvPosition_view = position_view();\ngl_Position = transformProjFromView * vec4(vPosition_view, 1.0);\n}\nvec3 positionWorld() {\nreturn transformWorldFromViewTL + vPositionWorldCameraRelative;\n}`), r.fragment.uniforms.add(\"transformWorldFromViewTL\", \"vec3\"), r.fragment.code.add(i`vec3 positionWorld() {\nreturn transformWorldFromViewTL + vPositionWorldCameraRelative;\n}`);\n}\n\nclass s {\n  constructor() {\n    this.transformWorldFromModelRS = r(), this.transformWorldFromModelTH = e(), this.transformWorldFromModelTL = e();\n  }\n\n}\n\nclass n {\n  constructor() {\n    this.transformWorldFromViewTH = e(), this.transformWorldFromViewTL = e(), this.transformViewFromCameraRelativeRS = r(), this.transformProjFromView = o();\n  }\n\n}\n\nfunction d(r, o) {\n  r.setUniformMatrix3fv(\"transformWorldFromModelRS\", o.transformWorldFromModelRS), r.setUniform3fv(\"transformWorldFromModelTH\", o.transformWorldFromModelTH), r.setUniform3fv(\"transformWorldFromModelTL\", o.transformWorldFromModelTL);\n}\n\nfunction l(r, o) {\n  r.setUniform3fv(\"transformWorldFromViewTH\", o.transformWorldFromViewTH), r.setUniform3fv(\"transformWorldFromViewTL\", o.transformWorldFromViewTL), r.setUniformMatrix4fv(\"transformProjFromView\", o.transformProjFromView), r.setUniformMatrix3fv(\"transformViewFromCameraRelativeRS\", o.transformViewFromCameraRelativeRS);\n}\n\nexport { a as VertexPosition, s as VertexPositionModelTransform, n as VertexPositionViewProjectionTransform, d as bindModelTransform, l as bindViewProjTransform };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js"],"names":["c","r","o","e","PositionAttribute","t","DoublePrecision","m","glsl","i","a","include","vertex","varyings","add","uniforms","code","fragment","s","constructor","transformWorldFromModelRS","transformWorldFromModelTH","transformWorldFromModelTL","n","transformWorldFromViewTH","transformWorldFromViewTL","transformViewFromCameraRelativeRS","transformProjFromView","d","setUniformMatrix3fv","setUniform3fv","l","setUniformMatrix4fv","VertexPosition","VertexPositionModelTransform","VertexPositionViewProjectionTransform","bindModelTransform","bindViewProjTransform"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{c as r}from\"../../../../../../chunks/mat3f64.js\";import{c as o}from\"../../../../../../chunks/mat4f64.js\";import{c as e}from\"../../../../../../chunks/vec3f64.js\";import{PositionAttribute as t}from\"./PositionAttribute.glsl.js\";import{DoublePrecision as m}from\"../util/DoublePrecision.glsl.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";function a(r,o){r.include(t),r.vertex.include(m,o),r.varyings.add(\"vPositionWorldCameraRelative\",\"vec3\"),r.varyings.add(\"vPosition_view\",\"vec3\"),r.vertex.uniforms.add(\"transformWorldFromModelRS\",\"mat3\"),r.vertex.uniforms.add(\"transformWorldFromModelTH\",\"vec3\"),r.vertex.uniforms.add(\"transformWorldFromModelTL\",\"vec3\"),r.vertex.uniforms.add(\"transformWorldFromViewTH\",\"vec3\"),r.vertex.uniforms.add(\"transformWorldFromViewTL\",\"vec3\"),r.vertex.uniforms.add(\"transformViewFromCameraRelativeRS\",\"mat3\"),r.vertex.uniforms.add(\"transformProjFromView\",\"mat4\"),r.vertex.code.add(i`vec3 positionWorldCameraRelative() {\nvec3 rotatedModelPosition = transformWorldFromModelRS * positionModel();\nvec3 transform_CameraRelativeFromModel = dpAdd(\ntransformWorldFromModelTL,\ntransformWorldFromModelTH,\n-transformWorldFromViewTL,\n-transformWorldFromViewTH\n);\nreturn transform_CameraRelativeFromModel + rotatedModelPosition;\n}\nvec3 position_view() {\nreturn transformViewFromCameraRelativeRS * positionWorldCameraRelative();\n}\nvoid forwardPosition() {\nvPositionWorldCameraRelative = positionWorldCameraRelative();\nvPosition_view = position_view();\ngl_Position = transformProjFromView * vec4(vPosition_view, 1.0);\n}\nvec3 positionWorld() {\nreturn transformWorldFromViewTL + vPositionWorldCameraRelative;\n}`),r.fragment.uniforms.add(\"transformWorldFromViewTL\",\"vec3\"),r.fragment.code.add(i`vec3 positionWorld() {\nreturn transformWorldFromViewTL + vPositionWorldCameraRelative;\n}`)}class s{constructor(){this.transformWorldFromModelRS=r(),this.transformWorldFromModelTH=e(),this.transformWorldFromModelTL=e()}}class n{constructor(){this.transformWorldFromViewTH=e(),this.transformWorldFromViewTL=e(),this.transformViewFromCameraRelativeRS=r(),this.transformProjFromView=o()}}function d(r,o){r.setUniformMatrix3fv(\"transformWorldFromModelRS\",o.transformWorldFromModelRS),r.setUniform3fv(\"transformWorldFromModelTH\",o.transformWorldFromModelTH),r.setUniform3fv(\"transformWorldFromModelTL\",o.transformWorldFromModelTL)}function l(r,o){r.setUniform3fv(\"transformWorldFromViewTH\",o.transformWorldFromViewTH),r.setUniform3fv(\"transformWorldFromViewTL\",o.transformWorldFromViewTL),r.setUniformMatrix4fv(\"transformProjFromView\",o.transformProjFromView),r.setUniformMatrix3fv(\"transformViewFromCameraRelativeRS\",o.transformViewFromCameraRelativeRS)}export{a as VertexPosition,s as VertexPositionModelTransform,n as VertexPositionViewProjectionTransform,d as bindModelTransform,l as bindViewProjTransform};\n"]},"metadata":{},"sourceType":"module"}