{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"../Error.js\";\nimport { unwrap as t } from \"../maybe.js\";\nlet r;\n\nfunction s(s, a) {\n  let n = a.responseType;\n  n ? \"array-buffer\" !== n && \"blob\" !== n && \"json\" !== n && \"native\" !== n && \"native-request-init\" !== n && \"text\" !== n && (n = \"text\") : n = \"json\", a.responseType = n;\n  const o = t(a.signal);\n  return delete a.signal, globalThis.invokeStaticMessage(\"request\", {\n    url: s,\n    options: a\n  }, {\n    signal: o\n  }).then(async t => {\n    let i, l, u, c, b;\n    if (t.data) if (t.data instanceof ArrayBuffer) {\n      if (!(\"json\" !== n && \"text\" !== n && \"blob\" !== n || (i = new Blob([t.data]), \"json\" !== n && \"text\" !== n || (r || (r = new FileReaderSync()), c = r.readAsText(i), \"json\" !== n)))) {\n        try {\n          l = JSON.parse(c || null);\n        } catch (f) {\n          const t = { ...f,\n            url: s,\n            requestOptions: a\n          };\n          throw new e(\"request:server\", f.message, t);\n        }\n\n        if (l.error) {\n          const t = { ...l.error,\n            url: s,\n            requestOptions: a\n          };\n          throw new e(\"request:server\", l.error.message, t);\n        }\n      }\n    } else \"native\" === n && (t.data.signal = o, u = await fetch(t.data.url, t.data));\n\n    switch (n) {\n      case \"blob\":\n        b = i;\n        break;\n\n      case \"json\":\n        b = l;\n        break;\n\n      case \"native\":\n        b = u;\n        break;\n\n      case \"text\":\n        b = c;\n        break;\n\n      default:\n        b = t.data;\n    }\n\n    return {\n      data: b,\n      requestOptions: a,\n      ssl: t.ssl,\n      url: s\n    };\n  });\n}\n\nexport { s as execute };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/core/workers/request.js"],"names":["e","unwrap","t","r","s","a","n","responseType","o","signal","globalThis","invokeStaticMessage","url","options","then","i","l","u","c","b","data","ArrayBuffer","Blob","FileReaderSync","readAsText","JSON","parse","f","requestOptions","message","error","fetch","ssl","execute"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../Error.js\";import{unwrap as t}from\"../maybe.js\";let r;function s(s,a){let n=a.responseType;n?\"array-buffer\"!==n&&\"blob\"!==n&&\"json\"!==n&&\"native\"!==n&&\"native-request-init\"!==n&&\"text\"!==n&&(n=\"text\"):n=\"json\",a.responseType=n;const o=t(a.signal);return delete a.signal,globalThis.invokeStaticMessage(\"request\",{url:s,options:a},{signal:o}).then((async t=>{let i,l,u,c,b;if(t.data)if(t.data instanceof ArrayBuffer){if(!(\"json\"!==n&&\"text\"!==n&&\"blob\"!==n||(i=new Blob([t.data]),\"json\"!==n&&\"text\"!==n||(r||(r=new FileReaderSync),c=r.readAsText(i),\"json\"!==n)))){try{l=JSON.parse(c||null)}catch(f){const t={...f,url:s,requestOptions:a};throw new e(\"request:server\",f.message,t)}if(l.error){const t={...l.error,url:s,requestOptions:a};throw new e(\"request:server\",l.error.message,t)}}}else\"native\"===n&&(t.data.signal=o,u=await fetch(t.data.url,t.data));switch(n){case\"blob\":b=i;break;case\"json\":b=l;break;case\"native\":b=u;break;case\"text\":b=c;break;default:b=t.data}return{data:b,requestOptions:a,ssl:t.ssl,url:s}}))}export{s as execute};\n"]},"metadata":{},"sourceType":"module"}