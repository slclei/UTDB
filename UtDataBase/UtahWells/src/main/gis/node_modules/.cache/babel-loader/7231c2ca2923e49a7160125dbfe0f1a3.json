{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { _ as s } from \"../chunks/tslib.es6.js\";\nimport e from \"./Accessor.js\";\nimport { assumeNonNull as i } from \"./maybe.js\";\nimport { createDeferred as r, createAbortError as t, isAbortError as o } from \"./promiseUtils.js\";\nimport { subclass as l } from \"./accessorSupport/decorators/subclass.js\";\nvar h;\n!function (s) {\n  s[s.PENDING = 0] = \"PENDING\", s[s.RESOLVED = 1] = \"RESOLVED\", s[s.REJECTED = 2] = \"REJECTED\";\n}(h || (h = {}));\n\nclass n {\n  constructor(s) {\n    this.instance = s, this._resolver = r(), this._status = h.PENDING, this._resolvingPromises = [], this._resolver.promise.then(() => {\n      this._status = h.RESOLVED, this._cleanUp();\n    }, () => {\n      this._status = h.REJECTED, this._cleanUp();\n    });\n  }\n\n  addResolvingPromise(s) {\n    this._resolvingPromises.push(s), this._tryResolve();\n  }\n\n  isResolved() {\n    return this._status === h.RESOLVED;\n  }\n\n  isRejected() {\n    return this._status === h.REJECTED;\n  }\n\n  isFulfilled() {\n    return this._status !== h.PENDING;\n  }\n\n  abort() {\n    this._resolver.reject(t());\n  }\n\n  when(s, e) {\n    return this._resolver.promise.then(s, e);\n  }\n\n  _cleanUp() {\n    this._allPromise = this._resolvingPromises = this._allPromise = null;\n  }\n\n  _tryResolve() {\n    if (this.isFulfilled()) return;\n    const s = r(),\n          e = [...this._resolvingPromises, i(s.promise)],\n          t = this._allPromise = Promise.all(e);\n    t.then(() => {\n      this.isFulfilled() || this._allPromise !== t || this._resolver.resolve(this.instance);\n    }, s => {\n      this.isFulfilled() || this._allPromise !== t || o(s) || this._resolver.reject(s);\n    }), s.resolve();\n  }\n\n}\n\nconst m = e => {\n  let i = class extends e {\n    constructor() {\n      super(...arguments), this._promiseProps = new n(this), this.addResolvingPromise(Promise.resolve());\n    }\n\n    isResolved() {\n      return this._promiseProps.isResolved();\n    }\n\n    isRejected() {\n      return this._promiseProps.isRejected();\n    }\n\n    isFulfilled() {\n      return this._promiseProps.isFulfilled();\n    }\n\n    when(s, e) {\n      return new Promise((s, e) => {\n        this._promiseProps.when(s, e);\n      }).then(s, e);\n    }\n\n    catch(s) {\n      return this.when(null, s);\n    }\n\n    addResolvingPromise(s) {\n      s && !this._promiseProps.isFulfilled() && this._promiseProps.addResolvingPromise(\"_promiseProps\" in s ? s.when() : s);\n    }\n\n  };\n  return i = s([l(\"esri.core.Promise\")], i), i;\n};\n\nlet _ = class extends m(e) {};\n\n_ = s([l(\"esri.core.Promise\")], _);\nexport { _ as EsriPromise, m as EsriPromiseMixin };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/core/Promise.js"],"names":["_","s","e","assumeNonNull","i","createDeferred","r","createAbortError","t","isAbortError","o","subclass","l","h","PENDING","RESOLVED","REJECTED","n","constructor","instance","_resolver","_status","_resolvingPromises","promise","then","_cleanUp","addResolvingPromise","push","_tryResolve","isResolved","isRejected","isFulfilled","abort","reject","when","_allPromise","Promise","all","resolve","m","_promiseProps","catch","EsriPromise","EsriPromiseMixin"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import e from\"./Accessor.js\";import{assumeNonNull as i}from\"./maybe.js\";import{createDeferred as r,createAbortError as t,isAbortError as o}from\"./promiseUtils.js\";import{subclass as l}from\"./accessorSupport/decorators/subclass.js\";var h;!function(s){s[s.PENDING=0]=\"PENDING\",s[s.RESOLVED=1]=\"RESOLVED\",s[s.REJECTED=2]=\"REJECTED\"}(h||(h={}));class n{constructor(s){this.instance=s,this._resolver=r(),this._status=h.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=h.RESOLVED,this._cleanUp()}),(()=>{this._status=h.REJECTED,this._cleanUp()}))}addResolvingPromise(s){this._resolvingPromises.push(s),this._tryResolve()}isResolved(){return this._status===h.RESOLVED}isRejected(){return this._status===h.REJECTED}isFulfilled(){return this._status!==h.PENDING}abort(){this._resolver.reject(t())}when(s,e){return this._resolver.promise.then(s,e)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const s=r(),e=[...this._resolvingPromises,i(s.promise)],t=this._allPromise=Promise.all(e);t.then((()=>{this.isFulfilled()||this._allPromise!==t||this._resolver.resolve(this.instance)}),(s=>{this.isFulfilled()||this._allPromise!==t||o(s)||this._resolver.reject(s)})),s.resolve()}}const m=e=>{let i=class extends e{constructor(...s){super(...s),this._promiseProps=new n(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(s,e){return new Promise(((s,e)=>{this._promiseProps.when(s,e)})).then(s,e)}catch(s){return this.when(null,s)}addResolvingPromise(s){s&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise(\"_promiseProps\"in s?s.when():s)}};return i=s([l(\"esri.core.Promise\")],i),i};let _=class extends(m(e)){};_=s([l(\"esri.core.Promise\")],_);export{_ as EsriPromise,m as EsriPromiseMixin};\n"]},"metadata":{},"sourceType":"module"}