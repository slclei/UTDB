{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Error.js\";\nimport { JSONMap as i } from \"../../core/jsonMap.js\";\nimport s from \"../../core/Logger.js\";\nimport { toPt as r } from \"../../core/screenUtils.js\";\nimport { property as a } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/arrayUtils.js\";\nimport \"../../core/has.js\";\nimport { cast as n } from \"../../core/accessorSupport/decorators/cast.js\";\nimport { reader as o } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as l } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { writer as p } from \"../../core/accessorSupport/decorators/writer.js\";\nimport u from \"./VisualVariable.js\";\nimport m from \"./support/SizeStop.js\";\nimport h from \"./support/SizeVariableLegendOptions.js\";\nimport { isSizeVariable as c, getInputValueType as d, getTransformationType as y, TransformationType as S } from \"./support/sizeVariableUtils.js\";\nimport { viewScaleRE as x } from \"./support/visualVariableUtils.js\";\nvar z;\nconst v = s.getLogger(\"esri.renderers.visualVariables.SizeVariable\"),\n      w = new i({\n  width: \"width\",\n  depth: \"depth\",\n  height: \"height\",\n  widthAndDepth: \"width-and-depth\",\n  all: \"all\"\n}),\n      V = new i({\n  unknown: \"unknown\",\n  inch: \"inches\",\n  foot: \"feet\",\n  yard: \"yards\",\n  mile: \"miles\",\n  \"nautical-mile\": \"nautical-miles\",\n  millimeter: \"millimeters\",\n  centimeter: \"centimeters\",\n  decimeter: \"decimeters\",\n  meter: \"meters\",\n  kilometer: \"kilometers\",\n  \"decimal-degree\": \"decimal-degrees\"\n});\n\nfunction f(e) {\n  if (null != e) return \"string\" == typeof e || \"number\" == typeof e ? r(e) : \"size\" === e.type ? c(e) ? e : (delete (e = { ...e\n  }).type, new b(e)) : void 0;\n}\n\nfunction g(e, t, i) {\n  if (\"object\" != typeof e) return e;\n  const s = new b();\n  return s.read(e, i), s;\n}\n\nlet b = z = class extends u {\n  constructor(e) {\n    super(e), this.axis = null, this.legendOptions = null, this.normalizationField = null, this.scaleBy = null, this.target = null, this.type = \"size\", this.useSymbolValue = null, this.valueExpression = null, this.valueRepresentation = null, this.valueUnit = null;\n  }\n\n  get cache() {\n    return {\n      ipData: this._interpolateData(),\n      hasExpression: !!this.valueExpression,\n      compiledFunc: null,\n      isScaleDriven: x.test(this.valueExpression)\n    };\n  }\n\n  set expression(e) {\n    v.warn(\"'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.\"), \"view.scale\" === e ? (this.valueExpression = \"$view.scale\", this._set(\"expression\", e)) : this._set(\"expression\", null);\n  }\n\n  set index(e) {\n    c(this.maxSize) && (this.maxSize.index = `visualVariables[${e}].maxSize`), c(this.minSize) && (this.minSize.index = `visualVariables[${e}].minSize`), this._set(\"index\", e);\n  }\n\n  get inputValueType() {\n    return d(this);\n  }\n\n  set maxDataValue(e) {\n    e && this.stops && (v.warn(\"cannot set maxDataValue when stops is not null.\"), e = null), this._set(\"maxDataValue\", e);\n  }\n\n  set maxSize(e) {\n    e && this.stops && (v.warn(\"cannot set maxSize when stops is not null.\"), e = null), this._set(\"maxSize\", e);\n  }\n\n  castMaxSize(e) {\n    return f(e);\n  }\n\n  readMaxSize(e, t, i) {\n    return g(e, t, i);\n  }\n\n  set minDataValue(e) {\n    e && this.stops && (v.warn(\"cannot set minDataValue when stops is not null.\"), e = null), this._set(\"minDataValue\", e);\n  }\n\n  set minSize(e) {\n    e && this.stops && (v.warn(\"cannot set minSize when stops is not null.\"), e = null), this._set(\"minSize\", e);\n  }\n\n  castMinSize(e) {\n    return f(e);\n  }\n\n  readMinSize(e, t, i) {\n    return g(e, t, i);\n  }\n\n  get arcadeRequired() {\n    return !!this.valueExpression || this.minSize && \"object\" == typeof this.minSize && this.minSize.arcadeRequired || this.maxSize && \"object\" == typeof this.maxSize && this.maxSize.arcadeRequired;\n  }\n\n  set stops(e) {\n    null == this.minDataValue && null == this.maxDataValue && null == this.minSize && null == this.maxSize ? e && Array.isArray(e) && (e = e.filter(e => !!e)).sort((e, t) => e.value - t.value) : e && (v.warn(\"cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null.\"), e = null), this._set(\"stops\", e);\n  }\n\n  get transformationType() {\n    return y(this, this.inputValueType);\n  }\n\n  readValueExpression(e, t) {\n    return e || t.expression && \"$view.scale\";\n  }\n\n  writeValueExpressionWebScene(e, i, s, r) {\n    if (\"$view.scale\" === e) {\n      if (r && r.messages) {\n        const e = this.index,\n              i = \"string\" == typeof e ? e : `visualVariables[${e}]`;\n        r.messages.push(new t(\"property:unsupported\", this.type + \"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.\", {\n          instance: this,\n          propertyName: i + \".valueExpression\",\n          context: r\n        }));\n      }\n    } else i[s] = e;\n  }\n\n  readValueUnit(e) {\n    return e ? V.read(e) : null;\n  }\n\n  clone() {\n    return new z({\n      axis: this.axis,\n      field: this.field,\n      valueExpression: this.valueExpression,\n      valueExpressionTitle: this.valueExpressionTitle,\n      maxDataValue: this.maxDataValue,\n      maxSize: c(this.maxSize) ? this.maxSize.clone() : this.maxSize,\n      minDataValue: this.minDataValue,\n      minSize: c(this.minSize) ? this.minSize.clone() : this.minSize,\n      normalizationField: this.normalizationField,\n      stops: this.stops && this.stops.map(e => e.clone()),\n      target: this.target,\n      useSymbolValue: this.useSymbolValue,\n      valueRepresentation: this.valueRepresentation,\n      valueUnit: this.valueUnit,\n      legendOptions: this.legendOptions && this.legendOptions.clone()\n    });\n  }\n\n  flipSizes() {\n    if (this.transformationType === S.ClampedLinear) {\n      const {\n        minSize: e,\n        maxSize: t\n      } = this;\n      return this.minSize = t, this.maxSize = e, this;\n    }\n\n    if (this.transformationType === S.Stops) {\n      const e = this.stops,\n            t = e.map(e => e.size).reverse(),\n            i = e.length;\n\n      for (let s = 0; s < i; s++) e[s].size = t[s];\n\n      return this;\n    }\n\n    return this;\n  }\n\n  getAttributeHash() {\n    return `${super.getAttributeHash()}-${this.target}-${this.normalizationField}`;\n  }\n\n  _interpolateData() {\n    return this.stops && this.stops.map(e => e.value || 0);\n  }\n\n};\ne([a({\n  readOnly: !0\n})], b.prototype, \"cache\", null), e([a({\n  type: w.apiValues,\n  json: {\n    type: w.jsonValues,\n    origins: {\n      \"web-map\": {\n        read: !1\n      }\n    },\n    read: w.read,\n    write: w.write\n  }\n})], b.prototype, \"axis\", void 0), e([a({\n  type: String,\n  value: null,\n  json: {\n    read: !1\n  }\n})], b.prototype, \"expression\", null), e([a()], b.prototype, \"index\", null), e([a({\n  type: String,\n  readOnly: !0\n})], b.prototype, \"inputValueType\", null), e([a({\n  type: h,\n  json: {\n    write: !0\n  }\n})], b.prototype, \"legendOptions\", void 0), e([a({\n  type: Number,\n  value: null,\n  json: {\n    write: !0\n  }\n})], b.prototype, \"maxDataValue\", null), e([a({\n  type: Number,\n  value: null,\n  json: {\n    write: !0\n  }\n})], b.prototype, \"maxSize\", null), e([n(\"maxSize\")], b.prototype, \"castMaxSize\", null), e([o(\"maxSize\")], b.prototype, \"readMaxSize\", null), e([a({\n  type: Number,\n  value: null,\n  json: {\n    write: !0\n  }\n})], b.prototype, \"minDataValue\", null), e([a({\n  type: Number,\n  value: null,\n  json: {\n    write: !0\n  }\n})], b.prototype, \"minSize\", null), e([n(\"minSize\")], b.prototype, \"castMinSize\", null), e([o(\"minSize\")], b.prototype, \"readMinSize\", null), e([a({\n  type: String,\n  json: {\n    write: !0\n  }\n})], b.prototype, \"normalizationField\", void 0), e([a({\n  readOnly: !0\n})], b.prototype, \"arcadeRequired\", null), e([a({\n  type: String\n})], b.prototype, \"scaleBy\", void 0), e([a({\n  type: [m],\n  value: null,\n  json: {\n    write: !0\n  }\n})], b.prototype, \"stops\", null), e([a({\n  type: [\"outline\"],\n  json: {\n    write: !0\n  }\n})], b.prototype, \"target\", void 0), e([a({\n  type: String,\n  readOnly: !0\n})], b.prototype, \"transformationType\", null), e([a({\n  type: [\"size\"],\n  json: {\n    type: [\"sizeInfo\"]\n  }\n})], b.prototype, \"type\", void 0), e([a({\n  type: Boolean,\n  json: {\n    write: !0,\n    origins: {\n      \"web-map\": {\n        read: !1\n      }\n    }\n  }\n})], b.prototype, \"useSymbolValue\", void 0), e([a({\n  type: String,\n  json: {\n    write: !0\n  }\n})], b.prototype, \"valueExpression\", void 0), e([o(\"valueExpression\", [\"valueExpression\", \"expression\"])], b.prototype, \"readValueExpression\", null), e([p(\"web-scene\", \"valueExpression\")], b.prototype, \"writeValueExpressionWebScene\", null), e([a({\n  type: [\"radius\", \"diameter\", \"area\", \"width\", \"distance\"],\n  json: {\n    write: !0\n  }\n})], b.prototype, \"valueRepresentation\", void 0), e([a({\n  type: V.apiValues,\n  json: {\n    write: V.write,\n    origins: {\n      \"web-map\": {\n        read: !1\n      },\n      \"web-scene\": {\n        write: !0\n      }\n    }\n  }\n})], b.prototype, \"valueUnit\", void 0), e([o(\"valueUnit\")], b.prototype, \"readValueUnit\", null), b = z = e([l(\"esri.renderers.visualVariables.SizeVariable\")], b);\nconst j = b;\nexport { j as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/renderers/visualVariables/SizeVariable.js"],"names":["_","e","t","JSONMap","i","s","toPt","r","property","a","cast","n","reader","o","subclass","l","writer","p","u","m","h","isSizeVariable","c","getInputValueType","d","getTransformationType","y","TransformationType","S","viewScaleRE","x","z","v","getLogger","w","width","depth","height","widthAndDepth","all","V","unknown","inch","foot","yard","mile","millimeter","centimeter","decimeter","meter","kilometer","f","type","b","g","read","constructor","axis","legendOptions","normalizationField","scaleBy","target","useSymbolValue","valueExpression","valueRepresentation","valueUnit","cache","ipData","_interpolateData","hasExpression","compiledFunc","isScaleDriven","test","expression","warn","_set","index","maxSize","minSize","inputValueType","maxDataValue","stops","castMaxSize","readMaxSize","minDataValue","castMinSize","readMinSize","arcadeRequired","Array","isArray","filter","sort","value","transformationType","readValueExpression","writeValueExpressionWebScene","messages","push","instance","propertyName","context","readValueUnit","clone","field","valueExpressionTitle","map","flipSizes","ClampedLinear","Stops","size","reverse","length","getAttributeHash","readOnly","prototype","apiValues","json","jsonValues","origins","write","String","Number","Boolean","j","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import s from\"../../core/Logger.js\";import{toPt as r}from\"../../core/screenUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{cast as n}from\"../../core/accessorSupport/decorators/cast.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import u from\"./VisualVariable.js\";import m from\"./support/SizeStop.js\";import h from\"./support/SizeVariableLegendOptions.js\";import{isSizeVariable as c,getInputValueType as d,getTransformationType as y,TransformationType as S}from\"./support/sizeVariableUtils.js\";import{viewScaleRE as x}from\"./support/visualVariableUtils.js\";var z;const v=s.getLogger(\"esri.renderers.visualVariables.SizeVariable\"),w=new i({width:\"width\",depth:\"depth\",height:\"height\",widthAndDepth:\"width-and-depth\",all:\"all\"}),V=new i({unknown:\"unknown\",inch:\"inches\",foot:\"feet\",yard:\"yards\",mile:\"miles\",\"nautical-mile\":\"nautical-miles\",millimeter:\"millimeters\",centimeter:\"centimeters\",decimeter:\"decimeters\",meter:\"meters\",kilometer:\"kilometers\",\"decimal-degree\":\"decimal-degrees\"});function f(e){if(null!=e)return\"string\"==typeof e||\"number\"==typeof e?r(e):\"size\"===e.type?c(e)?e:(delete(e={...e}).type,new b(e)):void 0}function g(e,t,i){if(\"object\"!=typeof e)return e;const s=new b;return s.read(e,i),s}let b=z=class extends u{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type=\"size\",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:x.test(this.valueExpression)}}set expression(e){v.warn(\"'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.\"),\"view.scale\"===e?(this.valueExpression=\"$view.scale\",this._set(\"expression\",e)):this._set(\"expression\",null)}set index(e){c(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),c(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set(\"index\",e)}get inputValueType(){return d(this)}set maxDataValue(e){e&&this.stops&&(v.warn(\"cannot set maxDataValue when stops is not null.\"),e=null),this._set(\"maxDataValue\",e)}set maxSize(e){e&&this.stops&&(v.warn(\"cannot set maxSize when stops is not null.\"),e=null),this._set(\"maxSize\",e)}castMaxSize(e){return f(e)}readMaxSize(e,t,i){return g(e,t,i)}set minDataValue(e){e&&this.stops&&(v.warn(\"cannot set minDataValue when stops is not null.\"),e=null),this._set(\"minDataValue\",e)}set minSize(e){e&&this.stops&&(v.warn(\"cannot set minSize when stops is not null.\"),e=null),this._set(\"minSize\",e)}castMinSize(e){return f(e)}readMinSize(e,t,i){return g(e,t,i)}get arcadeRequired(){return!!this.valueExpression||(this.minSize&&\"object\"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&\"object\"==typeof this.maxSize&&this.maxSize.arcadeRequired)}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(v.warn(\"cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null.\"),e=null),this._set(\"stops\",e)}get transformationType(){return y(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&\"$view.scale\"}writeValueExpressionWebScene(e,i,s,r){if(\"$view.scale\"===e){if(r&&r.messages){const e=this.index,i=\"string\"==typeof e?e:`visualVariables[${e}]`;r.messages.push(new t(\"property:unsupported\",this.type+\"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.\",{instance:this,propertyName:i+\".valueExpression\",context:r}))}}else i[s]=e}readValueUnit(e){return e?V.read(e):null}clone(){return new z({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:c(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:c(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===S.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===S.Stops){const e=this.stops,t=e.map((e=>e.size)).reverse(),i=e.length;for(let s=0;s<i;s++)e[s].size=t[s];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};e([a({readOnly:!0})],b.prototype,\"cache\",null),e([a({type:w.apiValues,json:{type:w.jsonValues,origins:{\"web-map\":{read:!1}},read:w.read,write:w.write}})],b.prototype,\"axis\",void 0),e([a({type:String,value:null,json:{read:!1}})],b.prototype,\"expression\",null),e([a()],b.prototype,\"index\",null),e([a({type:String,readOnly:!0})],b.prototype,\"inputValueType\",null),e([a({type:h,json:{write:!0}})],b.prototype,\"legendOptions\",void 0),e([a({type:Number,value:null,json:{write:!0}})],b.prototype,\"maxDataValue\",null),e([a({type:Number,value:null,json:{write:!0}})],b.prototype,\"maxSize\",null),e([n(\"maxSize\")],b.prototype,\"castMaxSize\",null),e([o(\"maxSize\")],b.prototype,\"readMaxSize\",null),e([a({type:Number,value:null,json:{write:!0}})],b.prototype,\"minDataValue\",null),e([a({type:Number,value:null,json:{write:!0}})],b.prototype,\"minSize\",null),e([n(\"minSize\")],b.prototype,\"castMinSize\",null),e([o(\"minSize\")],b.prototype,\"readMinSize\",null),e([a({type:String,json:{write:!0}})],b.prototype,\"normalizationField\",void 0),e([a({readOnly:!0})],b.prototype,\"arcadeRequired\",null),e([a({type:String})],b.prototype,\"scaleBy\",void 0),e([a({type:[m],value:null,json:{write:!0}})],b.prototype,\"stops\",null),e([a({type:[\"outline\"],json:{write:!0}})],b.prototype,\"target\",void 0),e([a({type:String,readOnly:!0})],b.prototype,\"transformationType\",null),e([a({type:[\"size\"],json:{type:[\"sizeInfo\"]}})],b.prototype,\"type\",void 0),e([a({type:Boolean,json:{write:!0,origins:{\"web-map\":{read:!1}}}})],b.prototype,\"useSymbolValue\",void 0),e([a({type:String,json:{write:!0}})],b.prototype,\"valueExpression\",void 0),e([o(\"valueExpression\",[\"valueExpression\",\"expression\"])],b.prototype,\"readValueExpression\",null),e([p(\"web-scene\",\"valueExpression\")],b.prototype,\"writeValueExpressionWebScene\",null),e([a({type:[\"radius\",\"diameter\",\"area\",\"width\",\"distance\"],json:{write:!0}})],b.prototype,\"valueRepresentation\",void 0),e([a({type:V.apiValues,json:{write:V.write,origins:{\"web-map\":{read:!1},\"web-scene\":{write:!0}}}})],b.prototype,\"valueUnit\",void 0),e([o(\"valueUnit\")],b.prototype,\"readValueUnit\",null),b=z=e([l(\"esri.renderers.visualVariables.SizeVariable\")],b);const j=b;export{j as default};\n"]},"metadata":{},"sourceType":"module"}