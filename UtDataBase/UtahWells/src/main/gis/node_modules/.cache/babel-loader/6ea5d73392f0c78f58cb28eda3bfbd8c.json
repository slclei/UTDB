{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { a as s, m as t } from \"../../../../chunks/mat2d.js\";\nimport { s as r, m as e } from \"../../../../chunks/mat3.js\";\nimport { c as a } from \"../../../../chunks/mat3f32.js\";\nimport { t as o } from \"../../../../chunks/vec2.js\";\nimport { c as i } from \"../../../../chunks/vec2f32.js\";\nimport { TILE_SIZE as n } from \"./definitions.js\";\nimport { TiledDisplayObject as h } from \"./TiledDisplayObject.js\";\n\nclass m {\n  acquire(s) {\n    return {\n      refCount: 1,\n      version: -1,\n      labelMat2d: a(),\n      tileMat3: a(),\n      dvs: a()\n    };\n  }\n\n  release(s) {}\n\n}\n\nclass c extends h {\n  constructor(s, t, r) {\n    super(s, t, r, n, n);\n  }\n\n  destroy() {\n    super.destroy(), this._transforms && c.TransformCache.release(this.key.hash);\n  }\n\n  setTransform(a, n) {\n    const h = n / (a.resolution * a.pixelRatio),\n          m = this.transforms.tileMat3,\n          [c, f] = a.toScreenNoRotation([0, 0], [this.x, this.y]),\n          l = this.width / this.rangeX * h,\n          u = this.height / this.rangeY * h;\n    r(m, l, 0, 0, 0, u, 0, c, f, 1), e(this.transforms.dvs, a.displayViewMat3, m);\n    const d = this.transforms.labelMat2d,\n          p = a.getScreenTransform(d, n),\n          j = i();\n    o(j, [this.x, this.y], p), s(d, j), t(d, a.viewMat2d, d);\n  }\n\n  _createTransforms() {\n    return c.TransformCache.acquire(this.key.hash);\n  }\n\n}\n\nc.TransformCache = new m();\nexport { c as WGLTile };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js"],"names":["a","s","m","t","r","e","c","o","i","TILE_SIZE","n","TiledDisplayObject","h","acquire","refCount","version","labelMat2d","tileMat3","dvs","release","constructor","destroy","_transforms","TransformCache","key","hash","setTransform","resolution","pixelRatio","transforms","f","toScreenNoRotation","x","y","l","width","rangeX","u","height","rangeY","displayViewMat3","d","p","getScreenTransform","j","viewMat2d","_createTransforms","WGLTile"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{a as s,m as t}from\"../../../../chunks/mat2d.js\";import{s as r,m as e}from\"../../../../chunks/mat3.js\";import{c as a}from\"../../../../chunks/mat3f32.js\";import{t as o}from\"../../../../chunks/vec2.js\";import{c as i}from\"../../../../chunks/vec2f32.js\";import{TILE_SIZE as n}from\"./definitions.js\";import{TiledDisplayObject as h}from\"./TiledDisplayObject.js\";class m{acquire(s){return{refCount:1,version:-1,labelMat2d:a(),tileMat3:a(),dvs:a()}}release(s){}}class c extends h{constructor(s,t,r){super(s,t,r,n,n)}destroy(){super.destroy(),this._transforms&&c.TransformCache.release(this.key.hash)}setTransform(a,n){const h=n/(a.resolution*a.pixelRatio),m=this.transforms.tileMat3,[c,f]=a.toScreenNoRotation([0,0],[this.x,this.y]),l=this.width/this.rangeX*h,u=this.height/this.rangeY*h;r(m,l,0,0,0,u,0,c,f,1),e(this.transforms.dvs,a.displayViewMat3,m);const d=this.transforms.labelMat2d,p=a.getScreenTransform(d,n),j=i();o(j,[this.x,this.y],p),s(d,j),t(d,a.viewMat2d,d)}_createTransforms(){return c.TransformCache.acquire(this.key.hash)}}c.TransformCache=new m;export{c as WGLTile};\n"]},"metadata":{},"sourceType":"module"}