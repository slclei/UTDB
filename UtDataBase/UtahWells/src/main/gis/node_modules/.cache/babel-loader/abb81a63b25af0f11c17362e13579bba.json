{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from \"../ArcadePortal.js\";\nimport r from \"../Attachment.js\";\nimport n from \"../Dictionary.js\";\nimport { p as e, d as o, t as a, O as i, v as u, C as s, z as c, u as f, a as l, b as d, M as p, k as h, P as y, Q as m, T as g, U as A, V as w, f as I, o as v, i as b, j, c as E, q as F, r as P } from \"../../chunks/languageUtils.js\";\nimport { layerFieldEsriConstants as U } from \"../featureset/support/shared.js\";\nimport { convertDirection as x } from \"./convertdirection.js\";\nimport { XXH as C } from \"./hash.js\";\nimport T from \"../../geometry/Extent.js\";\nimport N from \"../../geometry/Multipoint.js\";\nimport k from \"../../geometry/Point.js\";\nimport L from \"../../geometry/Polygon.js\";\nimport R from \"../../geometry/Polyline.js\";\nimport M from \"../../geometry/SpatialReference.js\";\n\nfunction H(t, r) {\n  if (t.x === r.x && t.y === r.y) {\n    if (t.hasZ) {\n      if (t.z !== r.z) return !1;\n    } else if (r.hasZ) return !1;\n\n    if (t.hasM) {\n      if (t.m !== r.m) return !1;\n    } else if (r.hasM) return !1;\n\n    return !0;\n  }\n\n  return !1;\n}\n\nfunction S(e, o, a) {\n  if (null !== e) {\n    if (l(e)) {\n      if (o.updateUint8Array([61]), a.map.has(e)) {\n        const t = a.map.get(e);\n        o.updateIntArray([61237541 ^ t]);\n      } else {\n        a.map.set(e, a.currentLength++);\n\n        for (const t of e) S(t, o, a);\n\n        a.map.delete(e), a.currentLength--;\n      }\n\n      o.updateUint8Array([199]);\n    } else if (d(e)) {\n      if (o.updateUint8Array([61]), a.map.has(e)) {\n        const t = a.map.get(e);\n        o.updateIntArray([61237541 ^ t]);\n      } else {\n        a.map.set(e, a.currentLength++);\n\n        for (const t of e.toArray()) S(t, o, a);\n\n        a.map.delete(e), a.currentLength--;\n      }\n\n      o.updateUint8Array([199]);\n    } else {\n      if (v(e)) return o.updateIntArray([e.getTime()]), void o.updateUint8Array([241]);\n      if (I(e)) return o.updateIntArray([e.length]), o.updateWithString(e), void o.updateUint8Array([41]);\n      if (b(e)) o.updateUint8Array([!0 === e ? 1 : 0, 113]);else {\n        if (j(e)) return o.updateFloatArray([e]), void o.updateUint8Array([173]);\n        if (e instanceof r) throw new Error(\"Type not supported in Hash\");\n        if (e instanceof t) throw new Error(\"Type not supported in Hash\");\n\n        if (!(e instanceof n)) {\n          if (h(e)) throw new Error(\"Type not supported in Hash\");\n          if (e instanceof k) return o.updateIntArray([3833836621]), o.updateIntArray([0]), o.updateFloatArray([e.x]), o.updateIntArray([1]), o.updateFloatArray([e.y]), e.hasZ && (o.updateIntArray([2]), o.updateFloatArray([e.z])), e.hasM && (o.updateIntArray([3]), o.updateFloatArray([e.m])), o.updateIntArray([3765347959]), void S(e.spatialReference.wkid, o, a);\n\n          if (e instanceof L) {\n            o.updateIntArray([1266616829]);\n\n            for (let t = 0; t < e.rings.length; t++) {\n              const r = e.rings[t],\n                    n = [];\n              let i = null,\n                  u = null;\n\n              for (let o = 0; o < r.length; o++) {\n                const a = e.getPoint(t, o);\n                if (0 === o) i = a;else if (H(u, a)) continue;\n                u = a, o === r.length - 1 && H(i, a) || n.push(a);\n              }\n\n              o.updateIntArray([1397116793, n.length]);\n\n              for (let t = 0; t < n.length; t++) {\n                const r = n[t];\n                o.updateIntArray([3962308117, t]), S(r, o, a), o.updateIntArray([2716288009]);\n              }\n\n              o.updateIntArray([2278822459]);\n            }\n\n            return o.updateIntArray([3878477243]), void S(e.spatialReference.wkid, o, a);\n          }\n\n          if (e instanceof R) {\n            o.updateIntArray([4106883559]);\n\n            for (let t = 0; t < e.paths.length; t++) {\n              const r = e.paths[t];\n              o.updateIntArray([1397116793, r.length]);\n\n              for (let n = 0; n < r.length; n++) o.updateIntArray([3962308117, n]), S(e.getPoint(t, n), o, a), o.updateIntArray([2716288009]);\n\n              o.updateIntArray([2278822459]);\n            }\n\n            return o.updateIntArray([2568784753]), void S(e.spatialReference.wkid, o, a);\n          }\n\n          if (e instanceof N) {\n            o.updateIntArray([588535921, e.points.length]);\n\n            for (let t = 0; t < e.points.length; t++) {\n              const r = e.getPoint(t);\n              o.updateIntArray([t]), S(r, o, a);\n            }\n\n            return o.updateIntArray([1700171621]), void S(e.spatialReference.wkid, o, a);\n          }\n\n          if (e instanceof T) return o.updateIntArray([3483648373]), o.updateIntArray([0]), o.updateFloatArray([e.xmax]), o.updateIntArray([1]), o.updateFloatArray([e.xmin]), o.updateIntArray([2]), o.updateFloatArray([e.ymax]), o.updateIntArray([3]), o.updateFloatArray([e.ymin]), e.hasZ && (o.updateIntArray([4]), o.updateFloatArray([e.zmax]), o.updateIntArray([5]), o.updateFloatArray([e.zmin])), e.hasM && (o.updateIntArray([6]), o.updateFloatArray([e.mmax]), o.updateIntArray([7]), o.updateFloatArray([e.mmin])), o.updateIntArray([3622027469]), void S(e.spatialReference.wkid, o, a);\n          if (e instanceof M) return o.updateIntArray([14]), void 0 !== e.wkid && null !== e.wkid && o.updateIntArray([e.wkid]), void (e.wkt && o.updateWithString(e.wkt));\n          if (E(e)) throw new Error(\"Type not supported in Hash\");\n          if (F(e)) throw new Error(\"Type not supported in Hash\");\n          if (P(e)) throw new Error(\"Type not supported in Hash\");\n          if (e === u) throw new Error(\"Type not supported in Hash\");\n          throw new Error(\"Type not supported in Hash\");\n        }\n\n        if (o.updateUint8Array([223]), a.map.has(e)) {\n          const t = a.map.get(e);\n          o.updateIntArray([61237541 ^ t]);\n        } else {\n          a.map.set(e, a.currentLength++);\n\n          for (const t of e.keys()) {\n            o.updateIntArray([t.length]), o.updateWithString(t), o.updateUint8Array([251]);\n            S(e.field(t), o, a), o.updateUint8Array([239]);\n          }\n\n          a.map.delete(e), a.currentLength--;\n        }\n\n        o.updateUint8Array([73]);\n      }\n    }\n  } else o.updateUint8Array([0, 139]);\n}\n\nfunction O(r, v) {\n  r.portal = function (r, n) {\n    return v(r, n, function (r, n, a) {\n      return e(a, 1, 1), new t(o(a[0]));\n    });\n  }, r.trim = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      return e(n, 1, 1), o(n[0]).trim();\n    });\n  }, r.tohex = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 1, 1);\n      const o = a(n[0]);\n      return isNaN(o) ? o : o.toString(16);\n    });\n  }, r.upper = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      return e(n, 1, 1), o(n[0]).toUpperCase();\n    });\n  }, r.proper = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 1, 2);\n      let a = 1;\n      2 === n.length && \"firstword\" === o(n[1]).toLowerCase() && (a = 2);\n      const i = /\\s/,\n            u = o(n[0]);\n      let s = \"\",\n          c = !0;\n\n      for (let e = 0; e < u.length; e++) {\n        let t = u[e];\n        if (i.test(t)) 1 === a && (c = !0);else {\n          t.toUpperCase() !== t.toLowerCase() && (c ? (t = t.toUpperCase(), c = !1) : t = t.toLowerCase());\n        }\n        s += t;\n      }\n\n      return s;\n    });\n  }, r.lower = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      return e(n, 1, 1), o(n[0]).toLowerCase();\n    });\n  }, r.guid = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (e(n, 0, 1), n.length > 0) switch (o(n[0]).toLowerCase()) {\n        case \"digits\":\n          return i().replace(\"-\", \"\").replace(\"-\", \"\").replace(\"-\", \"\").replace(\"-\", \"\");\n\n        case \"digits-hyphen\":\n          return i();\n\n        case \"digits-hyphen-braces\":\n          return \"{\" + i() + \"}\";\n\n        case \"digits-hyphen-parentheses\":\n          return \"(\" + i() + \")\";\n      }\n      return \"{\" + i() + \"}\";\n    });\n  }, r.console = function (t, r) {\n    return v(t, r, function (r, n, e) {\n      return 0 === e.length || (1 === e.length ? t.console(o(e[0])) : t.console(o(e))), u;\n    });\n  }, r.mid = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 2, 3);\n      let i = a(n[1]);\n      if (isNaN(i)) return \"\";\n      if (i < 0 && (i = 0), 2 === n.length) return o(n[0]).substr(i);\n      let u = a(n[2]);\n      return isNaN(u) ? \"\" : (u < 0 && (u = 0), o(n[0]).substr(i, u));\n    });\n  }, r.find = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 2, 3);\n      let i = 0;\n\n      if (n.length > 2) {\n        if (i = a(s(n[2], 0)), isNaN(i)) return -1;\n        i < 0 && (i = 0);\n      }\n\n      return o(n[1]).indexOf(o(n[0]), i);\n    });\n  }, r.left = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 2, 2);\n      let i = a(n[1]);\n      return isNaN(i) ? \"\" : (i < 0 && (i = 0), o(n[0]).substr(0, i));\n    });\n  }, r.right = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 2, 2);\n      let i = a(n[1]);\n      return isNaN(i) ? \"\" : (i < 0 && (i = 0), o(n[0]).substr(-1 * i, i));\n    });\n  }, r.split = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      let i;\n      e(n, 2, 4);\n      let u = a(s(n[2], -1));\n      const f = c(s(n[3], !1));\n      if (-1 === u || null === u || !0 === f ? i = o(n[0]).split(o(n[1])) : (isNaN(u) && (u = -1), u < -1 && (u = -1), i = o(n[0]).split(o(n[1]), u)), !1 === f) return i;\n      const l = [];\n\n      for (let e = 0; e < i.length && !(-1 !== u && l.length >= u); e++) \"\" !== i[e] && void 0 !== i[e] && l.push(i[e]);\n\n      return l;\n    });\n  }, r.text = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      return e(n, 1, 2), f(n[0], n[1]);\n    });\n  }, r.concatenate = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      const e = [];\n      if (n.length < 1) return \"\";\n\n      if (l(n[0])) {\n        const t = s(n[2], \"\");\n\n        for (let r = 0; r < n[0].length; r++) e[r] = f(n[0][r], t);\n\n        return n.length > 1 ? e.join(n[1]) : e.join(\"\");\n      }\n\n      if (d(n[0])) {\n        const t = s(n[2], \"\");\n\n        for (let r = 0; r < n[0].length(); r++) e[r] = f(n[0].get(r), t);\n\n        return n.length > 1 ? e.join(n[1]) : e.join(\"\");\n      }\n\n      for (let o = 0; o < n.length; o++) e[o] = f(n[o]);\n\n      return e.join(\"\");\n    });\n  }, r.reverse = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (e(n, 1, 1), l(n[0])) {\n        const t = n[0].slice(0);\n        return t.reverse(), t;\n      }\n\n      if (d(n[0])) {\n        const t = n[0].toArray().slice(0);\n        return t.reverse(), t;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, r.replace = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 3, 4);\n      const a = o(n[0]),\n            i = o(n[1]),\n            u = o(n[2]);\n      return 4 !== n.length || c(n[3]) ? p(a, i, u) : a.replace(i, u);\n    });\n  }, r.schema = function (t, r) {\n    return v(t, r, function (t, r, e) {\n      if (h(e[0])) {\n        const t = y(e[0]);\n        return t ? n.convertObjectToArcadeDictionary(t) : null;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, r.subtypes = function (t, r) {\n    return v(t, r, function (t, r, o) {\n      if (e(o, 1, 1), h(o[0])) {\n        const t = m(o[0]);\n        return t ? n.convertObjectToArcadeDictionary(t) : null;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, r.subtypecode = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (e(n, 1, 1), h(n[0])) {\n        const t = m(n[0]);\n        if (!t) return null;\n\n        if (t.subtypeField && n[0].hasField(t.subtypeField)) {\n          const r = n[0].field(t.subtypeField);\n\n          for (const n of t.subtypes) if (n.code === r) return n.code;\n\n          return null;\n        }\n\n        return null;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, r.subtypename = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (e(n, 1, 1), h(n[0])) {\n        const t = m(n[0]);\n        if (!t) return \"\";\n\n        if (t.subtypeField && n[0].hasField(t.subtypeField)) {\n          const r = n[0].field(t.subtypeField);\n\n          for (const n of t.subtypes) if (n.code === r) return n.name;\n\n          return \"\";\n        }\n\n        return \"\";\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, r.gdbversion = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (e(n, 1, 1), h(n[0])) return n[0].gdbVersion();\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, r.domain = function (t, r) {\n    return v(t, r, function (t, r, i) {\n      if (e(i, 2, 3), h(i[0])) {\n        const t = g(i[0], o(i[1]), void 0 === i[2] ? void 0 : a(i[2]));\n        return t && t.domain ? \"coded-value\" === t.domain.type || \"codedValue\" === t.domain.type ? n.convertObjectToArcadeDictionary({\n          type: \"codedValue\",\n          name: t.domain.name,\n          dataType: U[t.field.type],\n          codedValues: t.domain.codedValues.map(t => ({\n            name: t.name,\n            code: t.code\n          }))\n        }) : n.convertObjectToArcadeDictionary({\n          type: \"range\",\n          name: t.domain.name,\n          dataType: U[t.field.type],\n          min: t.domain.min,\n          max: t.domain.max\n        }) : null;\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, r.domainname = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (e(n, 2, 4), h(n[0])) return A(n[0], o(n[1]), n[2], void 0 === n[3] ? void 0 : a(n[3]));\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, r.domaincode = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (e(n, 2, 4), h(n[0])) return w(n[0], o(n[1]), n[2], void 0 === n[3] ? void 0 : a(n[3]));\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, r.urlencode = function (t, r) {\n    return v(t, r, function (t, r, a) {\n      if (e(a, 1, 1), null === a[0]) return \"\";\n\n      if (a[0] instanceof n) {\n        let t = \"\";\n\n        for (const r of a[0].keys()) {\n          const n = a[0].field(r);\n          \"\" !== t && (t += \"&\"), t += null === n ? encodeURIComponent(r) + \"=\" : encodeURIComponent(r) + \"=\" + encodeURIComponent(n);\n        }\n\n        return t;\n      }\n\n      return encodeURIComponent(o(a[0]));\n    });\n  }, r.hash = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 1, 1);\n      const o = new C(0);\n      return S(n[0], o, {\n        map: new Map(),\n        currentLength: 0\n      }), o.digest();\n    });\n  }, r.convertdirection = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      return e(n, 3, 3), x(n[0], n[1], n[2]);\n    });\n  }, r.fromjson = function (t, r) {\n    return v(t, r, function (t, r, a) {\n      if (e(a, 1, 1), !1 === I(a[0])) throw new Error(\"Invalid Parameter\");\n      return n.convertJsonToArcade(JSON.parse(o(a[0])));\n    });\n  }, r.expects = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (n.length < 1) throw new Error(\"Function called with wrong number of Parameters\");\n      return u;\n    });\n  }, r.tocharcode = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 1, 2);\n      const i = a(s(n[1], 0)),\n            u = o(n[0]);\n      if (0 === u.length && 1 === n.length) return null;\n      if (u.length <= i || i < 0) throw new Error(\"Illegal argument\");\n      return u.charCodeAt(i);\n    });\n  }, r.tocodepoint = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      e(n, 1, 2);\n      const i = a(s(n[1], 0)),\n            u = o(n[0]);\n      if (0 === u.length && 1 === n.length) return null;\n      if (u.length <= i || i < 0) throw new Error(\"Illegal argument\");\n      return u.codePointAt(i);\n    });\n  }, r.fromcharcode = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (n.length < 1) throw new Error(\"Function called with wrong number of Parameters\");\n      const e = n.map(t => Math.trunc(a(t))).filter(t => t >= 0 && t <= 65535);\n      return 0 === e.length ? null : String.fromCharCode.apply(null, e);\n    });\n  }, r.fromcodepoint = function (t, r) {\n    return v(t, r, function (t, r, n) {\n      if (n.length < 1) throw new Error(\"Function called with wrong number of Parameters\");\n      let e;\n\n      try {\n        e = n.map(t => Math.trunc(a(t))).filter(t => t <= 1114111 && t >>> 0 === t);\n      } catch (o) {\n        return null;\n      }\n\n      return 0 === e.length ? null : String.fromCodePoint.apply(null, e);\n    });\n  };\n}\n\nexport { O as registerFunctions };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/arcade/functions/string.js"],"names":["t","r","n","p","e","d","o","a","O","i","v","u","C","s","z","c","f","l","b","M","k","h","P","y","Q","m","T","g","U","A","V","w","I","j","E","q","F","layerFieldEsriConstants","convertDirection","x","XXH","N","L","R","H","hasZ","hasM","S","updateUint8Array","map","has","get","updateIntArray","set","currentLength","delete","toArray","getTime","length","updateWithString","updateFloatArray","Error","spatialReference","wkid","rings","getPoint","push","paths","points","xmax","xmin","ymax","ymin","zmax","zmin","mmax","mmin","wkt","keys","field","portal","trim","tohex","isNaN","toString","upper","toUpperCase","proper","toLowerCase","test","lower","guid","replace","console","mid","substr","find","indexOf","left","right","split","text","concatenate","join","reverse","slice","schema","convertObjectToArcadeDictionary","subtypes","subtypecode","subtypeField","hasField","code","subtypename","name","gdbversion","gdbVersion","domain","type","dataType","codedValues","min","max","domainname","domaincode","urlencode","encodeURIComponent","hash","Map","digest","convertdirection","fromjson","convertJsonToArcade","JSON","parse","expects","tocharcode","charCodeAt","tocodepoint","codePointAt","fromcharcode","Math","trunc","filter","String","fromCharCode","apply","fromcodepoint","fromCodePoint","registerFunctions"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../ArcadePortal.js\";import r from\"../Attachment.js\";import n from\"../Dictionary.js\";import{p as e,d as o,t as a,O as i,v as u,C as s,z as c,u as f,a as l,b as d,M as p,k as h,P as y,Q as m,T as g,U as A,V as w,f as I,o as v,i as b,j,c as E,q as F,r as P}from\"../../chunks/languageUtils.js\";import{layerFieldEsriConstants as U}from\"../featureset/support/shared.js\";import{convertDirection as x}from\"./convertdirection.js\";import{XXH as C}from\"./hash.js\";import T from\"../../geometry/Extent.js\";import N from\"../../geometry/Multipoint.js\";import k from\"../../geometry/Point.js\";import L from\"../../geometry/Polygon.js\";import R from\"../../geometry/Polyline.js\";import M from\"../../geometry/SpatialReference.js\";function H(t,r){if(t.x===r.x&&t.y===r.y){if(t.hasZ){if(t.z!==r.z)return!1}else if(r.hasZ)return!1;if(t.hasM){if(t.m!==r.m)return!1}else if(r.hasM)return!1;return!0}return!1}function S(e,o,a){if(null!==e)if(l(e)){if(o.updateUint8Array([61]),a.map.has(e)){const t=a.map.get(e);o.updateIntArray([61237541^t])}else{a.map.set(e,a.currentLength++);for(const t of e)S(t,o,a);a.map.delete(e),a.currentLength--}o.updateUint8Array([199])}else if(d(e)){if(o.updateUint8Array([61]),a.map.has(e)){const t=a.map.get(e);o.updateIntArray([61237541^t])}else{a.map.set(e,a.currentLength++);for(const t of e.toArray())S(t,o,a);a.map.delete(e),a.currentLength--}o.updateUint8Array([199])}else{if(v(e))return o.updateIntArray([e.getTime()]),void o.updateUint8Array([241]);if(I(e))return o.updateIntArray([e.length]),o.updateWithString(e),void o.updateUint8Array([41]);if(b(e))o.updateUint8Array([!0===e?1:0,113]);else{if(j(e))return o.updateFloatArray([e]),void o.updateUint8Array([173]);if(e instanceof r)throw new Error(\"Type not supported in Hash\");if(e instanceof t)throw new Error(\"Type not supported in Hash\");if(!(e instanceof n)){if(h(e))throw new Error(\"Type not supported in Hash\");if(e instanceof k)return o.updateIntArray([3833836621]),o.updateIntArray([0]),o.updateFloatArray([e.x]),o.updateIntArray([1]),o.updateFloatArray([e.y]),e.hasZ&&(o.updateIntArray([2]),o.updateFloatArray([e.z])),e.hasM&&(o.updateIntArray([3]),o.updateFloatArray([e.m])),o.updateIntArray([3765347959]),void S(e.spatialReference.wkid,o,a);if(e instanceof L){o.updateIntArray([1266616829]);for(let t=0;t<e.rings.length;t++){const r=e.rings[t],n=[];let i=null,u=null;for(let o=0;o<r.length;o++){const a=e.getPoint(t,o);if(0===o)i=a;else if(H(u,a))continue;u=a,o===r.length-1&&H(i,a)||n.push(a)}o.updateIntArray([1397116793,n.length]);for(let t=0;t<n.length;t++){const r=n[t];o.updateIntArray([3962308117,t]),S(r,o,a),o.updateIntArray([2716288009])}o.updateIntArray([2278822459])}return o.updateIntArray([3878477243]),void S(e.spatialReference.wkid,o,a)}if(e instanceof R){o.updateIntArray([4106883559]);for(let t=0;t<e.paths.length;t++){const r=e.paths[t];o.updateIntArray([1397116793,r.length]);for(let n=0;n<r.length;n++)o.updateIntArray([3962308117,n]),S(e.getPoint(t,n),o,a),o.updateIntArray([2716288009]);o.updateIntArray([2278822459])}return o.updateIntArray([2568784753]),void S(e.spatialReference.wkid,o,a)}if(e instanceof N){o.updateIntArray([588535921,e.points.length]);for(let t=0;t<e.points.length;t++){const r=e.getPoint(t);o.updateIntArray([t]),S(r,o,a)}return o.updateIntArray([1700171621]),void S(e.spatialReference.wkid,o,a)}if(e instanceof T)return o.updateIntArray([3483648373]),o.updateIntArray([0]),o.updateFloatArray([e.xmax]),o.updateIntArray([1]),o.updateFloatArray([e.xmin]),o.updateIntArray([2]),o.updateFloatArray([e.ymax]),o.updateIntArray([3]),o.updateFloatArray([e.ymin]),e.hasZ&&(o.updateIntArray([4]),o.updateFloatArray([e.zmax]),o.updateIntArray([5]),o.updateFloatArray([e.zmin])),e.hasM&&(o.updateIntArray([6]),o.updateFloatArray([e.mmax]),o.updateIntArray([7]),o.updateFloatArray([e.mmin])),o.updateIntArray([3622027469]),void S(e.spatialReference.wkid,o,a);if(e instanceof M)return o.updateIntArray([14]),void 0!==e.wkid&&null!==e.wkid&&o.updateIntArray([e.wkid]),void(e.wkt&&o.updateWithString(e.wkt));if(E(e))throw new Error(\"Type not supported in Hash\");if(F(e))throw new Error(\"Type not supported in Hash\");if(P(e))throw new Error(\"Type not supported in Hash\");if(e===u)throw new Error(\"Type not supported in Hash\");throw new Error(\"Type not supported in Hash\")}if(o.updateUint8Array([223]),a.map.has(e)){const t=a.map.get(e);o.updateIntArray([61237541^t])}else{a.map.set(e,a.currentLength++);for(const t of e.keys()){o.updateIntArray([t.length]),o.updateWithString(t),o.updateUint8Array([251]);S(e.field(t),o,a),o.updateUint8Array([239])}a.map.delete(e),a.currentLength--}o.updateUint8Array([73])}}else o.updateUint8Array([0,139])}function O(r,v){r.portal=function(r,n){return v(r,n,(function(r,n,a){return e(a,1,1),new t(o(a[0]))}))},r.trim=function(t,r){return v(t,r,(function(t,r,n){return e(n,1,1),o(n[0]).trim()}))},r.tohex=function(t,r){return v(t,r,(function(t,r,n){e(n,1,1);const o=a(n[0]);return isNaN(o)?o:o.toString(16)}))},r.upper=function(t,r){return v(t,r,(function(t,r,n){return e(n,1,1),o(n[0]).toUpperCase()}))},r.proper=function(t,r){return v(t,r,(function(t,r,n){e(n,1,2);let a=1;2===n.length&&\"firstword\"===o(n[1]).toLowerCase()&&(a=2);const i=/\\s/,u=o(n[0]);let s=\"\",c=!0;for(let e=0;e<u.length;e++){let t=u[e];if(i.test(t))1===a&&(c=!0);else{t.toUpperCase()!==t.toLowerCase()&&(c?(t=t.toUpperCase(),c=!1):t=t.toLowerCase())}s+=t}return s}))},r.lower=function(t,r){return v(t,r,(function(t,r,n){return e(n,1,1),o(n[0]).toLowerCase()}))},r.guid=function(t,r){return v(t,r,(function(t,r,n){if(e(n,0,1),n.length>0)switch(o(n[0]).toLowerCase()){case\"digits\":return i().replace(\"-\",\"\").replace(\"-\",\"\").replace(\"-\",\"\").replace(\"-\",\"\");case\"digits-hyphen\":return i();case\"digits-hyphen-braces\":return\"{\"+i()+\"}\";case\"digits-hyphen-parentheses\":return\"(\"+i()+\")\"}return\"{\"+i()+\"}\"}))},r.console=function(t,r){return v(t,r,(function(r,n,e){return 0===e.length||(1===e.length?t.console(o(e[0])):t.console(o(e))),u}))},r.mid=function(t,r){return v(t,r,(function(t,r,n){e(n,2,3);let i=a(n[1]);if(isNaN(i))return\"\";if(i<0&&(i=0),2===n.length)return o(n[0]).substr(i);let u=a(n[2]);return isNaN(u)?\"\":(u<0&&(u=0),o(n[0]).substr(i,u))}))},r.find=function(t,r){return v(t,r,(function(t,r,n){e(n,2,3);let i=0;if(n.length>2){if(i=a(s(n[2],0)),isNaN(i))return-1;i<0&&(i=0)}return o(n[1]).indexOf(o(n[0]),i)}))},r.left=function(t,r){return v(t,r,(function(t,r,n){e(n,2,2);let i=a(n[1]);return isNaN(i)?\"\":(i<0&&(i=0),o(n[0]).substr(0,i))}))},r.right=function(t,r){return v(t,r,(function(t,r,n){e(n,2,2);let i=a(n[1]);return isNaN(i)?\"\":(i<0&&(i=0),o(n[0]).substr(-1*i,i))}))},r.split=function(t,r){return v(t,r,(function(t,r,n){let i;e(n,2,4);let u=a(s(n[2],-1));const f=c(s(n[3],!1));if(-1===u||null===u||!0===f?i=o(n[0]).split(o(n[1])):(isNaN(u)&&(u=-1),u<-1&&(u=-1),i=o(n[0]).split(o(n[1]),u)),!1===f)return i;const l=[];for(let e=0;e<i.length&&!(-1!==u&&l.length>=u);e++)\"\"!==i[e]&&void 0!==i[e]&&l.push(i[e]);return l}))},r.text=function(t,r){return v(t,r,(function(t,r,n){return e(n,1,2),f(n[0],n[1])}))},r.concatenate=function(t,r){return v(t,r,(function(t,r,n){const e=[];if(n.length<1)return\"\";if(l(n[0])){const t=s(n[2],\"\");for(let r=0;r<n[0].length;r++)e[r]=f(n[0][r],t);return n.length>1?e.join(n[1]):e.join(\"\")}if(d(n[0])){const t=s(n[2],\"\");for(let r=0;r<n[0].length();r++)e[r]=f(n[0].get(r),t);return n.length>1?e.join(n[1]):e.join(\"\")}for(let o=0;o<n.length;o++)e[o]=f(n[o]);return e.join(\"\")}))},r.reverse=function(t,r){return v(t,r,(function(t,r,n){if(e(n,1,1),l(n[0])){const t=n[0].slice(0);return t.reverse(),t}if(d(n[0])){const t=n[0].toArray().slice(0);return t.reverse(),t}throw new Error(\"Invalid Parameter\")}))},r.replace=function(t,r){return v(t,r,(function(t,r,n){e(n,3,4);const a=o(n[0]),i=o(n[1]),u=o(n[2]);return 4!==n.length||c(n[3])?p(a,i,u):a.replace(i,u)}))},r.schema=function(t,r){return v(t,r,(function(t,r,e){if(h(e[0])){const t=y(e[0]);return t?n.convertObjectToArcadeDictionary(t):null}throw new Error(\"Invalid Parameter\")}))},r.subtypes=function(t,r){return v(t,r,(function(t,r,o){if(e(o,1,1),h(o[0])){const t=m(o[0]);return t?n.convertObjectToArcadeDictionary(t):null}throw new Error(\"Invalid Parameter\")}))},r.subtypecode=function(t,r){return v(t,r,(function(t,r,n){if(e(n,1,1),h(n[0])){const t=m(n[0]);if(!t)return null;if(t.subtypeField&&n[0].hasField(t.subtypeField)){const r=n[0].field(t.subtypeField);for(const n of t.subtypes)if(n.code===r)return n.code;return null}return null}throw new Error(\"Invalid Parameter\")}))},r.subtypename=function(t,r){return v(t,r,(function(t,r,n){if(e(n,1,1),h(n[0])){const t=m(n[0]);if(!t)return\"\";if(t.subtypeField&&n[0].hasField(t.subtypeField)){const r=n[0].field(t.subtypeField);for(const n of t.subtypes)if(n.code===r)return n.name;return\"\"}return\"\"}throw new Error(\"Invalid Parameter\")}))},r.gdbversion=function(t,r){return v(t,r,(function(t,r,n){if(e(n,1,1),h(n[0]))return n[0].gdbVersion();throw new Error(\"Invalid Parameter\")}))},r.domain=function(t,r){return v(t,r,(function(t,r,i){if(e(i,2,3),h(i[0])){const t=g(i[0],o(i[1]),void 0===i[2]?void 0:a(i[2]));return t&&t.domain?\"coded-value\"===t.domain.type||\"codedValue\"===t.domain.type?n.convertObjectToArcadeDictionary({type:\"codedValue\",name:t.domain.name,dataType:U[t.field.type],codedValues:t.domain.codedValues.map((t=>({name:t.name,code:t.code})))}):n.convertObjectToArcadeDictionary({type:\"range\",name:t.domain.name,dataType:U[t.field.type],min:t.domain.min,max:t.domain.max}):null}throw new Error(\"Invalid Parameter\")}))},r.domainname=function(t,r){return v(t,r,(function(t,r,n){if(e(n,2,4),h(n[0]))return A(n[0],o(n[1]),n[2],void 0===n[3]?void 0:a(n[3]));throw new Error(\"Invalid Parameter\")}))},r.domaincode=function(t,r){return v(t,r,(function(t,r,n){if(e(n,2,4),h(n[0]))return w(n[0],o(n[1]),n[2],void 0===n[3]?void 0:a(n[3]));throw new Error(\"Invalid Parameter\")}))},r.urlencode=function(t,r){return v(t,r,(function(t,r,a){if(e(a,1,1),null===a[0])return\"\";if(a[0]instanceof n){let t=\"\";for(const r of a[0].keys()){const n=a[0].field(r);\"\"!==t&&(t+=\"&\"),t+=null===n?encodeURIComponent(r)+\"=\":encodeURIComponent(r)+\"=\"+encodeURIComponent(n)}return t}return encodeURIComponent(o(a[0]))}))},r.hash=function(t,r){return v(t,r,(function(t,r,n){e(n,1,1);const o=new C(0);return S(n[0],o,{map:new Map,currentLength:0}),o.digest()}))},r.convertdirection=function(t,r){return v(t,r,(function(t,r,n){return e(n,3,3),x(n[0],n[1],n[2])}))},r.fromjson=function(t,r){return v(t,r,(function(t,r,a){if(e(a,1,1),!1===I(a[0]))throw new Error(\"Invalid Parameter\");return n.convertJsonToArcade(JSON.parse(o(a[0])))}))},r.expects=function(t,r){return v(t,r,(function(t,r,n){if(n.length<1)throw new Error(\"Function called with wrong number of Parameters\");return u}))},r.tocharcode=function(t,r){return v(t,r,(function(t,r,n){e(n,1,2);const i=a(s(n[1],0)),u=o(n[0]);if(0===u.length&&1===n.length)return null;if(u.length<=i||i<0)throw new Error(\"Illegal argument\");return u.charCodeAt(i)}))},r.tocodepoint=function(t,r){return v(t,r,(function(t,r,n){e(n,1,2);const i=a(s(n[1],0)),u=o(n[0]);if(0===u.length&&1===n.length)return null;if(u.length<=i||i<0)throw new Error(\"Illegal argument\");return u.codePointAt(i)}))},r.fromcharcode=function(t,r){return v(t,r,(function(t,r,n){if(n.length<1)throw new Error(\"Function called with wrong number of Parameters\");const e=n.map((t=>Math.trunc(a(t)))).filter((t=>t>=0&&t<=65535));return 0===e.length?null:String.fromCharCode.apply(null,e)}))},r.fromcodepoint=function(t,r){return v(t,r,(function(t,r,n){if(n.length<1)throw new Error(\"Function called with wrong number of Parameters\");let e;try{e=n.map((t=>Math.trunc(a(t)))).filter((t=>t<=1114111&&t>>>0===t))}catch(o){return null}return 0===e.length?null:String.fromCodePoint.apply(null,e)}))}}export{O as registerFunctions};\n"]},"metadata":{},"sourceType":"module"}