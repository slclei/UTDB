{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { CullFaceOptions as t } from \"../3d/webgl-engine/lib/basicInterfaces.js\";\nimport { Face as e, CullMode as i, BlendOperation as n } from \"./enums.js\";\n\nfunction s(t, e) {\n  let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : n.ADD;\n  let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [0, 0, 0, 0];\n  return {\n    srcRgb: t,\n    srcAlpha: t,\n    dstRgb: e,\n    dstAlpha: e,\n    opRgb: i,\n    opAlpha: i,\n    color: {\n      r: s[0],\n      g: s[1],\n      b: s[2],\n      a: s[3]\n    }\n  };\n}\n\nfunction l(t, e, i, s) {\n  let l = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : n.ADD;\n  let r = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : n.ADD;\n  let o = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [0, 0, 0, 0];\n  return {\n    srcRgb: t,\n    srcAlpha: e,\n    dstRgb: i,\n    dstAlpha: s,\n    opRgb: l,\n    opAlpha: r,\n    color: {\n      r: o[0],\n      g: o[1],\n      b: o[2],\n      a: o[3]\n    }\n  };\n}\n\nconst r = {\n  face: e.BACK,\n  mode: i.CCW\n},\n      o = {\n  face: e.FRONT,\n  mode: i.CCW\n},\n      h = e => e === t.Back ? r : e === t.Front ? o : null,\n      a = {\n  zNear: 0,\n  zFar: 1\n},\n      c = {\n  r: !0,\n  g: !0,\n  b: !0,\n  a: !0\n};\n\nfunction _(t) {\n  return T.intern(t);\n}\n\nfunction d(t) {\n  return D.intern(t);\n}\n\nfunction p(t) {\n  return C.intern(t);\n}\n\nfunction u(t) {\n  return A.intern(t);\n}\n\nfunction g(t) {\n  return w.intern(t);\n}\n\nfunction f(t) {\n  return B.intern(t);\n}\n\nfunction v(t) {\n  return z.intern(t);\n}\n\nfunction I(t) {\n  return j.intern(t);\n}\n\nfunction W(t) {\n  return N.intern(t);\n}\n\nclass S {\n  constructor(t, e) {\n    this.makeKey = t, this.makeRef = e, this.interns = new Map();\n  }\n\n  intern(t) {\n    if (!t) return null;\n    const e = this.makeKey(t),\n          i = this.interns;\n    return i.has(e) || i.set(e, this.makeRef(t)), i.get(e);\n  }\n\n}\n\nfunction b(t) {\n  return \"[\" + t.join(\",\") + \"]\";\n}\n\nconst T = new S(y, t => ({\n  __tag: \"Blending\",\n  ...t\n}));\n\nfunction y(t) {\n  return t ? b([t.srcRgb, t.srcAlpha, t.dstRgb, t.dstAlpha, t.opRgb, t.opAlpha, t.color.r, t.color.g, t.color.b, t.color.a]) : null;\n}\n\nconst D = new S(O, t => ({\n  __tag: \"Culling\",\n  ...t\n}));\n\nfunction O(t) {\n  return t ? b([t.face, t.mode]) : null;\n}\n\nconst C = new S(m, t => ({\n  __tag: \"PolygonOffset\",\n  ...t\n}));\n\nfunction m(t) {\n  return t ? b([t.factor, t.units]) : null;\n}\n\nconst A = new S(R, t => ({\n  __tag: \"DepthTest\",\n  ...t\n}));\n\nfunction R(t) {\n  return t ? b([t.func]) : null;\n}\n\nconst w = new S(k, t => ({\n  __tag: \"StencilTest\",\n  ...t\n}));\n\nfunction k(t) {\n  return t ? b([t.function.func, t.function.ref, t.function.mask, t.operation.fail, t.operation.zFail, t.operation.zPass]) : null;\n}\n\nconst B = new S(P, t => ({\n  __tag: \"DepthWrite\",\n  ...t\n}));\n\nfunction P(t) {\n  return t ? b([t.zNear, t.zFar]) : null;\n}\n\nconst z = new S(F, t => ({\n  __tag: \"ColorWrite\",\n  ...t\n}));\n\nfunction F(t) {\n  return t ? b([t.r, t.g, t.b, t.a]) : null;\n}\n\nconst j = new S(K, t => ({\n  __tag: \"StencilWrite\",\n  ...t\n}));\n\nfunction K(t) {\n  return t ? b([t.mask]) : null;\n}\n\nconst N = new S(x, t => ({\n  blending: _(t.blending),\n  culling: d(t.culling),\n  polygonOffset: p(t.polygonOffset),\n  depthTest: u(t.depthTest),\n  stencilTest: g(t.stencilTest),\n  depthWrite: f(t.depthWrite),\n  colorWrite: v(t.colorWrite),\n  stencilWrite: I(t.stencilWrite)\n}));\n\nfunction x(t) {\n  return t ? b([y(t.blending), O(t.culling), m(t.polygonOffset), R(t.depthTest), k(t.stencilTest), P(t.depthWrite), F(t.colorWrite), K(t.stencilWrite)]) : null;\n}\n\nclass M {\n  constructor(t) {\n    this._pipelineInvalid = !0, this._blendingInvalid = !0, this._cullingInvalid = !0, this._polygonOffsetInvalid = !0, this._depthTestInvalid = !0, this._stencilTestInvalid = !0, this._depthWriteInvalid = !0, this._colorWriteInvalid = !0, this._stencilWriteInvalid = !0, this._stateSetters = t;\n  }\n\n  setPipeline(t) {\n    (this._pipelineInvalid || t !== this._pipeline) && (this._setBlending(t.blending), this._setCulling(t.culling), this._setPolygonOffset(t.polygonOffset), this._setDepthTest(t.depthTest), this._setStencilTest(t.stencilTest), this._setDepthWrite(t.depthWrite), this._setColorWrite(t.colorWrite), this._setStencilWrite(t.stencilWrite), this._pipeline = t), this._pipelineInvalid = !1;\n  }\n\n  invalidateBlending() {\n    this._blendingInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateCulling() {\n    this._cullingInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidatePolygonOffset() {\n    this._polygonOffsetInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateDepthTest() {\n    this._depthTestInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateStencilTest() {\n    this._stencilTestInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateDepthWrite() {\n    this._depthWriteInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateColorWrite() {\n    this._colorWriteInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  invalidateStencilWrite() {\n    this._stencilTestInvalid = !0, this._pipelineInvalid = !0;\n  }\n\n  _setBlending(t) {\n    this._blending = this._setSubState(t, this._blending, this._blendingInvalid, this._stateSetters.setBlending), this._blendingInvalid = !1;\n  }\n\n  _setCulling(t) {\n    this._culling = this._setSubState(t, this._culling, this._cullingInvalid, this._stateSetters.setCulling), this._cullingInvalid = !1;\n  }\n\n  _setPolygonOffset(t) {\n    this._polygonOffset = this._setSubState(t, this._polygonOffset, this._polygonOffsetInvalid, this._stateSetters.setPolygonOffset), this._polygonOffsetInvalid = !1;\n  }\n\n  _setDepthTest(t) {\n    this._depthTest = this._setSubState(t, this._depthTest, this._depthTestInvalid, this._stateSetters.setDepthTest), this._depthTestInvalid = !1;\n  }\n\n  _setStencilTest(t) {\n    this._stencilTest = this._setSubState(t, this._stencilTest, this._stencilTestInvalid, this._stateSetters.setStencilTest), this._stencilTestInvalid = !1;\n  }\n\n  _setDepthWrite(t) {\n    this._depthWrite = this._setSubState(t, this._depthWrite, this._depthWriteInvalid, this._stateSetters.setDepthWrite), this._depthWriteInvalid = !1;\n  }\n\n  _setColorWrite(t) {\n    this._colorWrite = this._setSubState(t, this._colorWrite, this._colorWriteInvalid, this._stateSetters.setColorWrite), this._colorWriteInvalid = !1;\n  }\n\n  _setStencilWrite(t) {\n    this._stencilWrite = this._setSubState(t, this._stencilWrite, this._stencilWriteInvalid, this._stateSetters.setStencilWrite), this._stencilTestInvalid = !1;\n  }\n\n  _setSubState(t, e, i, n) {\n    return (i || t !== e) && (n(t), this._pipelineInvalid = !0), t;\n  }\n\n}\n\nexport { M as StateTracker, r as backFaceCullingParams, h as cullingParams, c as defaultColorWriteParams, a as defaultDepthWriteParams, o as frontFaceCullingParams, _ as makeBlending, v as makeColorWrite, d as makeCulling, u as makeDepthTest, f as makeDepthWrite, W as makePipelineState, p as makePolygonOffset, g as makeStencilTest, I as makeStencilWrite, l as separateBlendingParams, s as simpleBlendingParams };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/webgl/renderState.js"],"names":["CullFaceOptions","t","Face","e","CullMode","i","BlendOperation","n","s","ADD","srcRgb","srcAlpha","dstRgb","dstAlpha","opRgb","opAlpha","color","r","g","b","a","l","o","face","BACK","mode","CCW","FRONT","h","Back","Front","zNear","zFar","c","_","T","intern","d","D","p","C","u","A","w","f","B","v","z","I","j","W","N","S","constructor","makeKey","makeRef","interns","Map","has","set","get","join","y","__tag","O","m","factor","units","R","func","k","function","ref","mask","operation","fail","zFail","zPass","P","F","K","x","blending","culling","polygonOffset","depthTest","stencilTest","depthWrite","colorWrite","stencilWrite","M","_pipelineInvalid","_blendingInvalid","_cullingInvalid","_polygonOffsetInvalid","_depthTestInvalid","_stencilTestInvalid","_depthWriteInvalid","_colorWriteInvalid","_stencilWriteInvalid","_stateSetters","setPipeline","_pipeline","_setBlending","_setCulling","_setPolygonOffset","_setDepthTest","_setStencilTest","_setDepthWrite","_setColorWrite","_setStencilWrite","invalidateBlending","invalidateCulling","invalidatePolygonOffset","invalidateDepthTest","invalidateStencilTest","invalidateDepthWrite","invalidateColorWrite","invalidateStencilWrite","_blending","_setSubState","setBlending","_culling","setCulling","_polygonOffset","setPolygonOffset","_depthTest","setDepthTest","_stencilTest","setStencilTest","_depthWrite","setDepthWrite","_colorWrite","setColorWrite","_stencilWrite","setStencilWrite","StateTracker","backFaceCullingParams","cullingParams","defaultColorWriteParams","defaultDepthWriteParams","frontFaceCullingParams","makeBlending","makeColorWrite","makeCulling","makeDepthTest","makeDepthWrite","makePipelineState","makePolygonOffset","makeStencilTest","makeStencilWrite","separateBlendingParams","simpleBlendingParams"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{CullFaceOptions as t}from\"../3d/webgl-engine/lib/basicInterfaces.js\";import{Face as e,CullMode as i,BlendOperation as n}from\"./enums.js\";function s(t,e,i=n.ADD,s=[0,0,0,0]){return{srcRgb:t,srcAlpha:t,dstRgb:e,dstAlpha:e,opRgb:i,opAlpha:i,color:{r:s[0],g:s[1],b:s[2],a:s[3]}}}function l(t,e,i,s,l=n.ADD,r=n.ADD,o=[0,0,0,0]){return{srcRgb:t,srcAlpha:e,dstRgb:i,dstAlpha:s,opRgb:l,opAlpha:r,color:{r:o[0],g:o[1],b:o[2],a:o[3]}}}const r={face:e.BACK,mode:i.CCW},o={face:e.FRONT,mode:i.CCW},h=e=>e===t.Back?r:e===t.Front?o:null,a={zNear:0,zFar:1},c={r:!0,g:!0,b:!0,a:!0};function _(t){return T.intern(t)}function d(t){return D.intern(t)}function p(t){return C.intern(t)}function u(t){return A.intern(t)}function g(t){return w.intern(t)}function f(t){return B.intern(t)}function v(t){return z.intern(t)}function I(t){return j.intern(t)}function W(t){return N.intern(t)}class S{constructor(t,e){this.makeKey=t,this.makeRef=e,this.interns=new Map}intern(t){if(!t)return null;const e=this.makeKey(t),i=this.interns;return i.has(e)||i.set(e,this.makeRef(t)),i.get(e)}}function b(t){return\"[\"+t.join(\",\")+\"]\"}const T=new S(y,(t=>({__tag:\"Blending\",...t})));function y(t){return t?b([t.srcRgb,t.srcAlpha,t.dstRgb,t.dstAlpha,t.opRgb,t.opAlpha,t.color.r,t.color.g,t.color.b,t.color.a]):null}const D=new S(O,(t=>({__tag:\"Culling\",...t})));function O(t){return t?b([t.face,t.mode]):null}const C=new S(m,(t=>({__tag:\"PolygonOffset\",...t})));function m(t){return t?b([t.factor,t.units]):null}const A=new S(R,(t=>({__tag:\"DepthTest\",...t})));function R(t){return t?b([t.func]):null}const w=new S(k,(t=>({__tag:\"StencilTest\",...t})));function k(t){return t?b([t.function.func,t.function.ref,t.function.mask,t.operation.fail,t.operation.zFail,t.operation.zPass]):null}const B=new S(P,(t=>({__tag:\"DepthWrite\",...t})));function P(t){return t?b([t.zNear,t.zFar]):null}const z=new S(F,(t=>({__tag:\"ColorWrite\",...t})));function F(t){return t?b([t.r,t.g,t.b,t.a]):null}const j=new S(K,(t=>({__tag:\"StencilWrite\",...t})));function K(t){return t?b([t.mask]):null}const N=new S(x,(t=>({blending:_(t.blending),culling:d(t.culling),polygonOffset:p(t.polygonOffset),depthTest:u(t.depthTest),stencilTest:g(t.stencilTest),depthWrite:f(t.depthWrite),colorWrite:v(t.colorWrite),stencilWrite:I(t.stencilWrite)})));function x(t){return t?b([y(t.blending),O(t.culling),m(t.polygonOffset),R(t.depthTest),k(t.stencilTest),P(t.depthWrite),F(t.colorWrite),K(t.stencilWrite)]):null}class M{constructor(t){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._stateSetters=t}setPipeline(t){(this._pipelineInvalid||t!==this._pipeline)&&(this._setBlending(t.blending),this._setCulling(t.culling),this._setPolygonOffset(t.polygonOffset),this._setDepthTest(t.depthTest),this._setStencilTest(t.stencilTest),this._setDepthWrite(t.depthWrite),this._setColorWrite(t.colorWrite),this._setStencilWrite(t.stencilWrite),this._pipeline=t),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}_setBlending(t){this._blending=this._setSubState(t,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}_setCulling(t){this._culling=this._setSubState(t,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}_setPolygonOffset(t){this._polygonOffset=this._setSubState(t,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}_setDepthTest(t){this._depthTest=this._setSubState(t,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}_setStencilTest(t){this._stencilTest=this._setSubState(t,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}_setDepthWrite(t){this._depthWrite=this._setSubState(t,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}_setColorWrite(t){this._colorWrite=this._setSubState(t,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}_setStencilWrite(t){this._stencilWrite=this._setSubState(t,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}_setSubState(t,e,i,n){return(i||t!==e)&&(n(t),this._pipelineInvalid=!0),t}}export{M as StateTracker,r as backFaceCullingParams,h as cullingParams,c as defaultColorWriteParams,a as defaultDepthWriteParams,o as frontFaceCullingParams,_ as makeBlending,v as makeColorWrite,d as makeCulling,u as makeDepthTest,f as makeDepthWrite,W as makePipelineState,p as makePolygonOffset,g as makeStencilTest,I as makeStencilWrite,l as separateBlendingParams,s as simpleBlendingParams};\n"]},"metadata":{},"sourceType":"module"}