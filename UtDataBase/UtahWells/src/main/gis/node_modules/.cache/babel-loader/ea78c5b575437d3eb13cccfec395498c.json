{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { bidiText as e } from \"../../../../core/BidiText.js\";\nimport { unwrap as t } from \"../../../../core/maybe.js\";\nimport { pt2px as n } from \"../../../../core/screenUtils.js\";\nimport i from \"../../../../geometry/Polygon.js\";\nimport { create as r } from \"../../../../geometry/support/aaBoundingRect.js\";\nimport { getSpatialReferenceMinMaxX as o } from \"../../../../geometry/support/normalizeUtilsCommon.js\";\nimport { getXAnchorDirection as s, getYAnchorDirection as l } from \"../../engine/webgl/alignmentUtils.js\";\nimport { GLYPH_SIZE as m, MAGIC_LABEL_LINE_HEIGHT as a } from \"../../engine/webgl/definitions.js\";\nimport { shapeGlyphs as f } from \"../../engine/webgl/mesh/templates/shapingUtils.js\";\nconst c = 512,\n      u = 50;\n\nfunction g(e, t) {\n  if (!t.isWrappable) return null;\n  const [n, i] = o(t);\n  return e[2] > i ? [r([e[0], e[1], i, e[3]]), r([n, e[1], n + e[2] - i, e[3]])] : e[0] < n ? [r([n, e[1], e[2], e[3]]), r([i - (n - e[0]), e[1], i, e[3]])] : null;\n}\n\nfunction p(e) {\n  return \"text\" === e || \"esriTS\" === e;\n}\n\nfunction h(e) {\n  return \"simple-marker\" === e || \"picture-marker\" === e || \"esriSMS\" === e || \"esriPMS\" === e;\n}\n\nfunction y(e) {\n  switch (t(e.geometry).type) {\n    case \"point\":\n    case \"multipoint\":\n      return 0;\n\n    case \"polyline\":\n      return 1;\n\n    case \"polygon\":\n    case \"extent\":\n      return 2;\n  }\n\n  return 0;\n}\n\nfunction x(t, i, r) {\n  var o, c, u;\n  if (!r || 0 === r.glyphMosaicItems.length) return t;\n  const g = e(i.text)[1],\n        p = r.glyphMosaicItems,\n        h = f(p, g, {\n    scale: n(i.font.size) / m,\n    angle: null != (o = i.angle) ? o : 0,\n    xOffset: null != (c = i.xoffset) ? c : 0,\n    yOffset: null != (u = i.yoffset) ? u : 0,\n    hAlign: s(i.horizontalAlignment || \"center\"),\n    vAlign: l(i.verticalAlignment || \"baseline\"),\n    maxLineWidth: Math.max(32, Math.min(i.lineWidth || 512, 512)),\n    lineHeight: a * Math.max(.25, Math.min(i.lineHeight || 1, 4)),\n    decoration: i.font.decoration || \"none\",\n    isCIM: !1\n  }).bounds;\n  return t[0] = n(h.x - h.halfWidth), t[1] = n(h.y - h.halfHeight), t[2] = n(h.width), t[3] = n(h.height), t;\n}\n\nfunction d(e) {\n  if (!e) return null;\n  const {\n    xmin: t,\n    ymin: n,\n    xmax: r,\n    ymax: o,\n    spatialReference: s\n  } = e;\n  return new i({\n    rings: [[[t, n], [t, o], [r, o], [r, n], [t, n]]],\n    spatialReference: s\n  });\n}\n\nexport { u as PIXEL_BUFFER, c as TILE_SIZE, x as getTextSymbolSize, y as graphicGeometryToNumber, g as intersectingInternationalDateline, h as isMarkerSymbol, p as isTextSymbol, d as polygonFromExtent };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js"],"names":["bidiText","e","unwrap","t","pt2px","n","i","create","r","getSpatialReferenceMinMaxX","o","getXAnchorDirection","s","getYAnchorDirection","l","GLYPH_SIZE","m","MAGIC_LABEL_LINE_HEIGHT","a","shapeGlyphs","f","c","u","g","isWrappable","p","h","y","geometry","type","x","glyphMosaicItems","length","text","scale","font","size","angle","xOffset","xoffset","yOffset","yoffset","hAlign","horizontalAlignment","vAlign","verticalAlignment","maxLineWidth","Math","max","min","lineWidth","lineHeight","decoration","isCIM","bounds","halfWidth","halfHeight","width","height","d","xmin","ymin","xmax","ymax","spatialReference","rings","PIXEL_BUFFER","TILE_SIZE","getTextSymbolSize","graphicGeometryToNumber","intersectingInternationalDateline","isMarkerSymbol","isTextSymbol","polygonFromExtent"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{bidiText as e}from\"../../../../core/BidiText.js\";import{unwrap as t}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import i from\"../../../../geometry/Polygon.js\";import{create as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{getSpatialReferenceMinMaxX as o}from\"../../../../geometry/support/normalizeUtilsCommon.js\";import{getXAnchorDirection as s,getYAnchorDirection as l}from\"../../engine/webgl/alignmentUtils.js\";import{GLYPH_SIZE as m,MAGIC_LABEL_LINE_HEIGHT as a}from\"../../engine/webgl/definitions.js\";import{shapeGlyphs as f}from\"../../engine/webgl/mesh/templates/shapingUtils.js\";const c=512,u=50;function g(e,t){if(!t.isWrappable)return null;const[n,i]=o(t);return e[2]>i?[r([e[0],e[1],i,e[3]]),r([n,e[1],n+e[2]-i,e[3]])]:e[0]<n?[r([n,e[1],e[2],e[3]]),r([i-(n-e[0]),e[1],i,e[3]])]:null}function p(e){return\"text\"===e||\"esriTS\"===e}function h(e){return\"simple-marker\"===e||\"picture-marker\"===e||\"esriSMS\"===e||\"esriPMS\"===e}function y(e){switch(t(e.geometry).type){case\"point\":case\"multipoint\":return 0;case\"polyline\":return 1;case\"polygon\":case\"extent\":return 2}return 0}function x(t,i,r){var o,c,u;if(!r||0===r.glyphMosaicItems.length)return t;const g=e(i.text)[1],p=r.glyphMosaicItems,h=f(p,g,{scale:n(i.font.size)/m,angle:null!=(o=i.angle)?o:0,xOffset:null!=(c=i.xoffset)?c:0,yOffset:null!=(u=i.yoffset)?u:0,hAlign:s(i.horizontalAlignment||\"center\"),vAlign:l(i.verticalAlignment||\"baseline\"),maxLineWidth:Math.max(32,Math.min(i.lineWidth||512,512)),lineHeight:a*Math.max(.25,Math.min(i.lineHeight||1,4)),decoration:i.font.decoration||\"none\",isCIM:!1}).bounds;return t[0]=n(h.x-h.halfWidth),t[1]=n(h.y-h.halfHeight),t[2]=n(h.width),t[3]=n(h.height),t}function d(e){if(!e)return null;const{xmin:t,ymin:n,xmax:r,ymax:o,spatialReference:s}=e;return new i({rings:[[[t,n],[t,o],[r,o],[r,n],[t,n]]],spatialReference:s})}export{u as PIXEL_BUFFER,c as TILE_SIZE,x as getTextSymbolSize,y as graphicGeometryToNumber,g as intersectingInternationalDateline,h as isMarkerSymbol,p as isTextSymbol,d as polygonFromExtent};\n"]},"metadata":{},"sourceType":"module"}