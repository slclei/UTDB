{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { f as t } from \"../../../../../chunks/vec4f32.js\";\nimport { Pos2b as r } from \"../DefaultVertexAttributeLayouts.js\";\nimport e from \"./WGLBrush.js\";\nimport { background as i } from \"../shaders/BackgroundPrograms.js\";\nimport { BufferObject as s } from \"../../../../webgl/BufferObject.js\";\nimport { StencilOperation as o, Face as a, CompareFunction as n, PrimitiveType as l, Usage as d } from \"../../../../webgl/enums.js\";\nimport { createProgram as m } from \"../../../../webgl/ProgramTemplate.js\";\nimport { VertexArrayObject as _ } from \"../../../../webgl/VertexArrayObject.js\";\n\nclass c extends e {\n  constructor() {\n    super(...arguments), this._color = t(1, 0, 0, 1), this._initialized = !1;\n  }\n\n  dispose() {\n    this._solidProgram && (this._solidProgram.dispose(), this._solidProgram = null), this._solidVertexArrayObject && (this._solidVertexArrayObject.dispose(), this._solidVertexArrayObject = null);\n  }\n\n  prepareState(_ref, r) {\n    let {\n      context: t\n    } = _ref;\n    t.setDepthWriteEnabled(!1), t.setDepthTestEnabled(!1), t.setStencilTestEnabled(!0), t.setBlendingEnabled(!1), t.setColorMask(!1, !1, !1, !1), t.setStencilOp(o.KEEP, o.KEEP, o.REPLACE), t.setStencilWriteMask(255), t.setStencilFunctionSeparate(a.FRONT_AND_BACK, n.GREATER, r.stencilRef, 255);\n  }\n\n  draw(t, r) {\n    const {\n      context: e\n    } = t;\n    this._initialized || this._initialize(e), e.bindVAO(this._solidVertexArrayObject), e.useProgram(this._solidProgram), this._solidProgram.setUniformMatrix3fv(\"u_dvsMat3\", r.transforms.dvs), this._solidProgram.setUniform2fv(\"u_coord_range\", [r.rangeX, r.rangeY]), this._solidProgram.setUniform1f(\"u_depth\", 0), this._solidProgram.setUniform4fv(\"u_color\", this._color), e.drawArrays(l.TRIANGLE_STRIP, 0, 4), e.bindVAO();\n  }\n\n  _initialize(t) {\n    if (this._initialized) return !0;\n    const e = m(t, i);\n    if (!e) return !1;\n    const o = new Int8Array([0, 0, 1, 0, 0, 1, 1, 1]),\n          a = s.createVertex(t, d.STATIC_DRAW, o),\n          n = new _(t, i.attributes, r, {\n      geometry: a\n    });\n    return this._solidProgram = e, this._solidVertexArrayObject = n, this._initialized = !0, !0;\n  }\n\n}\n\nexport { c as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushStencil.js"],"names":["f","t","Pos2b","r","e","background","i","BufferObject","s","StencilOperation","o","Face","a","CompareFunction","n","PrimitiveType","l","Usage","d","createProgram","m","VertexArrayObject","_","c","constructor","arguments","_color","_initialized","dispose","_solidProgram","_solidVertexArrayObject","prepareState","context","setDepthWriteEnabled","setDepthTestEnabled","setStencilTestEnabled","setBlendingEnabled","setColorMask","setStencilOp","KEEP","REPLACE","setStencilWriteMask","setStencilFunctionSeparate","FRONT_AND_BACK","GREATER","stencilRef","draw","_initialize","bindVAO","useProgram","setUniformMatrix3fv","transforms","dvs","setUniform2fv","rangeX","rangeY","setUniform1f","setUniform4fv","drawArrays","TRIANGLE_STRIP","Int8Array","createVertex","STATIC_DRAW","attributes","geometry","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{f as t}from\"../../../../../chunks/vec4f32.js\";import{Pos2b as r}from\"../DefaultVertexAttributeLayouts.js\";import e from\"./WGLBrush.js\";import{background as i}from\"../shaders/BackgroundPrograms.js\";import{BufferObject as s}from\"../../../../webgl/BufferObject.js\";import{StencilOperation as o,Face as a,CompareFunction as n,PrimitiveType as l,Usage as d}from\"../../../../webgl/enums.js\";import{createProgram as m}from\"../../../../webgl/ProgramTemplate.js\";import{VertexArrayObject as _}from\"../../../../webgl/VertexArrayObject.js\";class c extends e{constructor(){super(...arguments),this._color=t(1,0,0,1),this._initialized=!1}dispose(){this._solidProgram&&(this._solidProgram.dispose(),this._solidProgram=null),this._solidVertexArrayObject&&(this._solidVertexArrayObject.dispose(),this._solidVertexArrayObject=null)}prepareState({context:t},r){t.setDepthWriteEnabled(!1),t.setDepthTestEnabled(!1),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!1),t.setColorMask(!1,!1,!1,!1),t.setStencilOp(o.KEEP,o.KEEP,o.REPLACE),t.setStencilWriteMask(255),t.setStencilFunctionSeparate(a.FRONT_AND_BACK,n.GREATER,r.stencilRef,255)}draw(t,r){const{context:e}=t;this._initialized||this._initialize(e),e.bindVAO(this._solidVertexArrayObject),e.useProgram(this._solidProgram),this._solidProgram.setUniformMatrix3fv(\"u_dvsMat3\",r.transforms.dvs),this._solidProgram.setUniform2fv(\"u_coord_range\",[r.rangeX,r.rangeY]),this._solidProgram.setUniform1f(\"u_depth\",0),this._solidProgram.setUniform4fv(\"u_color\",this._color),e.drawArrays(l.TRIANGLE_STRIP,0,4),e.bindVAO()}_initialize(t){if(this._initialized)return!0;const e=m(t,i);if(!e)return!1;const o=new Int8Array([0,0,1,0,0,1,1,1]),a=s.createVertex(t,d.STATIC_DRAW,o),n=new _(t,i.attributes,r,{geometry:a});return this._solidProgram=e,this._solidVertexArrayObject=n,this._initialized=!0,!0}}export{c as default};\n"]},"metadata":{},"sourceType":"module"}