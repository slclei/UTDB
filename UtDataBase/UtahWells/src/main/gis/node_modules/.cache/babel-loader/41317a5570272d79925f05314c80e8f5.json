{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { InputHandler as e } from \"../../../input/InputHandler.js\";\n\nclass i extends e {\n  constructor(e, i, t) {\n    super(!0), this.view = e, this.keys = i, this._pressed = !1, this._keyToDirection = {\n      [i.clockwiseOption1]: \"clockwise\",\n      [i.clockwiseOption2]: \"clockwise\",\n      [i.counterClockwiseOption1]: \"counterClockwise\",\n      [i.counterClockwiseOption2]: \"counterClockwise\",\n      [i.resetOption1]: \"reset\",\n      [i.resetOption2]: \"reset\"\n    }, this.registerIncoming(\"key-down\", t, e => this._handleKeyDown(e)), this.registerIncoming(\"key-up\", t, e => this._handleKeyUp(e)), this.registerIncoming(\"blur\", t, () => this._handleBlur());\n  }\n\n  _handleKeyDown(e) {\n    e.data.repeat || this._handleKey(e, !0);\n  }\n\n  _handleKeyUp(e) {\n    this._handleKey(e, !1);\n  }\n\n  _handleBlur() {\n    this._pressed && (this._pressed = !1, this.view.mapViewNavigation.stop());\n  }\n\n  _handleKey(e, i) {\n    const t = e.modifiers;\n    if (t.size > 0 && !t.has(\"Shift\") || !this.view.constraints.rotationEnabled) return;\n    const s = this._keyToDirection[e.data.key];\n\n    if (this._pressed = null != s, this._pressed) {\n      if (i) switch (this.view.mapViewNavigation.begin(), s) {\n        case \"clockwise\":\n          this.view.mapViewNavigation.continousRotateClockwise();\n          break;\n\n        case \"counterClockwise\":\n          this.view.mapViewNavigation.continousRotateCounterclockwise();\n          break;\n\n        case \"reset\":\n          this.view.mapViewNavigation.resetRotation();\n      } else this._pressed = !1, this.view.mapViewNavigation.stop();\n      e.stopPropagation();\n    }\n  }\n\n}\n\nexport { i as KeyRotate };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/input/handlers/KeyRotate.js"],"names":["InputHandler","e","i","constructor","t","view","keys","_pressed","_keyToDirection","clockwiseOption1","clockwiseOption2","counterClockwiseOption1","counterClockwiseOption2","resetOption1","resetOption2","registerIncoming","_handleKeyDown","_handleKeyUp","_handleBlur","data","repeat","_handleKey","mapViewNavigation","stop","modifiers","size","has","constraints","rotationEnabled","s","key","begin","continousRotateClockwise","continousRotateCounterclockwise","resetRotation","stopPropagation","KeyRotate"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAAOA,YAAY,IAAIC,CAAvB,QAA6B,gCAA7B;;AAA8D,MAAMC,CAAN,SAAgBD,CAAhB,CAAiB;AAACE,EAAAA,WAAW,CAACF,CAAD,EAAGC,CAAH,EAAKE,CAAL,EAAO;AAAC,UAAM,CAAC,CAAP,GAAU,KAAKC,IAAL,GAAUJ,CAApB,EAAsB,KAAKK,IAAL,GAAUJ,CAAhC,EAAkC,KAAKK,QAAL,GAAc,CAAC,CAAjD,EAAmD,KAAKC,eAAL,GAAqB;AAAC,OAACN,CAAC,CAACO,gBAAH,GAAqB,WAAtB;AAAkC,OAACP,CAAC,CAACQ,gBAAH,GAAqB,WAAvD;AAAmE,OAACR,CAAC,CAACS,uBAAH,GAA4B,kBAA/F;AAAkH,OAACT,CAAC,CAACU,uBAAH,GAA4B,kBAA9I;AAAiK,OAACV,CAAC,CAACW,YAAH,GAAiB,OAAlL;AAA0L,OAACX,CAAC,CAACY,YAAH,GAAiB;AAA3M,KAAxE,EAA4R,KAAKC,gBAAL,CAAsB,UAAtB,EAAiCX,CAAjC,EAAoCH,CAAC,IAAE,KAAKe,cAAL,CAAoBf,CAApB,CAAvC,CAA5R,EAA4V,KAAKc,gBAAL,CAAsB,QAAtB,EAA+BX,CAA/B,EAAkCH,CAAC,IAAE,KAAKgB,YAAL,CAAkBhB,CAAlB,CAArC,CAA5V,EAAwZ,KAAKc,gBAAL,CAAsB,MAAtB,EAA6BX,CAA7B,EAAgC,MAAI,KAAKc,WAAL,EAApC,CAAxZ;AAAid;;AAAAF,EAAAA,cAAc,CAACf,CAAD,EAAG;AAACA,IAAAA,CAAC,CAACkB,IAAF,CAAOC,MAAP,IAAe,KAAKC,UAAL,CAAgBpB,CAAhB,EAAkB,CAAC,CAAnB,CAAf;AAAqC;;AAAAgB,EAAAA,YAAY,CAAChB,CAAD,EAAG;AAAC,SAAKoB,UAAL,CAAgBpB,CAAhB,EAAkB,CAAC,CAAnB;AAAsB;;AAAAiB,EAAAA,WAAW,GAAE;AAAC,SAAKX,QAAL,KAAgB,KAAKA,QAAL,GAAc,CAAC,CAAf,EAAiB,KAAKF,IAAL,CAAUiB,iBAAV,CAA4BC,IAA5B,EAAjC;AAAqE;;AAAAF,EAAAA,UAAU,CAACpB,CAAD,EAAGC,CAAH,EAAK;AAAC,UAAME,CAAC,GAACH,CAAC,CAACuB,SAAV;AAAoB,QAAGpB,CAAC,CAACqB,IAAF,GAAO,CAAP,IAAU,CAACrB,CAAC,CAACsB,GAAF,CAAM,OAAN,CAAX,IAA2B,CAAC,KAAKrB,IAAL,CAAUsB,WAAV,CAAsBC,eAArD,EAAqE;AAAO,UAAMC,CAAC,GAAC,KAAKrB,eAAL,CAAqBP,CAAC,CAACkB,IAAF,CAAOW,GAA5B,CAAR;;AAAyC,QAAG,KAAKvB,QAAL,GAAc,QAAMsB,CAApB,EAAsB,KAAKtB,QAA9B,EAAuC;AAAC,UAAGL,CAAH,EAAK,QAAO,KAAKG,IAAL,CAAUiB,iBAAV,CAA4BS,KAA5B,IAAoCF,CAA3C;AAA8C,aAAI,WAAJ;AAAgB,eAAKxB,IAAL,CAAUiB,iBAAV,CAA4BU,wBAA5B;AAAuD;;AAAM,aAAI,kBAAJ;AAAuB,eAAK3B,IAAL,CAAUiB,iBAAV,CAA4BW,+BAA5B;AAA8D;;AAAM,aAAI,OAAJ;AAAY,eAAK5B,IAAL,CAAUiB,iBAAV,CAA4BY,aAA5B;AAAlO,OAAL,MAAwR,KAAK3B,QAAL,GAAc,CAAC,CAAf,EAAiB,KAAKF,IAAL,CAAUiB,iBAAV,CAA4BC,IAA5B,EAAjB;AAAoDtB,MAAAA,CAAC,CAACkC,eAAF;AAAoB;AAAC;;AAAvrC;;AAAwrC,SAAOjC,CAAC,IAAIkC,SAAZ","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{InputHandler as e}from\"../../../input/InputHandler.js\";class i extends e{constructor(e,i,t){super(!0),this.view=e,this.keys=i,this._pressed=!1,this._keyToDirection={[i.clockwiseOption1]:\"clockwise\",[i.clockwiseOption2]:\"clockwise\",[i.counterClockwiseOption1]:\"counterClockwise\",[i.counterClockwiseOption2]:\"counterClockwise\",[i.resetOption1]:\"reset\",[i.resetOption2]:\"reset\"},this.registerIncoming(\"key-down\",t,(e=>this._handleKeyDown(e))),this.registerIncoming(\"key-up\",t,(e=>this._handleKeyUp(e))),this.registerIncoming(\"blur\",t,(()=>this._handleBlur()))}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,i){const t=e.modifiers;if(t.size>0&&!t.has(\"Shift\")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection[e.data.key];if(this._pressed=null!=s,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),s){case\"clockwise\":this.view.mapViewNavigation.continousRotateClockwise();break;case\"counterClockwise\":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case\"reset\":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}export{i as KeyRotate};\n"]},"metadata":{},"sourceType":"module"}