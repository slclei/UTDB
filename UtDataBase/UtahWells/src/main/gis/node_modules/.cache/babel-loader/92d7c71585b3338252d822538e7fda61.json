{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { getAssetUrl as e } from \"../../assets.js\";\nimport r from \"../../config.js\";\nimport \"../../intl.js\";\nimport { version as o } from \"../../kernel.js\";\nimport t from \"../has.js\";\nimport s from \"../Logger.js\";\nimport { makeAbsolute as i } from \"../urlUtils.js\";\nimport { loaderConfig as n } from \"./loaderConfig.js\";\nimport { receiveMessage as a, MessageType as l } from \"./utils.js\";\nimport f from \"./WorkerFallback.js\";\nimport { getLocale as c } from \"../../intl/locale.js\";\nimport { buildDate as d, commitHash as u } from \"../../support/revision.js\";\nconst m = s.getLogger(\"esri.core.workers\"),\n      {\n  HANDSHAKE: p\n} = l,\n      g = 'let globalId=0;const outgoing=new Map,configuration=JSON.parse(\"{CONFIGURATION}\");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error(\"Aborted\");return e.name=\"AbortError\",e}function receiveMessage(e){return e&&e.data?\"string\"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener(\"abort\",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}\"function\"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):\"System\"in self&&\"function\"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),\"function\"==typeof require&&\"function\"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener(\"message\",messageHandler),self.postMessage({type:0});';\nlet k, h;\nconst w = \"Failed to create Worker. Fallback to execute module in main thread\";\n\nasync function y() {\n  if (!t(\"esri-workers\") || (t(\"mozilla\"), 0)) return v(new f());\n  if (!k && !h) try {\n    const e = g.replace('\"{CONFIGURATION}\"', `'${b()}'`);\n    k = URL.createObjectURL(new Blob([e], {\n      type: \"text/javascript\"\n    }));\n  } catch (r) {\n    h = r || {};\n  }\n  let e;\n  if (k) try {\n    e = new Worker(k, {\n      name: \"esri-worker-\" + P++\n    });\n  } catch (r) {\n    m.warn(w, h), e = new f();\n  } else m.warn(w, h), e = new f();\n  return v(e);\n}\n\nasync function v(e) {\n  return new Promise(r => {\n    function o(s) {\n      const i = a(s);\n      i && i.type === p && (e.removeEventListener(\"message\", o), e.removeEventListener(\"error\", t), r(e));\n    }\n\n    function t(r) {\n      r.preventDefault(), e.removeEventListener(\"message\", o), e.removeEventListener(\"error\", t), m.warn(\"Failed to create Worker. Fallback to execute module in main thread\", r), (e = new f()).addEventListener(\"message\", o), e.addEventListener(\"error\", t);\n    }\n\n    e.addEventListener(\"message\", o), e.addEventListener(\"error\", t);\n  });\n}\n\nfunction b() {\n  let s;\n\n  if (null != r.default) {\n    const e = { ...r\n    };\n    delete e.default, s = JSON.parse(JSON.stringify(e));\n  } else s = JSON.parse(JSON.stringify(r));\n\n  s.assetsPath = i(s.assetsPath), s.request.interceptors = [], s.log.interceptors = [], s.locale = c(), s.has = {\n    \"esri-csp-restrictions\": t(\"esri-csp-restrictions\"),\n    \"esri-2d-debug\": !1,\n    \"esri-2d-update-debug\": t(\"esri-2d-update-debug\"),\n    \"esri-2d-query-centroid-enabled\": t(\"esri-2d-query-centroid-enabled\"),\n    \"featurelayer-pbf\": t(\"featurelayer-pbf\"),\n    \"featurelayer-simplify-thresholds\": t(\"featurelayer-simplify-thresholds\"),\n    \"featurelayer-simplify-payload-size-factors\": t(\"featurelayer-simplify-payload-size-factors\"),\n    \"featurelayer-simplify-mobile-factor\": t(\"featurelayer-simplify-mobile-factor\"),\n    \"esri-atomics\": t(\"esri-atomics\"),\n    \"esri-shared-array-buffer\": t(\"esri-shared-array-buffer\"),\n    \"esri-tiles-debug\": t(\"esri-tiles-debug\"),\n    \"esri-workers-arraybuffer-transfer\": t(\"esri-workers-arraybuffer-transfer\"),\n    \"feature-polyline-generalization-factor\": t(\"feature-polyline-generalization-factor\"),\n    \"host-webworker\": 1\n  }, s.workers.loaderUrl && (s.workers.loaderUrl = i(s.workers.loaderUrl)), s.workers.workerPath ? s.workers.workerPath = i(s.workers.workerPath) : s.workers.workerPath = i(e(\"esri/core/workers/RemoteClient.js\")), s.workers.useDynamicImport = !1;\n  const a = r.workers.loaderConfig,\n        l = n({\n    baseUrl: null == a ? void 0 : a.baseUrl,\n    locale: c(),\n    has: {\n      \"csp-restrictions\": 1,\n      \"dojo-test-sniff\": 0,\n      \"host-webworker\": 1,\n      ...(null == a ? void 0 : a.has)\n    },\n    map: { ...(null == a ? void 0 : a.map)\n    },\n    paths: { ...(null == a ? void 0 : a.paths)\n    },\n    packages: (null == a ? void 0 : a.packages) || []\n  }),\n        f = {\n    version: o,\n    buildDate: d,\n    revision: u\n  };\n  return JSON.stringify({\n    esriConfig: s,\n    loaderConfig: l,\n    kernelInfo: f\n  });\n}\n\nlet P = 0;\nexport { y as createWorker };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/core/workers/workerFactory.js"],"names":["getAssetUrl","e","r","version","o","t","s","makeAbsolute","i","loaderConfig","n","receiveMessage","a","MessageType","l","f","getLocale","c","buildDate","d","commitHash","u","m","getLogger","HANDSHAKE","p","g","k","h","w","y","v","replace","b","URL","createObjectURL","Blob","type","Worker","name","P","warn","Promise","removeEventListener","preventDefault","addEventListener","default","JSON","parse","stringify","assetsPath","request","interceptors","log","locale","has","workers","loaderUrl","workerPath","useDynamicImport","baseUrl","map","paths","packages","revision","esriConfig","kernelInfo","createWorker"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import r from\"../../config.js\";import\"../../intl.js\";import{version as o}from\"../../kernel.js\";import t from\"../has.js\";import s from\"../Logger.js\";import{makeAbsolute as i}from\"../urlUtils.js\";import{loaderConfig as n}from\"./loaderConfig.js\";import{receiveMessage as a,MessageType as l}from\"./utils.js\";import f from\"./WorkerFallback.js\";import{getLocale as c}from\"../../intl/locale.js\";import{buildDate as d,commitHash as u}from\"../../support/revision.js\";const m=s.getLogger(\"esri.core.workers\"),{HANDSHAKE:p}=l,g='let globalId=0;const outgoing=new Map,configuration=JSON.parse(\"{CONFIGURATION}\");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error(\"Aborted\");return e.name=\"AbortError\",e}function receiveMessage(e){return e&&e.data?\"string\"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener(\"abort\",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}\"function\"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):\"System\"in self&&\"function\"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),\"function\"==typeof require&&\"function\"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener(\"message\",messageHandler),self.postMessage({type:0});';let k,h;const w=\"Failed to create Worker. Fallback to execute module in main thread\";async function y(){if(!t(\"esri-workers\")||(t(\"mozilla\"),0))return v(new f);if(!k&&!h)try{const e=g.replace('\"{CONFIGURATION}\"',`'${b()}'`);k=URL.createObjectURL(new Blob([e],{type:\"text/javascript\"}))}catch(r){h=r||{}}let e;if(k)try{e=new Worker(k,{name:\"esri-worker-\"+P++})}catch(r){m.warn(w,h),e=new f}else m.warn(w,h),e=new f;return v(e)}async function v(e){return new Promise((r=>{function o(s){const i=a(s);i&&i.type===p&&(e.removeEventListener(\"message\",o),e.removeEventListener(\"error\",t),r(e))}function t(r){r.preventDefault(),e.removeEventListener(\"message\",o),e.removeEventListener(\"error\",t),m.warn(\"Failed to create Worker. Fallback to execute module in main thread\",r),(e=new f).addEventListener(\"message\",o),e.addEventListener(\"error\",t)}e.addEventListener(\"message\",o),e.addEventListener(\"error\",t)}))}function b(){let s;if(null!=r.default){const e={...r};delete e.default,s=JSON.parse(JSON.stringify(e))}else s=JSON.parse(JSON.stringify(r));s.assetsPath=i(s.assetsPath),s.request.interceptors=[],s.log.interceptors=[],s.locale=c(),s.has={\"esri-csp-restrictions\":t(\"esri-csp-restrictions\"),\"esri-2d-debug\":!1,\"esri-2d-update-debug\":t(\"esri-2d-update-debug\"),\"esri-2d-query-centroid-enabled\":t(\"esri-2d-query-centroid-enabled\"),\"featurelayer-pbf\":t(\"featurelayer-pbf\"),\"featurelayer-simplify-thresholds\":t(\"featurelayer-simplify-thresholds\"),\"featurelayer-simplify-payload-size-factors\":t(\"featurelayer-simplify-payload-size-factors\"),\"featurelayer-simplify-mobile-factor\":t(\"featurelayer-simplify-mobile-factor\"),\"esri-atomics\":t(\"esri-atomics\"),\"esri-shared-array-buffer\":t(\"esri-shared-array-buffer\"),\"esri-tiles-debug\":t(\"esri-tiles-debug\"),\"esri-workers-arraybuffer-transfer\":t(\"esri-workers-arraybuffer-transfer\"),\"feature-polyline-generalization-factor\":t(\"feature-polyline-generalization-factor\"),\"host-webworker\":1},s.workers.loaderUrl&&(s.workers.loaderUrl=i(s.workers.loaderUrl)),s.workers.workerPath?s.workers.workerPath=i(s.workers.workerPath):s.workers.workerPath=i(e(\"esri/core/workers/RemoteClient.js\")),s.workers.useDynamicImport=!1;const a=r.workers.loaderConfig,l=n({baseUrl:null==a?void 0:a.baseUrl,locale:c(),has:{\"csp-restrictions\":1,\"dojo-test-sniff\":0,\"host-webworker\":1,...null==a?void 0:a.has},map:{...null==a?void 0:a.map},paths:{...null==a?void 0:a.paths},packages:(null==a?void 0:a.packages)||[]}),f={version:o,buildDate:d,revision:u};return JSON.stringify({esriConfig:s,loaderConfig:l,kernelInfo:f})}let P=0;export{y as createWorker};\n"]},"metadata":{},"sourceType":"module"}