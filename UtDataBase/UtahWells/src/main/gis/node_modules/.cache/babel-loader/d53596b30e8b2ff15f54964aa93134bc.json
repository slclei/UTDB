{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from \"./MeshData.js\";\nimport { strideToPackingFactor as e } from \"./Utils.js\";\n\nclass s {\n  constructor(t, e, s) {\n    let r = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let i = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    this.id = t, this.geometryType = e, this.materialKey = s, this.minZoom = r, this.maxZoom = i, this.meshData = null, this.symbolLevel = 0, this.zOrder = 0, this.vertexFrom = 0, this.vertexCount = 0, this.indexFrom = 0, this.indexCount = 0;\n  }\n\n  get sortKey() {\n    return void 0 === this._sortKey && this._computeSortKey(), this._sortKey;\n  }\n\n  clone() {\n    return this.copy();\n  }\n\n  copy() {\n    const t = new s(this.id, this.geometryType, this.materialKey);\n    return t.vertexFrom = this.vertexFrom, t.vertexCount = this.vertexCount, t.indexFrom = this.indexFrom, t.indexCount = this.indexCount, t.zOrder = this.zOrder, t.symbolLevel = this.symbolLevel, t.meshData = this.meshData, t.minZoom = this.minZoom, t.maxZoom = this.maxZoom, t;\n  }\n\n  setMeshDataFromBuffers(s, r, i) {\n    const o = new t();\n\n    for (const t in r) {\n      const i = r[t].stride,\n            a = r[t].data,\n            h = [],\n            n = e(i);\n\n      for (let t = 0; t < i * s.vertexCount / n; ++t) h[t] = a[t + i * s.vertexFrom / n];\n\n      o.vertexData.set(t, h);\n    }\n\n    o.indexData.length = 0;\n\n    for (let t = 0; t < s.indexCount; ++t) o.indexData[t] = i[t + s.indexFrom] - s.vertexFrom;\n\n    o.vertexCount = s.vertexCount, this.meshData = o;\n  }\n\n  readMeshDataFromBuffers(s, r) {\n    this.meshData ? this.meshData.clear() : this.meshData = new t();\n\n    for (const t in s) {\n      const r = s[t].stride,\n            i = s[t].data,\n            o = [],\n            a = e(r);\n\n      for (let t = 0; t < r * this.vertexCount / a; ++t) o[t] = i[t + r * this.vertexFrom / a];\n\n      this.meshData.vertexData.set(t, o);\n    }\n\n    this.meshData.indexData.length = 0;\n\n    for (let t = 0; t < this.indexCount; ++t) this.meshData.indexData[t] = r[t + this.indexFrom] - this.vertexFrom;\n\n    this.meshData.vertexCount = this.vertexCount;\n  }\n\n  writeMeshDataToBuffers(t, s, r, i) {\n    for (const o in s) {\n      const r = s[o].stride,\n            i = this.meshData.vertexData.get(o),\n            a = s[o].data,\n            h = e(r);\n\n      for (let e = 0; e < r * this.meshData.vertexCount / h; ++e) a[e + r * t / h] = i[e];\n    }\n\n    for (let e = 0; e < this.meshData.indexData.length; ++e) i[e + r] = this.meshData.indexData[e] + t;\n\n    this.vertexFrom = t, this.vertexCount = this.meshData.vertexCount, this.indexFrom = r, this.indexCount = this.meshData.indexData.length;\n  }\n\n  static writeAllMeshDataToBuffers(t, e, s) {\n    let r = 0,\n        i = 0;\n\n    for (const o of t) o.writeMeshDataToBuffers(r, e, i, s), r += o.vertexCount, i += o.indexCount;\n  }\n\n  _computeSortKey() {\n    this._sortKey = (31 & this.symbolLevel) << 12 | (127 & this.zOrder) << 4 | 7 & this.geometryType;\n  }\n\n  serialize(t) {\n    return t.push(this.geometryType), t.push(this.materialKey), t.push(this.vertexFrom), t.push(this.vertexCount), t.push(this.indexFrom), t.push(this.indexCount), t.push(this.minZoom), t.push(this.maxZoom), t;\n  }\n\n  static deserialize(t, e) {\n    const r = t.readInt32(),\n          i = t.readInt32(),\n          o = new s(e.id, r, i);\n    return o.vertexFrom = t.readInt32(), o.vertexCount = t.readInt32(), o.indexFrom = t.readInt32(), o.indexCount = t.readInt32(), o.minZoom = t.readInt32(), o.maxZoom = t.readInt32(), o;\n  }\n\n}\n\nexport { s as default };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js"],"names":["t","strideToPackingFactor","e","s","constructor","r","i","id","geometryType","materialKey","minZoom","maxZoom","meshData","symbolLevel","zOrder","vertexFrom","vertexCount","indexFrom","indexCount","sortKey","_sortKey","_computeSortKey","clone","copy","setMeshDataFromBuffers","o","stride","a","data","h","n","vertexData","set","indexData","length","readMeshDataFromBuffers","clear","writeMeshDataToBuffers","get","writeAllMeshDataToBuffers","serialize","push","deserialize","readInt32","default"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"./MeshData.js\";import{strideToPackingFactor as e}from\"./Utils.js\";class s{constructor(t,e,s,r=0,i=0){this.id=t,this.geometryType=e,this.materialKey=s,this.minZoom=r,this.maxZoom=i,this.meshData=null,this.symbolLevel=0,this.zOrder=0,this.vertexFrom=0,this.vertexCount=0,this.indexFrom=0,this.indexCount=0}get sortKey(){return void 0===this._sortKey&&this._computeSortKey(),this._sortKey}clone(){return this.copy()}copy(){const t=new s(this.id,this.geometryType,this.materialKey);return t.vertexFrom=this.vertexFrom,t.vertexCount=this.vertexCount,t.indexFrom=this.indexFrom,t.indexCount=this.indexCount,t.zOrder=this.zOrder,t.symbolLevel=this.symbolLevel,t.meshData=this.meshData,t.minZoom=this.minZoom,t.maxZoom=this.maxZoom,t}setMeshDataFromBuffers(s,r,i){const o=new t;for(const t in r){const i=r[t].stride,a=r[t].data,h=[],n=e(i);for(let t=0;t<i*s.vertexCount/n;++t)h[t]=a[t+i*s.vertexFrom/n];o.vertexData.set(t,h)}o.indexData.length=0;for(let t=0;t<s.indexCount;++t)o.indexData[t]=i[t+s.indexFrom]-s.vertexFrom;o.vertexCount=s.vertexCount,this.meshData=o}readMeshDataFromBuffers(s,r){this.meshData?this.meshData.clear():this.meshData=new t;for(const t in s){const r=s[t].stride,i=s[t].data,o=[],a=e(r);for(let t=0;t<r*this.vertexCount/a;++t)o[t]=i[t+r*this.vertexFrom/a];this.meshData.vertexData.set(t,o)}this.meshData.indexData.length=0;for(let t=0;t<this.indexCount;++t)this.meshData.indexData[t]=r[t+this.indexFrom]-this.vertexFrom;this.meshData.vertexCount=this.vertexCount}writeMeshDataToBuffers(t,s,r,i){for(const o in s){const r=s[o].stride,i=this.meshData.vertexData.get(o),a=s[o].data,h=e(r);for(let e=0;e<r*this.meshData.vertexCount/h;++e)a[e+r*t/h]=i[e]}for(let e=0;e<this.meshData.indexData.length;++e)i[e+r]=this.meshData.indexData[e]+t;this.vertexFrom=t,this.vertexCount=this.meshData.vertexCount,this.indexFrom=r,this.indexCount=this.meshData.indexData.length}static writeAllMeshDataToBuffers(t,e,s){let r=0,i=0;for(const o of t)o.writeMeshDataToBuffers(r,e,i,s),r+=o.vertexCount,i+=o.indexCount}_computeSortKey(){this._sortKey=(31&this.symbolLevel)<<12|(127&this.zOrder)<<4|7&this.geometryType}serialize(t){return t.push(this.geometryType),t.push(this.materialKey),t.push(this.vertexFrom),t.push(this.vertexCount),t.push(this.indexFrom),t.push(this.indexCount),t.push(this.minZoom),t.push(this.maxZoom),t}static deserialize(t,e){const r=t.readInt32(),i=t.readInt32(),o=new s(e.id,r,i);return o.vertexFrom=t.readInt32(),o.vertexCount=t.readInt32(),o.indexFrom=t.readInt32(),o.indexCount=t.readInt32(),o.minZoom=t.readInt32(),o.maxZoom=t.readInt32(),o}}export{s as default};\n"]},"metadata":{},"sourceType":"module"}