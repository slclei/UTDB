{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { CapType as t } from \"../../../../../symbols/cim/enums.js\";\nimport { ShaderProgramType as i } from \"../enums.js\";\nimport { VTLBackgroundMaterial as e } from \"../shaders/VTLBackgroundMaterial.js\";\nimport { VTLCircleMaterial as a } from \"../shaders/VTLCircleMaterial.js\";\nimport { VTLFillMaterial as o, VTLOutlineMaterial as r } from \"../shaders/VTLFillMaterial.js\";\nimport { VTLLineMaterial as s } from \"../shaders/VTLLineMaterial.js\";\nimport { VTLIconMaterial as n, VTLTextMaterial as l } from \"../shaders/VTLSymbolMaterial.js\";\nimport h from \"./Filter.js\";\nimport { StyleLayerType as u, StyleDefinition as p, RotationAlignment as g } from \"./StyleDefinition.js\";\nimport y from \"./StyleProperty.js\";\nimport { THIN_LINE_HALF_WIDTH_THRESHOLD as D } from \"../../webgl/definitions.js\";\n\nclass P {\n  constructor(t, i, e, a) {\n    switch (this.type = t, this.typeName = i.type, this.id = i.id, this.source = i.source, this.sourceLayer = i[\"source-layer\"], this.minzoom = i.minzoom, this.maxzoom = i.maxzoom, this.filter = i.filter, this.layout = i.layout, this.paint = i.paint, this.z = e, this.uid = a, t) {\n      case u.BACKGROUND:\n        this._layoutDefinition = p.backgroundLayoutDefinition, this._paintDefinition = p.backgroundPaintDefinition;\n        break;\n\n      case u.FILL:\n        this._layoutDefinition = p.fillLayoutDefinition, this._paintDefinition = p.fillPaintDefinition;\n        break;\n\n      case u.LINE:\n        this._layoutDefinition = p.lineLayoutDefinition, this._paintDefinition = p.linePaintDefinition;\n        break;\n\n      case u.SYMBOL:\n        this._layoutDefinition = p.symbolLayoutDefinition, this._paintDefinition = p.symbolPaintDefinition;\n        break;\n\n      case u.CIRCLE:\n        this._layoutDefinition = p.circleLayoutDefinition, this._paintDefinition = p.circlePaintDefinition;\n    }\n\n    this._layoutProperties = this._parseLayout(this.layout), this._paintProperties = this._parsePaint(this.paint);\n  }\n\n  getFeatureFilter() {\n    return void 0 !== this._featureFilter ? this._featureFilter : this._featureFilter = h.createFilter(this.filter);\n  }\n\n  getLayoutProperty(t) {\n    return this._layoutProperties[t];\n  }\n\n  getPaintProperty(t) {\n    return this._paintProperties[t];\n  }\n\n  getLayoutValue(t, i, e) {\n    let a;\n    const o = this._layoutProperties[t];\n    return o && (a = o.getValue(i, e)), void 0 === a && (a = this._layoutDefinition[t].default), a;\n  }\n\n  getPaintValue(t, i, e) {\n    let a;\n    const o = this._paintProperties[t];\n    return o && (a = o.getValue(i, e)), void 0 === a && (a = this._paintDefinition[t].default), a;\n  }\n\n  isPainterDataDriven() {\n    const t = this._paintProperties;\n    if (t) for (const i in t) if (t[i].isDataDriven) return !0;\n    return !1;\n  }\n\n  _parseLayout(t) {\n    const i = {};\n\n    for (const e in t) {\n      const a = this._layoutDefinition[e];\n      a && (i[e] = new y(a, t[e]));\n    }\n\n    return i;\n  }\n\n  _parsePaint(t) {\n    const i = {};\n\n    for (const e in t) {\n      const a = this._paintDefinition[e];\n      a && (i[e] = new y(a, t[e]));\n    }\n\n    return i;\n  }\n\n  computeAttributesKey(t, i, e, a) {\n    let o = 0,\n        r = 0;\n\n    for (const s of i) {\n      let t = 3;\n\n      if (!s || s !== a) {\n        const i = e[s],\n              {\n          isLayout: a,\n          isOptional: o\n        } = i,\n              r = a ? this.getLayoutProperty(s) : this.getPaintProperty(s);\n        t = null != r && r.interpolator ? 2 : null != r && r.isDataDriven ? 1 : o && !r ? 3 : 0;\n      }\n\n      r |= t << o, o += 2;\n    }\n\n    return r << 3 | t;\n  }\n\n}\n\nclass c extends P {\n  constructor(t, a, o, r) {\n    super(t, a, o, r), this.backgroundMaterial = new e(this.computeAttributesKey(i.BACKGROUND, e.ATTRIBUTES, e.ATTRIBUTES_INFO));\n  }\n\n}\n\nclass f extends P {\n  constructor(t, e, a, s) {\n    super(t, e, a, s);\n    const n = this.getPaintProperty(\"fill-color\"),\n          l = this.getPaintProperty(\"fill-opacity\"),\n          h = this.getPaintProperty(\"fill-pattern\");\n    this.hasDataDrivenColor = null == n ? void 0 : n.isDataDriven, this.hasDataDrivenOpacity = null == l ? void 0 : l.isDataDriven, this.hasDataDrivenFill = this.hasDataDrivenColor || this.hasDataDrivenOpacity || (null == h ? void 0 : h.isDataDriven);\n    const u = this.getPaintProperty(\"fill-outline-color\");\n    this.outlineUsesFillColor = !u, this.hasDataDrivenOutlineColor = null == u ? void 0 : u.isDataDriven, this.hasDataDrivenOutline = u ? u.isDataDriven : !!n && n.isDataDriven, this.hasDataDrivenOutline = (u ? this.hasDataDrivenOutlineColor : this.hasDataDrivenColor) || this.hasDataDrivenOpacity, this.fillMaterial = new o(this.computeAttributesKey(i.FILL, o.ATTRIBUTES, o.ATTRIBUTES_INFO)), this.outlineMaterial = new r(this.computeAttributesKey(i.OUTLINE, this.outlineUsesFillColor ? r.ATTRIBUTES_FILL : r.ATTRIBUTES_OUTLINE, this.outlineUsesFillColor ? r.ATTRIBUTES_INFO_FILL : r.ATTRIBUTES_INFO_OUTLINE), this.outlineUsesFillColor);\n  }\n\n}\n\nclass d extends P {\n  constructor(t, e, a, o) {\n    var r, n, l, h, u, p, g, y, P;\n    super(t, e, a, o);\n    const c = this.getPaintProperty(\"line-pattern\");\n\n    if (this.lineMaterial = new s(this.computeAttributesKey(i.LINE, s.ATTRIBUTES, s.ATTRIBUTES_INFO, c ? \"line-dasharray\" : \"\")), this.hasDataDrivenLine = (null == (r = this.getPaintProperty(\"line-blur\")) ? void 0 : r.isDataDriven) || (null == (n = this.getPaintProperty(\"line-color\")) ? void 0 : n.isDataDriven) || (null == (l = this.getPaintProperty(\"line-gap-width\")) ? void 0 : l.isDataDriven) || (null == (h = this.getPaintProperty(\"line-offset\")) ? void 0 : h.isDataDriven) || (null == (u = this.getPaintProperty(\"line-opacity\")) ? void 0 : u.isDataDriven) || (null == (p = this.getPaintProperty(\"line-pattern\")) ? void 0 : p.isDataDriven) || (null == (g = this.getPaintProperty(\"line-dasharray\")) ? void 0 : g.isDataDriven) || (null == (y = this.getLayoutProperty(\"line-cap\")) ? void 0 : y.isDataDriven) || (null == (P = this.getPaintProperty(\"line-width\")) ? void 0 : P.isDataDriven), this.canUseThinTessellation = !1, !this.hasDataDrivenLine) {\n      const t = this.getPaintProperty(\"line-width\");\n\n      if (!t || \"number\" == typeof t && .5 * t < D) {\n        const t = this.getPaintProperty(\"line-offset\");\n        (!t || \"number\" == typeof t && 0 === t) && (this.canUseThinTessellation = !0);\n      }\n    }\n  }\n\n  getDashKey(i, e) {\n    let a;\n\n    switch (e) {\n      case t.BUTT:\n        a = \"Butt\";\n        break;\n\n      case t.ROUND:\n        a = \"Round\";\n        break;\n\n      case t.SQUARE:\n        a = \"Square\";\n        break;\n\n      default:\n        a = \"Butt\";\n    }\n\n    return `dasharray-[${i.toString()}]-${a}`;\n  }\n\n}\n\nclass v extends P {\n  constructor(t, e, a, o) {\n    var r, s, h, u, p, g, y, D, P, c, f, d;\n    super(t, e, a, o), this.iconMaterial = new n(this.computeAttributesKey(i.ICON, n.ATTRIBUTES, n.ATTRIBUTES_INFO)), this.textMaterial = new l(this.computeAttributesKey(i.TEXT, l.ATTRIBUTES, l.ATTRIBUTES_INFO)), this.hasDataDrivenIcon = (null == (r = this.getPaintProperty(\"icon-color\")) ? void 0 : r.isDataDriven) || (null == (s = this.getPaintProperty(\"icon-halo-blur\")) ? void 0 : s.isDataDriven) || (null == (h = this.getPaintProperty(\"icon-halo-color\")) ? void 0 : h.isDataDriven) || (null == (u = this.getPaintProperty(\"icon-halo-width\")) ? void 0 : u.isDataDriven) || (null == (p = this.getPaintProperty(\"icon-opacity\")) ? void 0 : p.isDataDriven) || (null == (g = this.getLayoutProperty(\"icon-size\")) ? void 0 : g.isDataDriven), this.hasDataDrivenText = (null == (y = this.getPaintProperty(\"text-color\")) ? void 0 : y.isDataDriven) || (null == (D = this.getPaintProperty(\"text-halo-blur\")) ? void 0 : D.isDataDriven) || (null == (P = this.getPaintProperty(\"text-halo-color\")) ? void 0 : P.isDataDriven) || (null == (c = this.getPaintProperty(\"text-halo-width\")) ? void 0 : c.isDataDriven) || (null == (f = this.getPaintProperty(\"text-opacity\")) ? void 0 : f.isDataDriven) || (null == (d = this.getLayoutProperty(\"text-size\")) ? void 0 : d.isDataDriven);\n  }\n\n}\n\nclass _ extends P {\n  constructor(t, e, o, r) {\n    super(t, e, o, r), this.circleMaterial = new a(this.computeAttributesKey(i.CIRCLE, a.ATTRIBUTES, a.ATTRIBUTES_INFO));\n  }\n\n}\n\nclass L {\n  constructor(t, i, e) {\n    var a, o, r, s, n;\n    let l;\n    this.allowOverlap = t.getLayoutValue(\"icon-allow-overlap\", i), this.ignorePlacement = t.getLayoutValue(\"icon-ignore-placement\", i), this.keepUpright = t.getLayoutValue(\"icon-keep-upright\", i), this.optional = t.getLayoutValue(\"icon-optional\", i), this.rotationAlignment = t.getLayoutValue(\"icon-rotation-alignment\", i), this.rotationAlignment === g.AUTO && (this.rotationAlignment = e ? g.MAP : g.VIEWPORT), l = t.getLayoutProperty(\"icon-anchor\"), null != (a = l) && a.isDataDriven ? this._anchorProp = l : this.anchor = t.getLayoutValue(\"icon-anchor\", i), l = t.getLayoutProperty(\"icon-offset\"), null != (o = l) && o.isDataDriven ? this._offsetProp = l : this.offset = t.getLayoutValue(\"icon-offset\", i), l = t.getLayoutProperty(\"icon-padding\"), null != (r = l) && r.isDataDriven ? this._paddingProp = l : this.padding = t.getLayoutValue(\"icon-padding\", i), l = t.getLayoutProperty(\"icon-rotate\"), null != (s = l) && s.isDataDriven ? this._rotateProp = l : this.rotate = t.getLayoutValue(\"icon-rotate\", i), l = t.getLayoutProperty(\"icon-size\"), null != (n = l) && n.isDataDriven ? this._sizeProp = l : this.size = t.getLayoutValue(\"icon-size\", i);\n  }\n\n  update(t, i) {\n    this._anchorProp && (this.anchor = this._anchorProp.getValue(t, i)), this._offsetProp && (this.offset = this._offsetProp.getValue(t, i)), this._paddingProp && (this.padding = this._paddingProp.getValue(t, i)), this._rotateProp && (this.rotate = this._rotateProp.getValue(t, i)), this._sizeProp && (this.size = this._sizeProp.getValue(t, i));\n  }\n\n}\n\nclass m {\n  constructor(t, i, e) {\n    var a, o, r, s, n, l, h, u, p, y, D;\n    let P;\n    this.allowOverlap = t.getLayoutValue(\"text-allow-overlap\", i), this.ignorePlacement = t.getLayoutValue(\"text-ignore-placement\", i), this.keepUpright = t.getLayoutValue(\"text-keep-upright\", i), this.optional = t.getLayoutValue(\"text-optional\", i), this.rotationAlignment = t.getLayoutValue(\"text-rotation-alignment\", i), this.rotationAlignment === g.AUTO && (this.rotationAlignment = e ? g.MAP : g.VIEWPORT), P = t.getLayoutProperty(\"text-anchor\"), null != (a = P) && a.isDataDriven ? this._anchorProp = P : this.anchor = t.getLayoutValue(\"text-anchor\", i), P = t.getLayoutProperty(\"text-justify\"), null != (o = P) && o.isDataDriven ? this._justifyProp = P : this.justify = t.getLayoutValue(\"text-justify\", i), P = t.getLayoutProperty(\"text-letter-spacing\"), null != (r = P) && r.isDataDriven ? this._letterSpacingProp = P : this.letterSpacing = t.getLayoutValue(\"text-letter-spacing\", i), P = t.getLayoutProperty(\"text-line-height\"), null != (s = P) && s.isDataDriven ? this._lineHeightProp = P : this.lineHeight = t.getLayoutValue(\"text-line-height\", i), P = t.getLayoutProperty(\"text-max-angle\"), null != (n = P) && n.isDataDriven ? this._maxAngleProp = P : this.maxAngle = t.getLayoutValue(\"text-max-angle\", i), P = t.getLayoutProperty(\"text-max-width\"), null != (l = P) && l.isDataDriven ? this._maxWidthProp = P : this.maxWidth = t.getLayoutValue(\"text-max-width\", i), P = t.getLayoutProperty(\"text-offset\"), null != (h = P) && h.isDataDriven ? this._offsetProp = P : this.offset = t.getLayoutValue(\"text-offset\", i), P = t.getLayoutProperty(\"text-padding\"), null != (u = P) && u.isDataDriven ? this._paddingProp = P : this.padding = t.getLayoutValue(\"text-padding\", i), P = t.getLayoutProperty(\"text-rotate\"), null != (p = P) && p.isDataDriven ? this._rotateProp = P : this.rotate = t.getLayoutValue(\"text-rotate\", i), P = t.getLayoutProperty(\"text-size\"), null != (y = P) && y.isDataDriven ? this._sizeProp = P : this.size = t.getLayoutValue(\"text-size\", i), P = t.getLayoutProperty(\"text-writing-mode\"), null != (D = P) && D.isDataDriven ? this._writingModeProp = P : this.writingMode = t.getLayoutValue(\"text-writing-mode\", i);\n  }\n\n  update(t, i) {\n    this._anchorProp && (this.anchor = this._anchorProp.getValue(t, i)), this._justifyProp && (this.justify = this._justifyProp.getValue(t, i)), this._letterSpacingProp && (this.letterSpacing = this._letterSpacingProp.getValue(t, i)), this._lineHeightProp && (this.lineHeight = this._lineHeightProp.getValue(t, i)), this._maxAngleProp && (this.maxAngle = this._maxAngleProp.getValue(t, i)), this._maxWidthProp && (this.maxWidth = this._maxWidthProp.getValue(t, i)), this._offsetProp && (this.offset = this._offsetProp.getValue(t, i)), this._paddingProp && (this.padding = this._paddingProp.getValue(t, i)), this._rotateProp && (this.rotate = this._rotateProp.getValue(t, i)), this._sizeProp && (this.size = this._sizeProp.getValue(t, i)), this._writingModeProp && (this.writingMode = this._writingModeProp.getValue(t, i));\n  }\n\n}\n\nexport { c as BackgroundStyleLayer, _ as CircleStyleLayer, f as FillStyleLayer, L as IconLayout, d as LineStyleLayer, P as StyleLayer, v as SymbolStyleLayer, m as TextLayout };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleLayer.js"],"names":["CapType","t","ShaderProgramType","i","VTLBackgroundMaterial","e","VTLCircleMaterial","a","VTLFillMaterial","o","VTLOutlineMaterial","r","VTLLineMaterial","s","VTLIconMaterial","n","VTLTextMaterial","l","h","StyleLayerType","u","StyleDefinition","p","RotationAlignment","g","y","THIN_LINE_HALF_WIDTH_THRESHOLD","D","P","constructor","type","typeName","id","source","sourceLayer","minzoom","maxzoom","filter","layout","paint","z","uid","BACKGROUND","_layoutDefinition","backgroundLayoutDefinition","_paintDefinition","backgroundPaintDefinition","FILL","fillLayoutDefinition","fillPaintDefinition","LINE","lineLayoutDefinition","linePaintDefinition","SYMBOL","symbolLayoutDefinition","symbolPaintDefinition","CIRCLE","circleLayoutDefinition","circlePaintDefinition","_layoutProperties","_parseLayout","_paintProperties","_parsePaint","getFeatureFilter","_featureFilter","createFilter","getLayoutProperty","getPaintProperty","getLayoutValue","getValue","default","getPaintValue","isPainterDataDriven","isDataDriven","computeAttributesKey","isLayout","isOptional","interpolator","c","backgroundMaterial","ATTRIBUTES","ATTRIBUTES_INFO","f","hasDataDrivenColor","hasDataDrivenOpacity","hasDataDrivenFill","outlineUsesFillColor","hasDataDrivenOutlineColor","hasDataDrivenOutline","fillMaterial","outlineMaterial","OUTLINE","ATTRIBUTES_FILL","ATTRIBUTES_OUTLINE","ATTRIBUTES_INFO_FILL","ATTRIBUTES_INFO_OUTLINE","d","lineMaterial","hasDataDrivenLine","canUseThinTessellation","getDashKey","BUTT","ROUND","SQUARE","toString","v","iconMaterial","ICON","textMaterial","TEXT","hasDataDrivenIcon","hasDataDrivenText","_","circleMaterial","L","allowOverlap","ignorePlacement","keepUpright","optional","rotationAlignment","AUTO","MAP","VIEWPORT","_anchorProp","anchor","_offsetProp","offset","_paddingProp","padding","_rotateProp","rotate","_sizeProp","size","update","m","_justifyProp","justify","_letterSpacingProp","letterSpacing","_lineHeightProp","lineHeight","_maxAngleProp","maxAngle","_maxWidthProp","maxWidth","_writingModeProp","writingMode","BackgroundStyleLayer","CircleStyleLayer","FillStyleLayer","IconLayout","LineStyleLayer","StyleLayer","SymbolStyleLayer","TextLayout"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{CapType as t}from\"../../../../../symbols/cim/enums.js\";import{ShaderProgramType as i}from\"../enums.js\";import{VTLBackgroundMaterial as e}from\"../shaders/VTLBackgroundMaterial.js\";import{VTLCircleMaterial as a}from\"../shaders/VTLCircleMaterial.js\";import{VTLFillMaterial as o,VTLOutlineMaterial as r}from\"../shaders/VTLFillMaterial.js\";import{VTLLineMaterial as s}from\"../shaders/VTLLineMaterial.js\";import{VTLIconMaterial as n,VTLTextMaterial as l}from\"../shaders/VTLSymbolMaterial.js\";import h from\"./Filter.js\";import{StyleLayerType as u,StyleDefinition as p,RotationAlignment as g}from\"./StyleDefinition.js\";import y from\"./StyleProperty.js\";import{THIN_LINE_HALF_WIDTH_THRESHOLD as D}from\"../../webgl/definitions.js\";class P{constructor(t,i,e,a){switch(this.type=t,this.typeName=i.type,this.id=i.id,this.source=i.source,this.sourceLayer=i[\"source-layer\"],this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,this.filter=i.filter,this.layout=i.layout,this.paint=i.paint,this.z=e,this.uid=a,t){case u.BACKGROUND:this._layoutDefinition=p.backgroundLayoutDefinition,this._paintDefinition=p.backgroundPaintDefinition;break;case u.FILL:this._layoutDefinition=p.fillLayoutDefinition,this._paintDefinition=p.fillPaintDefinition;break;case u.LINE:this._layoutDefinition=p.lineLayoutDefinition,this._paintDefinition=p.linePaintDefinition;break;case u.SYMBOL:this._layoutDefinition=p.symbolLayoutDefinition,this._paintDefinition=p.symbolPaintDefinition;break;case u.CIRCLE:this._layoutDefinition=p.circleLayoutDefinition,this._paintDefinition=p.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=h.createFilter(this.filter)}getLayoutProperty(t){return this._layoutProperties[t]}getPaintProperty(t){return this._paintProperties[t]}getLayoutValue(t,i,e){let a;const o=this._layoutProperties[t];return o&&(a=o.getValue(i,e)),void 0===a&&(a=this._layoutDefinition[t].default),a}getPaintValue(t,i,e){let a;const o=this._paintProperties[t];return o&&(a=o.getValue(i,e)),void 0===a&&(a=this._paintDefinition[t].default),a}isPainterDataDriven(){const t=this._paintProperties;if(t)for(const i in t)if(t[i].isDataDriven)return!0;return!1}_parseLayout(t){const i={};for(const e in t){const a=this._layoutDefinition[e];a&&(i[e]=new y(a,t[e]))}return i}_parsePaint(t){const i={};for(const e in t){const a=this._paintDefinition[e];a&&(i[e]=new y(a,t[e]))}return i}computeAttributesKey(t,i,e,a){let o=0,r=0;for(const s of i){let t=3;if(!s||s!==a){const i=e[s],{isLayout:a,isOptional:o}=i,r=a?this.getLayoutProperty(s):this.getPaintProperty(s);t=null!=r&&r.interpolator?2:null!=r&&r.isDataDriven?1:o&&!r?3:0}r|=t<<o,o+=2}return r<<3|t}}class c extends P{constructor(t,a,o,r){super(t,a,o,r),this.backgroundMaterial=new e(this.computeAttributesKey(i.BACKGROUND,e.ATTRIBUTES,e.ATTRIBUTES_INFO))}}class f extends P{constructor(t,e,a,s){super(t,e,a,s);const n=this.getPaintProperty(\"fill-color\"),l=this.getPaintProperty(\"fill-opacity\"),h=this.getPaintProperty(\"fill-pattern\");this.hasDataDrivenColor=null==n?void 0:n.isDataDriven,this.hasDataDrivenOpacity=null==l?void 0:l.isDataDriven,this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||(null==h?void 0:h.isDataDriven);const u=this.getPaintProperty(\"fill-outline-color\");this.outlineUsesFillColor=!u,this.hasDataDrivenOutlineColor=null==u?void 0:u.isDataDriven,this.hasDataDrivenOutline=u?u.isDataDriven:!!n&&n.isDataDriven,this.hasDataDrivenOutline=(u?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity,this.fillMaterial=new o(this.computeAttributesKey(i.FILL,o.ATTRIBUTES,o.ATTRIBUTES_INFO)),this.outlineMaterial=new r(this.computeAttributesKey(i.OUTLINE,this.outlineUsesFillColor?r.ATTRIBUTES_FILL:r.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?r.ATTRIBUTES_INFO_FILL:r.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}}class d extends P{constructor(t,e,a,o){var r,n,l,h,u,p,g,y,P;super(t,e,a,o);const c=this.getPaintProperty(\"line-pattern\");if(this.lineMaterial=new s(this.computeAttributesKey(i.LINE,s.ATTRIBUTES,s.ATTRIBUTES_INFO,c?\"line-dasharray\":\"\")),this.hasDataDrivenLine=(null==(r=this.getPaintProperty(\"line-blur\"))?void 0:r.isDataDriven)||(null==(n=this.getPaintProperty(\"line-color\"))?void 0:n.isDataDriven)||(null==(l=this.getPaintProperty(\"line-gap-width\"))?void 0:l.isDataDriven)||(null==(h=this.getPaintProperty(\"line-offset\"))?void 0:h.isDataDriven)||(null==(u=this.getPaintProperty(\"line-opacity\"))?void 0:u.isDataDriven)||(null==(p=this.getPaintProperty(\"line-pattern\"))?void 0:p.isDataDriven)||(null==(g=this.getPaintProperty(\"line-dasharray\"))?void 0:g.isDataDriven)||(null==(y=this.getLayoutProperty(\"line-cap\"))?void 0:y.isDataDriven)||(null==(P=this.getPaintProperty(\"line-width\"))?void 0:P.isDataDriven),this.canUseThinTessellation=!1,!this.hasDataDrivenLine){const t=this.getPaintProperty(\"line-width\");if(!t||\"number\"==typeof t&&.5*t<D){const t=this.getPaintProperty(\"line-offset\");(!t||\"number\"==typeof t&&0===t)&&(this.canUseThinTessellation=!0)}}}getDashKey(i,e){let a;switch(e){case t.BUTT:a=\"Butt\";break;case t.ROUND:a=\"Round\";break;case t.SQUARE:a=\"Square\";break;default:a=\"Butt\"}return`dasharray-[${i.toString()}]-${a}`}}class v extends P{constructor(t,e,a,o){var r,s,h,u,p,g,y,D,P,c,f,d;super(t,e,a,o),this.iconMaterial=new n(this.computeAttributesKey(i.ICON,n.ATTRIBUTES,n.ATTRIBUTES_INFO)),this.textMaterial=new l(this.computeAttributesKey(i.TEXT,l.ATTRIBUTES,l.ATTRIBUTES_INFO)),this.hasDataDrivenIcon=(null==(r=this.getPaintProperty(\"icon-color\"))?void 0:r.isDataDriven)||(null==(s=this.getPaintProperty(\"icon-halo-blur\"))?void 0:s.isDataDriven)||(null==(h=this.getPaintProperty(\"icon-halo-color\"))?void 0:h.isDataDriven)||(null==(u=this.getPaintProperty(\"icon-halo-width\"))?void 0:u.isDataDriven)||(null==(p=this.getPaintProperty(\"icon-opacity\"))?void 0:p.isDataDriven)||(null==(g=this.getLayoutProperty(\"icon-size\"))?void 0:g.isDataDriven),this.hasDataDrivenText=(null==(y=this.getPaintProperty(\"text-color\"))?void 0:y.isDataDriven)||(null==(D=this.getPaintProperty(\"text-halo-blur\"))?void 0:D.isDataDriven)||(null==(P=this.getPaintProperty(\"text-halo-color\"))?void 0:P.isDataDriven)||(null==(c=this.getPaintProperty(\"text-halo-width\"))?void 0:c.isDataDriven)||(null==(f=this.getPaintProperty(\"text-opacity\"))?void 0:f.isDataDriven)||(null==(d=this.getLayoutProperty(\"text-size\"))?void 0:d.isDataDriven)}}class _ extends P{constructor(t,e,o,r){super(t,e,o,r),this.circleMaterial=new a(this.computeAttributesKey(i.CIRCLE,a.ATTRIBUTES,a.ATTRIBUTES_INFO))}}class L{constructor(t,i,e){var a,o,r,s,n;let l;this.allowOverlap=t.getLayoutValue(\"icon-allow-overlap\",i),this.ignorePlacement=t.getLayoutValue(\"icon-ignore-placement\",i),this.keepUpright=t.getLayoutValue(\"icon-keep-upright\",i),this.optional=t.getLayoutValue(\"icon-optional\",i),this.rotationAlignment=t.getLayoutValue(\"icon-rotation-alignment\",i),this.rotationAlignment===g.AUTO&&(this.rotationAlignment=e?g.MAP:g.VIEWPORT),l=t.getLayoutProperty(\"icon-anchor\"),null!=(a=l)&&a.isDataDriven?this._anchorProp=l:this.anchor=t.getLayoutValue(\"icon-anchor\",i),l=t.getLayoutProperty(\"icon-offset\"),null!=(o=l)&&o.isDataDriven?this._offsetProp=l:this.offset=t.getLayoutValue(\"icon-offset\",i),l=t.getLayoutProperty(\"icon-padding\"),null!=(r=l)&&r.isDataDriven?this._paddingProp=l:this.padding=t.getLayoutValue(\"icon-padding\",i),l=t.getLayoutProperty(\"icon-rotate\"),null!=(s=l)&&s.isDataDriven?this._rotateProp=l:this.rotate=t.getLayoutValue(\"icon-rotate\",i),l=t.getLayoutProperty(\"icon-size\"),null!=(n=l)&&n.isDataDriven?this._sizeProp=l:this.size=t.getLayoutValue(\"icon-size\",i)}update(t,i){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,i)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,i)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,i)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,i)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,i))}}class m{constructor(t,i,e){var a,o,r,s,n,l,h,u,p,y,D;let P;this.allowOverlap=t.getLayoutValue(\"text-allow-overlap\",i),this.ignorePlacement=t.getLayoutValue(\"text-ignore-placement\",i),this.keepUpright=t.getLayoutValue(\"text-keep-upright\",i),this.optional=t.getLayoutValue(\"text-optional\",i),this.rotationAlignment=t.getLayoutValue(\"text-rotation-alignment\",i),this.rotationAlignment===g.AUTO&&(this.rotationAlignment=e?g.MAP:g.VIEWPORT),P=t.getLayoutProperty(\"text-anchor\"),null!=(a=P)&&a.isDataDriven?this._anchorProp=P:this.anchor=t.getLayoutValue(\"text-anchor\",i),P=t.getLayoutProperty(\"text-justify\"),null!=(o=P)&&o.isDataDriven?this._justifyProp=P:this.justify=t.getLayoutValue(\"text-justify\",i),P=t.getLayoutProperty(\"text-letter-spacing\"),null!=(r=P)&&r.isDataDriven?this._letterSpacingProp=P:this.letterSpacing=t.getLayoutValue(\"text-letter-spacing\",i),P=t.getLayoutProperty(\"text-line-height\"),null!=(s=P)&&s.isDataDriven?this._lineHeightProp=P:this.lineHeight=t.getLayoutValue(\"text-line-height\",i),P=t.getLayoutProperty(\"text-max-angle\"),null!=(n=P)&&n.isDataDriven?this._maxAngleProp=P:this.maxAngle=t.getLayoutValue(\"text-max-angle\",i),P=t.getLayoutProperty(\"text-max-width\"),null!=(l=P)&&l.isDataDriven?this._maxWidthProp=P:this.maxWidth=t.getLayoutValue(\"text-max-width\",i),P=t.getLayoutProperty(\"text-offset\"),null!=(h=P)&&h.isDataDriven?this._offsetProp=P:this.offset=t.getLayoutValue(\"text-offset\",i),P=t.getLayoutProperty(\"text-padding\"),null!=(u=P)&&u.isDataDriven?this._paddingProp=P:this.padding=t.getLayoutValue(\"text-padding\",i),P=t.getLayoutProperty(\"text-rotate\"),null!=(p=P)&&p.isDataDriven?this._rotateProp=P:this.rotate=t.getLayoutValue(\"text-rotate\",i),P=t.getLayoutProperty(\"text-size\"),null!=(y=P)&&y.isDataDriven?this._sizeProp=P:this.size=t.getLayoutValue(\"text-size\",i),P=t.getLayoutProperty(\"text-writing-mode\"),null!=(D=P)&&D.isDataDriven?this._writingModeProp=P:this.writingMode=t.getLayoutValue(\"text-writing-mode\",i)}update(t,i){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,i)),this._justifyProp&&(this.justify=this._justifyProp.getValue(t,i)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(t,i)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(t,i)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(t,i)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(t,i)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,i)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,i)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,i)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,i)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(t,i))}}export{c as BackgroundStyleLayer,_ as CircleStyleLayer,f as FillStyleLayer,L as IconLayout,d as LineStyleLayer,P as StyleLayer,v as SymbolStyleLayer,m as TextLayout};\n"]},"metadata":{},"sourceType":"module"}