{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/Evented.js\";\nimport t from \"../../../core/has.js\";\nimport { isNone as s } from \"../../../core/maybe.js\";\nimport { createResolver as i } from \"../../../core/promiseUtils.js\";\nconst r = 1 / t(\"mapview-transitions-duration\");\n\nclass a extends e {\n  constructor() {\n    super(...arguments), this._fadeOutResolver = null, this._fadeInResolver = null, this._clips = null, this.computedVisible = !0, this.computedOpacity = 1, this.fadeTransitionEnabled = !1, this.inFadeTransition = !1, this._isReady = !1, this._opacity = 1, this._stage = null, this._visible = !0;\n  }\n\n  get clips() {\n    return this._clips;\n  }\n\n  set clips(e) {\n    this._clips = e, this.requestRender();\n  }\n\n  get isReady() {\n    return this._isReady;\n  }\n\n  get opacity() {\n    return this._opacity;\n  }\n\n  set opacity(e) {\n    this._opacity !== e && (this._opacity = Math.min(1, Math.max(e, 0)), this.requestRender());\n  }\n\n  get stage() {\n    return this._stage;\n  }\n\n  set stage(e) {\n    if (this._stage === e) return;\n    const t = this._stage;\n    this._stage = e, e ? this._stage.untrashDisplayObject(this) || (this.onAttach(), this.emit(\"attach\")) : t.trashDisplayObject(this);\n  }\n\n  get transforms() {\n    return this._getTransforms();\n  }\n\n  _getTransforms() {\n    return s(this._transforms) && (this._transforms = this._createTransforms()), this._transforms;\n  }\n\n  get visible() {\n    return this._visible;\n  }\n\n  set visible(e) {\n    this._visible !== e && (this._visible = e, this.requestRender());\n  }\n\n  fadeIn() {\n    return this._fadeInResolver || (this._fadeOutResolver && (this._fadeOutResolver(), this._fadeOutResolver = null), this.computedOpacity = 0, this.fadeTransitionEnabled = !0, this._fadeInResolver = i(), this.requestRender()), this._fadeInResolver.promise;\n  }\n\n  fadeOut() {\n    return this._fadeOutResolver || (this._fadeInResolver && (this._fadeInResolver(), this._fadeInResolver = null), this.fadeTransitionEnabled = !0, this._fadeOutResolver = i(), this.requestRender()), this._fadeOutResolver.promise;\n  }\n\n  beforeRender(e) {\n    this.updateTransitionProperties(e.deltaTime, e.state.scale);\n  }\n\n  afterRender(e) {\n    this._fadeInResolver && this.computedOpacity === this.opacity ? (this._fadeInResolver(), this._fadeInResolver = null) : this._fadeOutResolver && 0 === this.computedOpacity && (this._fadeOutResolver(), this._fadeOutResolver = null);\n  }\n\n  remove() {\n    var e;\n    null == (e = this.parent) || e.removeChild(this);\n  }\n\n  setTransform(e) {}\n\n  processRender(e) {\n    this.stage && this.computedVisible && this.doRender(e);\n  }\n\n  requestRender() {\n    this.stage && this.stage.requestRender();\n  }\n\n  processDetach() {\n    this._fadeInResolver && (this._fadeInResolver(), this._fadeInResolver = null), this._fadeOutResolver && (this._fadeOutResolver(), this._fadeOutResolver = null), this.onDetach(), this.emit(\"detach\");\n  }\n\n  updateTransitionProperties(e, t) {\n    if (this.fadeTransitionEnabled) {\n      const t = this._fadeOutResolver || !this.visible ? 0 : this.opacity,\n            s = this.computedOpacity;\n      if (s === t) this.computedVisible = this.visible;else {\n        const i = e * r;\n        this.computedOpacity = s > t ? Math.max(t, s - i) : Math.min(t, s + i), this.computedVisible = this.computedOpacity > 0;\n        const a = t === this.computedOpacity;\n        this.inFadeTransition = !a, a || this.requestRender();\n      }\n    } else this.computedOpacity = this.opacity, this.computedVisible = this.visible;\n  }\n\n  onAttach() {}\n\n  onDetach() {}\n\n  doRender(e) {}\n\n  ready() {\n    this._isReady || (this._isReady = !0, this.emit(\"isReady\"), this.requestRender());\n  }\n\n}\n\nexport { a as DisplayObject };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/views/2d/engine/DisplayObject.js"],"names":["e","t","isNone","s","createResolver","i","r","a","constructor","arguments","_fadeOutResolver","_fadeInResolver","_clips","computedVisible","computedOpacity","fadeTransitionEnabled","inFadeTransition","_isReady","_opacity","_stage","_visible","clips","requestRender","isReady","opacity","Math","min","max","stage","untrashDisplayObject","onAttach","emit","trashDisplayObject","transforms","_getTransforms","_transforms","_createTransforms","visible","fadeIn","promise","fadeOut","beforeRender","updateTransitionProperties","deltaTime","state","scale","afterRender","remove","parent","removeChild","setTransform","processRender","doRender","processDetach","onDetach","ready","DisplayObject"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import t from\"../../../core/has.js\";import{isNone as s}from\"../../../core/maybe.js\";import{createResolver as i}from\"../../../core/promiseUtils.js\";const r=1/t(\"mapview-transitions-duration\");class a extends e{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit(\"attach\")):t.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return s(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=i(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=i(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){var e;null==(e=this.parent)||e.removeChild(this)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit(\"detach\")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,s=this.computedOpacity;if(s===t)this.computedVisible=this.visible;else{const i=e*r;this.computedOpacity=s>t?Math.max(t,s-i):Math.min(t,s+i),this.computedVisible=this.computedOpacity>0;const a=t===this.computedOpacity;this.inFadeTransition=!a,a||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit(\"isReady\"),this.requestRender())}}export{a as DisplayObject};\n"]},"metadata":{},"sourceType":"module"}