{"ast":null,"code":"/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport { GeometricEffectOffsetMethod as t } from \"./enums.js\";\nconst e = .03;\n\nclass s {\n  constructor() {\n    this._path = [];\n  }\n\n  path() {\n    return this._path;\n  }\n\n  addPath(t, e) {\n    e || t.reverse(), Array.prototype.push.apply(this._path, t), e || t.reverse();\n  }\n\n  static mergePath(t, e) {\n    e && Array.prototype.push.apply(t, e);\n  }\n\n  startPath(t) {\n    this._path.push(t);\n  }\n\n  lineTo(t) {\n    this._path.push(t);\n  }\n\n  close() {\n    const t = this._path;\n    t.length > 1 && (t[0][0] === t[t.length - 1][0] && t[0][1] === t[t.length - 1][1] || t.push([t[0][0], t[0][1]]));\n  }\n\n}\n\nclass n {\n  constructor() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n  }\n\n  normalize(t) {\n    const e = Math.sqrt(t[0] * t[0] + t[1] * t[1]);\n    t[0] /= e, t[1] /= e;\n  }\n\n  calculateLength(t, e) {\n    const s = e[0] - t[0],\n          n = e[1] - t[1];\n    return Math.sqrt(s * s + n * n);\n  }\n\n  calculateSegLength(t, e) {\n    return this.calculateLength(t[e], t[e + 1]);\n  }\n\n  calculatePathLength(t) {\n    let e = 0;\n    const s = t ? t.length : 0;\n\n    for (let n = 0; n < s - 1; ++n) e += this.calculateSegLength(t, n);\n\n    return e;\n  }\n\n  calculatePathArea(t) {\n    let e = 0;\n    const s = t ? t.length : 0;\n\n    for (let n = 0; n < s - 1; ++n) e += (t[n + 1][0] - t[n][0]) * (t[n + 1][1] + t[n][1]);\n\n    return e / 2;\n  }\n\n  getCoord2D(t, e, s) {\n    return [t[0] + (e[0] - t[0]) * s, t[1] + (e[1] - t[1]) * s];\n  }\n\n  getSegCoord2D(t, e, s) {\n    return this.getCoord2D(t[e], t[e + 1], s);\n  }\n\n  getAngle(t, e, s) {\n    const n = e[0] - t[0],\n          r = e[1] - t[1];\n    return Math.atan2(r, n);\n  }\n\n  getSegAngle(t, e, s) {\n    return this.getAngle(t[e], t[e + 1], s);\n  }\n\n  getAngleCS(t, e, s) {\n    const n = e[0] - t[0],\n          r = e[1] - t[1],\n          h = Math.sqrt(n * n + r * r);\n    return h > 0 ? [n / h, r / h] : [1, 0];\n  }\n\n  getSegAngleCS(t, e, s) {\n    return this.getAngleCS(t[e], t[e + 1], s);\n  }\n\n  cut(t, e, s, n) {\n    return [s <= 0 ? t[e] : this.getSegCoord2D(t, e, s), n >= 1 ? t[e + 1] : this.getSegCoord2D(t, e, n)];\n  }\n\n  addSegment(t, e, s) {\n    s && t.push(e[0]), t.push(e[1]);\n  }\n\n  getSubCurve(t, e, s) {\n    const n = [];\n    return this.appendSubCurve(n, t, e, s) ? n : null;\n  }\n\n  appendSubCurve(t, e, s, n) {\n    const r = e ? e.length - 1 : 0;\n    let h = 0,\n        l = !0,\n        o = 0;\n\n    for (; o < r;) {\n      const r = this.calculateSegLength(e, o);\n\n      if (0 !== r) {\n        if (l) {\n          if (h + r > s) {\n            const a = (s - h) / r;\n            let u = 1,\n                c = !1;\n            h + r >= n && (u = (n - h) / r, c = !0);\n            const i = this.cut(e, o, a, u);\n            if (i && this.addSegment(t, i, l), c) break;\n            l = !1;\n          }\n        } else {\n          if (h + r > n) {\n            const s = this.cut(e, o, 0, (n - h) / r);\n            s && this.addSegment(t, s, l);\n            break;\n          }\n\n          this.addSegment(t, [e[o], e[o + 1]], l);\n        }\n\n        h += r, ++o;\n      } else ++o;\n    }\n\n    return !0;\n  }\n\n  getCIMPointAlong(t, e) {\n    const s = t ? t.length - 1 : 0;\n    let n = 0,\n        r = -1;\n\n    for (; r < s;) {\n      ++r;\n      const s = this.calculateSegLength(t, r);\n\n      if (0 !== s) {\n        if (n + s > e) {\n          const h = (e - n) / s;\n          return this.getCoord2D(t[r], t[r + 1], h);\n        }\n\n        n += s;\n      }\n    }\n\n    return null;\n  }\n\n  isEmpty(t, e) {\n    if (!t || t.length <= 1) return !0;\n    const s = t ? t.length - 1 : 0;\n    let n = -1;\n\n    for (; n < s;) {\n      if (++n, t[n + 1][0] !== t[n][0] || t[n + 1][1] !== t[n][1]) return !1;\n      if (e && t[n + 1][2] !== t[n][2]) return !1;\n    }\n\n    return !0;\n  }\n\n  offset(e, s, n, r, h) {\n    if (!e || e.length < 2) return null;\n    let l = 0,\n        o = e[l++],\n        a = l;\n\n    for (; l < e.length;) {\n      const t = e[l];\n      t[0] === o[0] && t[1] === o[1] || (l !== a && (e[a] = e[l]), o = e[a++]), l++;\n    }\n\n    const u = e[0][0] === e[a - 1][0] && e[0][1] === e[a - 1][1];\n    if (u && --a, a < (u ? 3 : 2)) return null;\n    const c = [];\n    o = u ? e[a - 1] : null;\n    let i = e[0];\n\n    for (let g = 0; g < a; g++) {\n      const h = g === a - 1 ? u ? e[0] : null : e[g + 1];\n      if (o) {\n        if (h) {\n          const e = [h[0] - i[0], h[1] - i[1]];\n          this.normalize(e);\n          const l = [i[0] - o[0], i[1] - o[1]];\n          this.normalize(l);\n          const a = l[0] * e[1] - l[1] * e[0],\n                u = l[0] * e[0] + l[1] * e[1];\n\n          if (a >= 0 == s <= 0) {\n            if (u < 1) {\n              const t = [e[0] - l[0], e[1] - l[1]];\n              this.normalize(t);\n              const n = Math.sqrt((1 + u) / 2);\n\n              if (n > 1 / r) {\n                const e = -Math.abs(s) / n;\n                c.push([i[0] - t[0] * e, i[1] - t[1] * e]);\n              }\n            }\n          } else switch (n) {\n            case t.Mitered:\n              {\n                const t = Math.sqrt((1 + u) / 2);\n\n                if (t > 0 && 1 / t < r) {\n                  const n = [e[0] - l[0], e[1] - l[1]];\n                  this.normalize(n);\n                  const r = Math.abs(s) / t;\n                  c.push([i[0] - n[0] * r, i[1] - n[1] * r]);\n                  break;\n                }\n              }\n\n            case t.Bevelled:\n              c.push([i[0] + l[1] * s, i[1] - l[0] * s]), c.push([i[0] + e[1] * s, i[1] - e[0] * s]);\n              break;\n\n            case t.Rounded:\n              if (u < 1) {\n                c.push([i[0] + l[1] * s, i[1] - l[0] * s]);\n                const t = Math.floor(2.5 * (1 - u));\n\n                if (t > 0) {\n                  const n = 1 / t;\n                  let r = n;\n\n                  for (let h = 1; h < t; h++, r += n) {\n                    const t = [l[1] * (1 - r) + e[1] * r, -l[0] * (1 - r) - e[0] * r];\n                    this.normalize(t), c.push([i[0] + t[0] * s, i[1] + t[1] * s]);\n                  }\n                }\n\n                c.push([i[0] + e[1] * s, i[1] - e[0] * s]);\n              }\n\n              break;\n\n            case t.Square:\n            default:\n              if (a < 0) c.push([i[0] + (l[1] + l[0]) * s, i[1] + (l[1] - l[0]) * s]), c.push([i[0] + (e[1] - e[0]) * s, i[1] - (e[0] + e[1]) * s]);else {\n                const t = Math.sqrt((1 + Math.abs(u)) / 2),\n                      n = [e[0] - l[0], e[1] - l[1]];\n                this.normalize(n);\n                const r = s / t;\n                c.push([i[0] - n[0] * r, i[1] - n[1] * r]);\n              }\n          }\n        } else {\n          const t = [i[0] - o[0], i[1] - o[1]];\n          this.normalize(t), c.push([i[0] + t[1] * s, i[1] - t[0] * s]);\n        }\n      } else {\n        const t = [h[0] - i[0], h[1] - i[1]];\n        this.normalize(t), c.push([i[0] + t[1] * s, i[1] - t[0] * s]);\n      }\n      o = i, i = h;\n    }\n\n    return c.length < (u ? 3 : 2) ? null : (u && c.push([c[0][0], c[0][1]]), c);\n  }\n\n}\n\nexport { n as CurveHelper, e as PIXEL_TOLERANCE, s as PathHelper };","map":{"version":3,"sources":["D:/Github/CUSP_DataBase/CUSP_DB/src/main/gis/node_modules/@arcgis/core/symbols/cim/CurveHelper.js"],"names":["GeometricEffectOffsetMethod","t","e","s","constructor","_path","path","addPath","reverse","Array","prototype","push","apply","mergePath","startPath","lineTo","close","length","n","normalize","Math","sqrt","calculateLength","calculateSegLength","calculatePathLength","calculatePathArea","getCoord2D","getSegCoord2D","getAngle","r","atan2","getSegAngle","getAngleCS","h","getSegAngleCS","cut","addSegment","getSubCurve","appendSubCurve","l","o","a","u","c","i","getCIMPointAlong","isEmpty","offset","g","abs","Mitered","Bevelled","Rounded","floor","Square","CurveHelper","PIXEL_TOLERANCE","PathHelper"],"mappings":"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","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{GeometricEffectOffsetMethod as t}from\"./enums.js\";const e=.03;class s{constructor(){this._path=[]}path(){return this._path}addPath(t,e){e||t.reverse(),Array.prototype.push.apply(this._path,t),e||t.reverse()}static mergePath(t,e){e&&Array.prototype.push.apply(t,e)}startPath(t){this._path.push(t)}lineTo(t){this._path.push(t)}close(){const t=this._path;t.length>1&&(t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]))}}class n{constructor(t=0,e=!1){}normalize(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);t[0]/=e,t[1]/=e}calculateLength(t,e){const s=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(s*s+n*n)}calculateSegLength(t,e){return this.calculateLength(t[e],t[e+1])}calculatePathLength(t){let e=0;const s=t?t.length:0;for(let n=0;n<s-1;++n)e+=this.calculateSegLength(t,n);return e}calculatePathArea(t){let e=0;const s=t?t.length:0;for(let n=0;n<s-1;++n)e+=(t[n+1][0]-t[n][0])*(t[n+1][1]+t[n][1]);return e/2}getCoord2D(t,e,s){return[t[0]+(e[0]-t[0])*s,t[1]+(e[1]-t[1])*s]}getSegCoord2D(t,e,s){return this.getCoord2D(t[e],t[e+1],s)}getAngle(t,e,s){const n=e[0]-t[0],r=e[1]-t[1];return Math.atan2(r,n)}getSegAngle(t,e,s){return this.getAngle(t[e],t[e+1],s)}getAngleCS(t,e,s){const n=e[0]-t[0],r=e[1]-t[1],h=Math.sqrt(n*n+r*r);return h>0?[n/h,r/h]:[1,0]}getSegAngleCS(t,e,s){return this.getAngleCS(t[e],t[e+1],s)}cut(t,e,s,n){return[s<=0?t[e]:this.getSegCoord2D(t,e,s),n>=1?t[e+1]:this.getSegCoord2D(t,e,n)]}addSegment(t,e,s){s&&t.push(e[0]),t.push(e[1])}getSubCurve(t,e,s){const n=[];return this.appendSubCurve(n,t,e,s)?n:null}appendSubCurve(t,e,s,n){const r=e?e.length-1:0;let h=0,l=!0,o=0;for(;o<r;){const r=this.calculateSegLength(e,o);if(0!==r){if(l){if(h+r>s){const a=(s-h)/r;let u=1,c=!1;h+r>=n&&(u=(n-h)/r,c=!0);const i=this.cut(e,o,a,u);if(i&&this.addSegment(t,i,l),c)break;l=!1}}else{if(h+r>n){const s=this.cut(e,o,0,(n-h)/r);s&&this.addSegment(t,s,l);break}this.addSegment(t,[e[o],e[o+1]],l)}h+=r,++o}else++o}return!0}getCIMPointAlong(t,e){const s=t?t.length-1:0;let n=0,r=-1;for(;r<s;){++r;const s=this.calculateSegLength(t,r);if(0!==s){if(n+s>e){const h=(e-n)/s;return this.getCoord2D(t[r],t[r+1],h)}n+=s}}return null}isEmpty(t,e){if(!t||t.length<=1)return!0;const s=t?t.length-1:0;let n=-1;for(;n<s;){if(++n,t[n+1][0]!==t[n][0]||t[n+1][1]!==t[n][1])return!1;if(e&&t[n+1][2]!==t[n][2])return!1}return!0}offset(e,s,n,r,h){if(!e||e.length<2)return null;let l=0,o=e[l++],a=l;for(;l<e.length;){const t=e[l];t[0]===o[0]&&t[1]===o[1]||(l!==a&&(e[a]=e[l]),o=e[a++]),l++}const u=e[0][0]===e[a-1][0]&&e[0][1]===e[a-1][1];if(u&&--a,a<(u?3:2))return null;const c=[];o=u?e[a-1]:null;let i=e[0];for(let g=0;g<a;g++){const h=g===a-1?u?e[0]:null:e[g+1];if(o)if(h){const e=[h[0]-i[0],h[1]-i[1]];this.normalize(e);const l=[i[0]-o[0],i[1]-o[1]];this.normalize(l);const a=l[0]*e[1]-l[1]*e[0],u=l[0]*e[0]+l[1]*e[1];if(a>=0==s<=0){if(u<1){const t=[e[0]-l[0],e[1]-l[1]];this.normalize(t);const n=Math.sqrt((1+u)/2);if(n>1/r){const e=-Math.abs(s)/n;c.push([i[0]-t[0]*e,i[1]-t[1]*e])}}}else switch(n){case t.Mitered:{const t=Math.sqrt((1+u)/2);if(t>0&&1/t<r){const n=[e[0]-l[0],e[1]-l[1]];this.normalize(n);const r=Math.abs(s)/t;c.push([i[0]-n[0]*r,i[1]-n[1]*r]);break}}case t.Bevelled:c.push([i[0]+l[1]*s,i[1]-l[0]*s]),c.push([i[0]+e[1]*s,i[1]-e[0]*s]);break;case t.Rounded:if(u<1){c.push([i[0]+l[1]*s,i[1]-l[0]*s]);const t=Math.floor(2.5*(1-u));if(t>0){const n=1/t;let r=n;for(let h=1;h<t;h++,r+=n){const t=[l[1]*(1-r)+e[1]*r,-l[0]*(1-r)-e[0]*r];this.normalize(t),c.push([i[0]+t[0]*s,i[1]+t[1]*s])}}c.push([i[0]+e[1]*s,i[1]-e[0]*s])}break;case t.Square:default:if(a<0)c.push([i[0]+(l[1]+l[0])*s,i[1]+(l[1]-l[0])*s]),c.push([i[0]+(e[1]-e[0])*s,i[1]-(e[0]+e[1])*s]);else{const t=Math.sqrt((1+Math.abs(u))/2),n=[e[0]-l[0],e[1]-l[1]];this.normalize(n);const r=s/t;c.push([i[0]-n[0]*r,i[1]-n[1]*r])}}}else{const t=[i[0]-o[0],i[1]-o[1]];this.normalize(t),c.push([i[0]+t[1]*s,i[1]-t[0]*s])}else{const t=[h[0]-i[0],h[1]-i[1]];this.normalize(t),c.push([i[0]+t[1]*s,i[1]-t[0]*s])}o=i,i=h}return c.length<(u?3:2)?null:(u&&c.push([c[0][0],c[0][1]]),c)}}export{n as CurveHelper,e as PIXEL_TOLERANCE,s as PathHelper};\n"]},"metadata":{},"sourceType":"module"}