{"ast":null,"code":"import _classCallCheck from\"D:/Github/UTDB/UtDataBase/UtahWellsDB/utah_wells_db/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Github/UTDB/UtDataBase/UtahWellsDB/utah_wells_db/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/Github/UTDB/UtDataBase/UtahWellsDB/utah_wells_db/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Github/UTDB/UtDataBase/UtahWellsDB/utah_wells_db/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _slicedToArray from\"D:/Github/UTDB/UtDataBase/UtahWellsDB/utah_wells_db/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import mapboxgl from'mapbox-gl';import{useMap}from'../useMap/useMap';import\"mapbox-gl/dist/mapbox-gl.css\";import s from\"./Map.module.css\";import{LayerControl}from\"../layerControl/LayerControl\";import ReactDOM from\"react-dom\";import AddressSearch from'../elements/addressSearch';import XySearch from'../elements/xySearch';import Buff from'../elements/bufferS';import PrintPage from'../elements/printPage';//import {Source} from \"react-map-gl\";\n//import Layer from \"react-mapbox-gl/lib-esm/layer\"; // eslint-disable-line import/no-webpack-loader-syntax\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";mapboxgl.accessToken='pk.eyJ1Ijoic2xjbGVpIiwiYSI6ImNsMXV6czRnYjJkbnQzZG1qMHRxeGd0YmoifQ.mvtESpI1GCIdTrWSupNEIw';var Popup=function Popup(_ref){var featureName=_ref.featureName,featureNumber=_ref.featureNumber,field=_ref.field,type=_ref.type;return/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"popField\",children:[\"WellName: \",featureName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"popField\",children:[\"API: \",featureNumber]}),/*#__PURE__*/_jsxs(\"p\",{className:\"popField\",children:[\"WellType: \",type]}),/*#__PURE__*/_jsxs(\"p\",{className:\"popField\",children:[\"FieldName: \",field]})]});};export function Wellmap(){var mapContainer=useRef(null);var _useState=useState(-111.6),_useState2=_slicedToArray(_useState,2),lng=_useState2[0],setLong=_useState2[1];var _useState3=useState(39.2),_useState4=_slicedToArray(_useState3,2),lat=_useState4[0],setLat=_useState4[1];var _useState5=useState(6),_useState6=_slicedToArray(_useState5,2),zoom=_useState6[0],setZoom=_useState6[1];var _useState7=useState(1500),_useState8=_slicedToArray(_useState7,2),height=_useState8[0],setHight=_useState8[1];var popUpRef=useRef(new mapboxgl.Popup({offset:15}));var _useMap=useMap(mapContainer,{style:\"mapbox://styles/mapbox/outdoors-v11\",center:[lng,lat],zoom:zoom}),layers=_useMap.layers,map=_useMap.map,updateLayerVisibility=_useMap.updateLayerVisibility;var LayerControlWhole=/*#__PURE__*/function(_React$Component){_inherits(LayerControlWhole,_React$Component);var _super=_createSuper(LayerControlWhole);function LayerControlWhole(){var _this;_classCallCheck(this,LayerControlWhole);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={showing:false};return _this;}_createClass(LayerControlWhole,[{key:\"render\",value:function render(){var _this2=this;var showing=this.state.showing;return/*#__PURE__*/_jsxs(\"div\",{className:\"LayerC\",children:[/*#__PURE__*/_jsx(\"i\",{style:{cursor:\"pointer\"},className:\"material-icons md-50\",id:\"layersIcon\",\"uib-tooltip\":\"Layers\",onClick:function onClick(){return _this2.setState({showing:!showing});},children:\"layers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"popover-message\",children:\"Layer Control\"}),showing?/*#__PURE__*/_jsx(LayerControl,{id:\"inMapLegend2\",layers:layers,onToggle:updateLayerVisibility}):null]});}}]);return LayerControlWhole;}(React.Component);map===null||map===void 0?void 0:map.on(\"click\",function(e){if(map.getContainer==null){return;}var bbox=[[e.point.x-3,e.point.y-3],[e.point.x+3,e.point.y+3]];var features=map===null||map===void 0?void 0:map.queryRenderedFeatures(bbox,{layers:[\"wellsInUTLayer\"]});if(features.length>0){var feature=features[0];{var _feature$properties,_feature$properties2;// create popup node\nvar popupNode=document.createElement(\"div\");ReactDOM.render(/*#__PURE__*/_jsx(Popup,{featureName:feature===null||feature===void 0?void 0:(_feature$properties=feature.properties)===null||_feature$properties===void 0?void 0:_feature$properties.wellname,featureNumber:feature===null||feature===void 0?void 0:(_feature$properties2=feature.properties)===null||_feature$properties2===void 0?void 0:_feature$properties2.api,field:undefined,type:undefined}),popupNode);popUpRef.current.setLngLat(e.lngLat).setDOMContent(popupNode).addTo(map);}}});map===null||map===void 0?void 0:map.on('mousemove',function(e){document.getElementById('show-location').innerHTML=// `e.point` is the x, y coordinates of the `mousemove` event\n// relative to the top-left corner of the map.\nJSON.stringify(e.point)+'<br />'+// `e.lngLat` is the longitude, latitude geographical position of the event.\nJSON.stringify(e.lngLat.wrap());});return/*#__PURE__*/_jsxs(\"div\",{className:\"well-map-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"headerRect\",style:{width:\"100%\",height:40,maxWidth:\"100%\"},children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:\"10px 5px 10px 10px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"public\"})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:\"10px 5px\",fontWeight:\"bold\"},className:\"header3Text\",children:\"Map\"}),/*#__PURE__*/_jsx(\"td\",{id:\"show-location\",style:{width:\"50vw\"}}),/*#__PURE__*/_jsx(\"td\",{id:\"addressIconDiv\",style:{padding:\"10px 5px\"},children:/*#__PURE__*/_jsx(AddressSearch,{})}),/*#__PURE__*/_jsx(\"td\",{id:\"xyIconDiv\",style:{padding:\"10px 5px\"},children:/*#__PURE__*/_jsx(XySearch,{})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:\"10px 5px\"},children:/*#__PURE__*/_jsxs(\"div\",{id:\"pointSelectDiv\",children:[/*#__PURE__*/_jsx(\"i\",{id:\"activePointSelectIcon\",style:{cursor:\"pointer\"},className:\"material-icons\",\"uib-tooltip\":\"Select Wells by Click\",children:\"near_me\"}),/*#__PURE__*/_jsx(\"i\",{id:\"deactivatePointSelectIcon\",style:{cursor:\"pointer\",display:\"none\"},className:\"material-icons\",\"uib-tooltip\":\"Select Wells by Click\",children:\"near_me\"})]})}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:\"10px 5px\"},children:[/*#__PURE__*/_jsxs(\"div\",{id:\"rectangleSelectDiv\",children:[/*#__PURE__*/_jsx(\"i\",{id:\"activeRectangleSelectIcon\",style:{cursor:\"pointer\"},className:\"material-icons\",\"uib-tooltip\":\"Select Wells by Rectangle\",children:\"rectangle\"}),/*#__PURE__*/_jsx(\"i\",{id:\"deactivateRectangleSelectIcon\",style:{cursor:\"pointer\",display:\"none\"},className:\"material-icons\",\"uib-tooltip\":\"Select Wells by Rectangle\",children:\"rectangle\"})]}),/*#__PURE__*/_jsx(\"i\",{id:\"inactiveRectangleSelectIcon\",className:\"material-icons\",style:{display:\"none\"},children:\"rectangle\"})]}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:\"10px 5px\"},children:[/*#__PURE__*/_jsx(\"i\",{id:\"inactivePolygonSelectIcon\",className:\"material-icons\",style:{display:\"none\"},children:\"polyline\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"polygonSelectDiv\",children:[/*#__PURE__*/_jsx(\"i\",{id:\"activePolygonSelectIcon\",style:{cursor:\"pointer\",opacity:\"0.5\"},className:\"material-icons\",\"uib-tooltip\":\"Select Wells by Polygon\",children:\"polyline\"}),/*#__PURE__*/_jsx(\"i\",{id:\"deactivatePolygonSelectIcon\",style:{cursor:\"pointer\",display:\"none\"},className:\"material-icons\",\"uib-tooltip\":\"Select Wells by Polygon\",children:\"polyline\"})]})]}),/*#__PURE__*/_jsx(\"td\",{id:\"bufferIconDiv\",style:{padding:\"10px 5px\"},children:/*#__PURE__*/_jsx(Buff,{})}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:\"10px 5px\"},children:[/*#__PURE__*/_jsx(\"i\",{id:\"activeMapClearIcon\",style:{cursor:\"pointer\"},className:\"material-icons\",\"uib-tooltip\":\"Clear Selection\",children:\"clear\"}),/*#__PURE__*/_jsx(\"i\",{id:\"inactiveMapClearIcon\",className:\"material-icons\",style:{display:\"none\"},\"uib-tooltip\":\"Clear Selection\",children:\"clear\"})]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:\"10px 5px\"},children:/*#__PURE__*/_jsxs(\"div\",{id:\"measureDistanceDiv\",children:[/*#__PURE__*/_jsx(\"i\",{id:\"activeMeasureDistanceIcon\",style:{cursor:\"pointer\"},className:\"material-icons\",\"uib-tooltip\":\"Measure Distance\",children:\"straighten\"}),/*#__PURE__*/_jsx(\"i\",{id:\"deactivateMeasureDistanceIcon\",style:{cursor:\"pointer\",display:\"none\"},className:\"material-icons\",\"uib-tooltip\":\"Measure Distance\",children:\"straighten\"})]})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:\"10px 5px\"},children:/*#__PURE__*/_jsxs(\"div\",{id:\"measureAreaDiv\",children:[/*#__PURE__*/_jsx(\"i\",{id:\"activeMeasureAreaIcon\",style:{cursor:\"pointer\"},className:\"material-icons\",\"uib-tooltip\":\"Measure Area\",children:\"area_chart\"}),/*#__PURE__*/_jsx(\"i\",{id:\"deactivateMeasureAreaIcon\",style:{cursor:\"pointer\",display:\"none\"},className:\"material-icons\",\"uib-tooltip\":\"Measure Area\",children:\"area_chart\"})]})}),/*#__PURE__*/_jsx(\"td\",{id:\"printIconDiv\",style:{padding:\"10px 5px\"},children:/*#__PURE__*/_jsx(PrintPage,{})})]})})})}),/*#__PURE__*/_jsx(\"div\",{id:\"map\",className:s.map,ref:mapContainer,children:/*#__PURE__*/_jsx(LayerControlWhole,{})})]});}","map":{"version":3,"sources":["D:/Github/UTDB/UtDataBase/UtahWellsDB/utah_wells_db/src/basemap/Basemap.tsx"],"names":["React","useRef","useState","mapboxgl","useMap","s","LayerControl","ReactDOM","AddressSearch","XySearch","Buff","PrintPage","accessToken","Popup","featureName","featureNumber","field","type","Wellmap","mapContainer","lng","setLong","lat","setLat","zoom","setZoom","height","setHight","popUpRef","offset","style","center","layers","map","updateLayerVisibility","LayerControlWhole","state","showing","cursor","setState","Component","on","e","getContainer","bbox","point","x","y","features","queryRenderedFeatures","length","feature","popupNode","document","createElement","render","properties","wellname","api","undefined","current","setLngLat","lngLat","setDOMContent","addTo","getElementById","innerHTML","JSON","stringify","wrap","width","maxWidth","padding","fontWeight","display","opacity"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport { useMap } from '../useMap/useMap';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport s from \"./Map.module.css\";\nimport { LayerControl } from \"../layerControl/LayerControl\";\nimport ReactDOM from \"react-dom\";\nimport AddressSearch from '../elements/addressSearch';\nimport XySearch from '../elements/xySearch';\nimport Buff from '../elements/bufferS';\nimport PrintPage from '../elements/printPage';\n//import {Source} from \"react-map-gl\";\n//import Layer from \"react-mapbox-gl/lib-esm/layer\"; // eslint-disable-line import/no-webpack-loader-syntax\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoic2xjbGVpIiwiYSI6ImNsMXV6czRnYjJkbnQzZG1qMHRxeGd0YmoifQ.mvtESpI1GCIdTrWSupNEIw';\n\nconst Popup = ({ featureName, featureNumber, field, type }: { featureName: any, featureNumber: any, field: any, type: any }) => (\n  <div className=\"popup\">\n    <p className=\"popField\">WellName: {featureName}</p>\n    <p className=\"popField\">API: {featureNumber}</p>\n    <p className=\"popField\">WellType: {type}</p>\n    <p className=\"popField\">FieldName: {field}</p>\n  </div>\n);\n\nexport function Wellmap(): any {\n  const mapContainer = useRef(null);\n  const [lng, setLong] = useState(-111.6);\n  const [lat, setLat] = useState(39.2);\n  const [zoom, setZoom] = useState(6);\n  const [height, setHight] = useState(1500);\n  const popUpRef = useRef(new mapboxgl.Popup({ offset: 15 }));\n\n  const { layers, map, updateLayerVisibility } = useMap(mapContainer, {\n    style: \"mapbox://styles/mapbox/outdoors-v11\",\n    center: [lng, lat],\n    zoom: zoom,\n  });\n\n  class LayerControlWhole extends React.Component {\n    state = { showing: false };\n\n    render() {\n      const { showing } = this.state;\n\n      return (\n        <div className=\"LayerC\">\n          <i\n            style={{ cursor: \"pointer\" }}\n            className=\"material-icons md-50\"\n            id=\"layersIcon\"\n            uib-tooltip=\"Layers\"\n            onClick={() => this.setState({ showing: !showing })}>\n            layers\n          </i>\n          <div className='popover-message'>Layer Control</div>\n          {showing\n            ? <LayerControl id=\"inMapLegend2\" layers={layers} onToggle={updateLayerVisibility} />\n            : null\n          }\n        </div>\n      )\n    }\n  }\n\n  map?.on(\"click\", (e: { point: any; lngLat: any; }) => {\n    if (map.getContainer == null) {\n      return;\n    }\n    const bbox = [\n      [e.point.x - 3, e.point.y - 3],\n      [e.point.x + 3, e.point.y + 3]\n    ];\n    const features = map?.queryRenderedFeatures(bbox, {\n      layers: [\"wellsInUTLayer\"],\n    });\n    if (features.length > 0) {\n      const feature = features[0];\n      {\n        // create popup node\n        const popupNode = document.createElement(\"div\");\n        ReactDOM.render(\n          <Popup\n            featureName={feature?.properties?.wellname}\n            featureNumber={feature?.properties?.api} field={undefined} type={undefined} />,\n          popupNode\n        );\n        popUpRef.current\n          .setLngLat(e.lngLat)\n          .setDOMContent(popupNode)\n          .addTo(map);\n      }\n    }\n  });\n\n  map?.on('mousemove', (e: { point: any; lngLat: any; }) => {\n    document.getElementById('show-location')!.innerHTML =\n      // `e.point` is the x, y coordinates of the `mousemove` event\n      // relative to the top-left corner of the map.\n      JSON.stringify(e.point) +\n      '<br />' +\n      // `e.lngLat` is the longitude, latitude geographical position of the event.\n      JSON.stringify(e.lngLat.wrap());\n  });\n\n  return (\n    <div className=\"well-map-wrapper\">\n      <div\n        className=\"headerRect\"\n        style={{ width: \"100%\", height: 40, maxWidth: \"100%\" }}\n      >\n        <table>\n          <tbody>\n            <tr>\n              <td style={{ padding: \"10px 5px 10px 10px\" }}>\n                <i className=\"material-icons\">public</i>\n              </td>\n              <td\n                style={{ padding: \"10px 5px\", fontWeight: \"bold\" }}\n                className=\"header3Text\"\n              >\n                Map\n              </td>\n              <td id=\"show-location\" style={{width:\"50vw\"}}/>\n              <td id=\"addressIconDiv\" style={{ padding: \"10px 5px\" }}>\n                <AddressSearch />\n              </td>\n              <td id=\"xyIconDiv\" style={{ padding: \"10px 5px\" }}>\n                <XySearch />\n              </td>\n              <td style={{ padding: \"10px 5px\" }}>\n                <div id=\"pointSelectDiv\">\n                  <i\n                    id=\"activePointSelectIcon\"\n                    style={{ cursor: \"pointer\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Select Wells by Click\"\n                  >\n                    near_me\n                  </i>\n                  <i\n                    id=\"deactivatePointSelectIcon\"\n                    style={{ cursor: \"pointer\", display: \"none\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Select Wells by Click\"\n                  >\n                    near_me\n                  </i>\n                </div>\n              </td>\n              <td style={{ padding: \"10px 5px\" }}>\n                <div id=\"rectangleSelectDiv\">\n                  <i\n                    id=\"activeRectangleSelectIcon\"\n                    style={{ cursor: \"pointer\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Select Wells by Rectangle\"\n                  >\n                    rectangle\n                  </i>\n                  <i\n                    id=\"deactivateRectangleSelectIcon\"\n                    style={{ cursor: \"pointer\", display: \"none\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Select Wells by Rectangle\"\n                  >\n                    rectangle\n                  </i>\n                </div>\n                <i\n                  id=\"inactiveRectangleSelectIcon\"\n                  className=\"material-icons\"\n                  style={{ display: \"none\" }}\n                >\n                  rectangle\n                </i>\n              </td>\n              <td style={{ padding: \"10px 5px\" }}>\n                <i\n                  id=\"inactivePolygonSelectIcon\"\n                  className=\"material-icons\"\n                  style={{ display: \"none\" }}\n                >\n                  polyline\n                </i>\n                <div id=\"polygonSelectDiv\">\n                  <i\n                    id=\"activePolygonSelectIcon\"\n                    style={{ cursor: \"pointer\", opacity: \"0.5\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Select Wells by Polygon\"\n                  >\n                    polyline\n                  </i>\n                  <i\n                    id=\"deactivatePolygonSelectIcon\"\n                    style={{ cursor: \"pointer\", display: \"none\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Select Wells by Polygon\"\n                  >\n                    polyline\n                  </i>\n                </div>\n              </td>\n              <td id=\"bufferIconDiv\" style={{ padding: \"10px 5px\" }}>\n                <Buff />\n              </td>\n              <td style={{ padding: \"10px 5px\" }}>\n                <i\n                  id=\"activeMapClearIcon\"\n                  style={{ cursor: \"pointer\" }}\n                  className=\"material-icons\"\n                  uib-tooltip=\"Clear Selection\"\n                >\n                  clear\n                </i>\n                <i\n                  id=\"inactiveMapClearIcon\"\n                  className=\"material-icons\"\n                  style={{ display: \"none\" }}\n                  uib-tooltip=\"Clear Selection\"\n                >\n                  clear\n                </i>\n              </td>\n              <td style={{ padding: \"10px 5px\" }}>\n                <div id=\"measureDistanceDiv\">\n                  <i\n                    id=\"activeMeasureDistanceIcon\"\n                    style={{ cursor: \"pointer\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Measure Distance\"\n                  >\n                    straighten\n                  </i>\n                  <i\n                    id=\"deactivateMeasureDistanceIcon\"\n                    style={{ cursor: \"pointer\", display: \"none\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Measure Distance\"\n                  >\n                    straighten\n                  </i>\n                </div>\n              </td>\n              <td style={{ padding: \"10px 5px\" }}>\n                <div id=\"measureAreaDiv\">\n                  <i\n                    id=\"activeMeasureAreaIcon\"\n                    style={{ cursor: \"pointer\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Measure Area\"\n                  >\n                    area_chart\n                  </i>\n                  <i\n                    id=\"deactivateMeasureAreaIcon\"\n                    style={{ cursor: \"pointer\", display: \"none\" }}\n                    className=\"material-icons\"\n                    uib-tooltip=\"Measure Area\"\n                  >\n                    area_chart\n                  </i>\n                </div>\n              </td>\n              <td id=\"printIconDiv\" style={{ padding: \"10px 5px\" }}>\n                <PrintPage />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div id=\"map\" className={s.map} ref={mapContainer}>\n\n        <LayerControlWhole />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}