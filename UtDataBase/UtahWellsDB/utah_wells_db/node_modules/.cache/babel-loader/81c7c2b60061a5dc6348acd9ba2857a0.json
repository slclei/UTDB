{"ast":null,"code":"var _jsxFileName = \"D:\\\\Github\\\\UTDB\\\\UtDataBase\\\\UtahWellsDB\\\\utah_wells_db\\\\src\\\\basemap\\\\Basemap.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport { useMap } from '../useMap/useMap';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport s from \"./Map.module.css\";\nimport { LayerControl } from \"../layerControl/LayerControl\";\nimport ReactDOM from \"react-dom\"; //import {Source} from \"react-map-gl\";\n//import Layer from \"react-mapbox-gl/lib-esm/layer\"; // eslint-disable-line import/no-webpack-loader-syntax\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmapboxgl.accessToken = 'pk.eyJ1Ijoic2xjbGVpIiwiYSI6ImNsMXV6czRnYjJkbnQzZG1qMHRxeGd0YmoifQ.mvtESpI1GCIdTrWSupNEIw';\n\nconst Popup = _ref => {\n  let {\n    featureName,\n    featureNumber,\n    field,\n    type\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"popField\",\n      children: [\"WellName: \", featureName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"popField\",\n      children: [\"API: \", featureNumber]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"popField\",\n      children: [\"WellType: \", type]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"popField\",\n      children: [\"FieldName: \", field]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 3\n  }, this);\n};\n\n_c = Popup;\nexport function Wellmap() {\n  _s();\n\n  const mapContainer = useRef(null);\n  const [lng, setLong] = useState(-111.6);\n  const [lat, setLat] = useState(39.2);\n  const [zoom, setZoom] = useState(6);\n  const [height, setHight] = useState(1500);\n  const popUpRef = useRef(new mapboxgl.Popup({\n    offset: 15\n  }));\n  const {\n    layers,\n    map,\n    updateLayerVisibility\n  } = useMap(mapContainer, {\n    style: \"mapbox://styles/mapbox/outdoors-v11\",\n    center: [lng, lat],\n    zoom: zoom\n  });\n\n  class LayerControlWhole extends React.Component {\n    constructor() {\n      super(...arguments);\n      this.state = {\n        showing: false\n      };\n    }\n\n    render() {\n      const {\n        showing\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"LayerC\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          style: {\n            cursor: \"pointer\"\n          },\n          className: \"material-icons md-50\",\n          id: \"layersIcon\",\n          \"uib-tooltip\": \"Layers\",\n          onClick: () => this.setState({\n            showing: !showing\n          }),\n          children: \"layers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popover-message\",\n          children: \"Layer Control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), showing ? /*#__PURE__*/_jsxDEV(LayerControl, {\n          id: \"inMapLegend2\",\n          layers: layers,\n          onToggle: updateLayerVisibility\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 23\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this);\n    }\n\n  }\n\n  map === null || map === void 0 ? void 0 : map.on(\"click\", e => {\n    if (map.getContainer == null) {\n      return;\n    }\n\n    const bbox = [[e.point.x - 3, e.point.y - 3], [e.point.x + 3, e.point.y + 3]];\n    const features = map === null || map === void 0 ? void 0 : map.queryRenderedFeatures(e === null || e === void 0 ? void 0 : e.lngLat, {\n      layers: [\"wellsInUTLayer\"]\n    });\n\n    if (features.length > 0) {\n      const feature = features[0];\n      {\n        var _feature$properties, _feature$properties2;\n\n        // create popup node\n        const popupNode = document.createElement(\"div\");\n        ReactDOM.render( /*#__PURE__*/_jsxDEV(Popup, {\n          featureName: feature === null || feature === void 0 ? void 0 : (_feature$properties = feature.properties) === null || _feature$properties === void 0 ? void 0 : _feature$properties.wellname,\n          featureNumber: feature === null || feature === void 0 ? void 0 : (_feature$properties2 = feature.properties) === null || _feature$properties2 === void 0 ? void 0 : _feature$properties2.api,\n          field: undefined,\n          type: undefined\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), popupNode);\n        popUpRef.current.setLngLat(e.lngLat).setDOMContent(popupNode).addTo(map);\n      }\n    }\n  });\n  map === null || map === void 0 ? void 0 : map.on('mousemove', e => {\n    document.getElementById('show-location').innerHTML = // `e.point` is the x, y coordinates of the `mousemove` event\n    // relative to the top-left corner of the map.\n    JSON.stringify(e.point) + '<br />' + // `e.lngLat` is the longitude, latitude geographical position of the event.\n    JSON.stringify(e.lngLat.wrap());\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    className: s.map,\n    ref: mapContainer,\n    children: /*#__PURE__*/_jsxDEV(LayerControlWhole, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Wellmap, \"2f838ZeV1VBtZF8bYD6/z2+O7P0=\", false, function () {\n  return [useMap];\n});\n\n_c2 = Wellmap;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Popup\");\n$RefreshReg$(_c2, \"Wellmap\");","map":{"version":3,"sources":["D:/Github/UTDB/UtDataBase/UtahWellsDB/utah_wells_db/src/basemap/Basemap.tsx"],"names":["React","useRef","useState","mapboxgl","useMap","s","LayerControl","ReactDOM","accessToken","Popup","featureName","featureNumber","field","type","Wellmap","mapContainer","lng","setLong","lat","setLat","zoom","setZoom","height","setHight","popUpRef","offset","layers","map","updateLayerVisibility","style","center","LayerControlWhole","Component","state","showing","render","cursor","setState","on","e","getContainer","bbox","point","x","y","features","queryRenderedFeatures","lngLat","length","feature","popupNode","document","createElement","properties","wellname","api","undefined","current","setLngLat","setDOMContent","addTo","getElementById","innerHTML","JSON","stringify","wrap"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport {useMap} from '../useMap/useMap';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport s from \"./Map.module.css\";\nimport {LayerControl} from \"../layerControl/LayerControl\";\nimport ReactDOM from \"react-dom\";\n//import {Source} from \"react-map-gl\";\n//import Layer from \"react-mapbox-gl/lib-esm/layer\"; // eslint-disable-line import/no-webpack-loader-syntax\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoic2xjbGVpIiwiYSI6ImNsMXV6czRnYjJkbnQzZG1qMHRxeGd0YmoifQ.mvtESpI1GCIdTrWSupNEIw';\n\nconst Popup = ({ featureName, featureNumber, field, type }: { featureName: any, featureNumber: any, field: any, type: any }) => (\n  <div className=\"popup\">\n    <p className=\"popField\">WellName: {featureName}</p>\n    <p className=\"popField\">API: {featureNumber}</p>\n    <p className=\"popField\">WellType: {type}</p>\n    <p className=\"popField\">FieldName: {field}</p>\n  </div>\n);\n\nexport function Wellmap(): any {\n  const mapContainer = useRef(null);\n  const [lng, setLong] = useState(-111.6);\n  const [lat, setLat] = useState(39.2);\n  const [zoom, setZoom] = useState(6);\n  const [height,setHight]=useState(1500);\n  const popUpRef = useRef(new mapboxgl.Popup({ offset: 15 }));\n\n  const { layers, map, updateLayerVisibility } = useMap(mapContainer, {\n    style: \"mapbox://styles/mapbox/outdoors-v11\",\n    center: [lng,lat],\n    zoom: zoom,\n  });\n\n  class LayerControlWhole extends React.Component {\n    state = { showing: false };\n\n    render() {\n        const { showing } = this.state;\n        \n        return (\n            <div className=\"LayerC\">\n                <i\n                    style={{ cursor: \"pointer\"}}\n                    className=\"material-icons md-50\"\n                    id=\"layersIcon\"\n                    uib-tooltip=\"Layers\"\n                    onClick={() => this.setState({ showing: !showing })}>\n                          layers\n                </i>\n                <div className='popover-message'>Layer Control</div>\n                { showing \n                    ? <LayerControl id=\"inMapLegend2\" layers={layers} onToggle={updateLayerVisibility} />\n                    : null\n                }\n            </div>  \n        )\n    }\n}\n\nmap?.on(\"click\", (e: { point: any; lngLat: any; }) => {\n  if (map.getContainer==null){\n    return;\n  }\n  const bbox = [\n    [e.point.x - 3, e.point.y - 3],\n    [e.point.x + 3, e.point.y + 3]\n    ];\n  const features = map?.queryRenderedFeatures(e?.lngLat, {\n    layers: [\"wellsInUTLayer\"],\n  });\n  if (features.length > 0) {\n    const feature = features[0];\n    {\n      // create popup node\n      const popupNode = document.createElement(\"div\");\n      ReactDOM.render(\n        <Popup\n          featureName={feature?.properties?.wellname}\n          featureNumber={feature?.properties?.api} field={undefined} type={undefined}        />,\n        popupNode\n      );\n      popUpRef.current\n        .setLngLat(e.lngLat)\n        .setDOMContent(popupNode)\n        .addTo(map);\n    }\n  }\n});\n\nmap?.on('mousemove', (e:  { point: any; lngLat: any; }) => {\n  document.getElementById('show-location')!.innerHTML =\n  // `e.point` is the x, y coordinates of the `mousemove` event\n  // relative to the top-left corner of the map.\n  JSON.stringify(e.point) +\n  '<br />' +\n  // `e.lngLat` is the longitude, latitude geographical position of the event.\n  JSON.stringify(e.lngLat.wrap());\n  });\n\n  return (\n    <div id=\"map\" className={s.map} ref={mapContainer}>  \n      \n      <LayerControlWhole />  \n    </div>  \n  );\n}\n"]},"metadata":{},"sourceType":"module"}